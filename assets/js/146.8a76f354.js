(window.webpackJsonp=window.webpackJsonp||[]).push([[146],{1040:function(t,s,a){"use strict";a.r(s);var n=a(50),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"tree-shaking"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tree-shaking"}},[t._v("#")]),t._v(" Tree Shaking")]),t._v(" "),a("p",[t._v("Tree Shaking ç¿»è¯‘è¿‡æ¥çš„æ„æ€å°±æ˜¯â€œæ‘‡æ ‘â€ã€‚ä¼´éšç€æ‘‡æ ‘çš„åŠ¨ä½œï¼Œæ ‘ä¸Šçš„æ¯æ ‘æå’Œæ ‘å¶å°±ä¼šæ‰è½ä¸‹æ¥ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬è¿™é‡Œè¦ä»‹ç»çš„ Tree-shaking ä¹Ÿæ˜¯åŒæ ·çš„é“ç†ï¼Œä¸è¿‡é€šè¿‡ Tree-shaking â€œæ‘‡æ‰â€çš„æ˜¯ä»£ç ä¸­é‚£äº›æ²¡æœ‰ç”¨åˆ°çš„éƒ¨åˆ†ï¼Œè¿™éƒ¨åˆ†æ²¡æœ‰ç”¨çš„ä»£ç æ›´ä¸“ä¸šçš„è¯´æ³•åº”è¯¥å«ä½œæœªå¼•ç”¨ä»£ç ï¼ˆdead-codeï¼‰ã€‚")]),t._v(" "),a("p",[t._v("Tree-shaking æœ€æ—©æ˜¯ "),a("a",{attrs:{href:"https://rollupjs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Rollup"),a("OutboundLink")],1),t._v(" å·¥å…·ä¸­æ¨å‡ºçš„ä¸€ä¸ªç‰¹æ€§ï¼ŒWebpack ä» 2.0 è¿‡åå¼€å§‹æ”¯æŒè¿™ä¸ªç‰¹æ€§ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ä½¿ç”¨ Webpack ç”Ÿäº§æ¨¡å¼æ‰“åŒ…è¿‡ç¨‹ä¸­ï¼Œå°±ä¼šè‡ªåŠ¨å¼€å¯è¿™ä¸ªåŠŸèƒ½ï¼Œä»¥æ­¤æ¥æ£€æµ‹æˆ‘ä»¬ä»£ç ä¸­çš„æœªå¼•ç”¨ä»£ç ï¼Œç„¶åè‡ªåŠ¨ç§»é™¤å®ƒä»¬ï¼Œä»è€Œè¾¾åˆ°å¯¹æ‰“åŒ…ç»“æœçš„ä¼˜åŒ–ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥å…ˆæ¥ä½“éªŒä¸€ä¸‹è¿™ä¸ªåŠŸèƒ½çš„æ•ˆæœï¼Œè¿™é‡Œæˆ‘çš„æºä»£ç éå¸¸ç®€å•ï¼Œåªæœ‰ä¸¤ä¸ªæ–‡ä»¶ã€‚")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("â””â”€ "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("09")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("tree"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("shaking\n   â”œâ”€â”€ src\n   â”‚   â”œâ”€â”€ components"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n   â”‚   â””â”€â”€ main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n   â”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json\n   â””â”€â”€ webpack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n")])])]),a("p",[t._v("å…¶ä¸­ components.js ä¸­å¯¼å‡ºäº†ä¸€äº›å‡½æ•°ï¼Œè¿™äº›å‡½æ•°å„è‡ªæ¨¡æ‹Ÿäº†ä¸€ä¸ªç»„ä»¶ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ./src/components.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("Button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'button'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dead-code'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("Link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("Heading")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("level")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'h'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" level"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å…¶ä¸­ Button ç»„ä»¶å‡½æ•°ä¸­ï¼Œåœ¨ "),a("code",[t._v("return")]),t._v(" è¿‡åè¿˜æœ‰ä¸€ä¸ª "),a("code",[t._v("console.log()")]),t._v(" è¯­å¥ï¼Œå¾ˆæ˜æ˜¾è¿™å¥ä»£ç æ°¸è¿œéƒ½ä¸ä¼šè¢«æ‰§è¡Œï¼Œæ‰€ä»¥è¿™ä¸ª "),a("code",[t._v("console.log()")]),t._v(" å°±å±äºæœªå¼•ç”¨ä»£ç ã€‚")]),t._v(" "),a("p",[t._v("æ­¤å¤–ï¼Œåœ¨ main.js æ–‡ä»¶ä¸­åªæ˜¯å¯¼å…¥äº† compnents.jsï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ./src/main.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Button "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./components'")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("æ³¨æ„è¿™é‡Œå¯¼å…¥ components æ¨¡å—æ—¶ï¼Œæˆ‘ä»¬åªæå–äº†æ¨¡å—ä¸­çš„ Button æˆå‘˜ï¼Œé‚£è¿™å°±å¯¼è‡´ components æ¨¡å—ä¸­å¾ˆå¤šåœ°æ–¹éƒ½ä¸ä¼šè¢«ç”¨åˆ°ï¼Œé‚£è¿™äº›åœ°æ–¹å°±æ˜¯å†—ä½™çš„ï¼Œå…·ä½“å†—ä½™éƒ¨åˆ†å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ./src/components.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("Button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'button'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æœªå¼•ç”¨ä»£ç ")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dead-code'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æœªå¼•ç”¨ä»£ç ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("Link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æœªå¼•ç”¨ä»£ç ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("Heading")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("level")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'h'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" level"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("å»é™¤å†—ä½™ä»£ç ")]),t._v("æ˜¯ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–ä¸­ä¸€ä¸ªå¾ˆé‡è¦çš„å·¥ä½œï¼ŒWebpack çš„ Tree-shaking åŠŸèƒ½å°±å¾ˆå¥½åœ°å®ç°äº†è¿™ä¸€ç‚¹ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ï¼Œè¿™é‡Œæˆ‘ä»¬å°è¯•ä»¥ production æ¨¡å¼è¿è¡Œæ‰“åŒ…ï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ npx webpack --mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("production\n")])])]),a("p",[t._v("Webpack çš„ Tree-shaking ç‰¹æ€§åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹ä¼šè‡ªåŠ¨å¼€å¯ã€‚æ‰“åŒ…å®Œæˆä»¥åæˆ‘ä»¬æ‰“å¼€è¾“å‡ºçš„ bundle.jsï¼Œå…·ä½“ç»“æœå¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://img-repo.poetries.top/images/20210503215843.png",alt:""}})]),t._v(" "),a("p",[t._v("é€šè¿‡æœç´¢ä½ ä¼šå‘ç°ï¼Œcomponents æ¨¡å—ä¸­å†—ä½™çš„ä»£ç æ ¹æœ¬æ²¡æœ‰è¾“å‡ºã€‚è¿™å°±æ˜¯ç»è¿‡ Tree-shaking å¤„ç†è¿‡åçš„æ•ˆæœã€‚")]),t._v(" "),a("p",[t._v("è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å¼•å…¥ "),a("a",{attrs:{href:"https://lodash.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Lodash"),a("OutboundLink")],1),t._v(" è¿™ç§å·¥å…·åº“ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹æˆ‘ä»¬åªä¼šä½¿ç”¨å…¶ä¸­çš„æŸå‡ ä¸ªå·¥å…·å‡½æ•°ï¼Œè€Œå…¶ä»–æ²¡æœ‰ç”¨åˆ°çš„éƒ¨åˆ†å°±éƒ½å±äºå†—ä½™ä»£ç ã€‚é€šè¿‡ Tree-shaking å°±å¯ä»¥æå¤§åœ°å‡å°‘æœ€ç»ˆæ‰“åŒ…å bundle çš„ä½“ç§¯ã€‚")]),t._v(" "),a("p",[t._v("éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ"),a("strong",[t._v("Tree-shaking å¹¶ä¸æ˜¯æŒ‡ Webpack ä¸­çš„æŸä¸€ä¸ªé…ç½®é€‰é¡¹ï¼Œè€Œæ˜¯ä¸€ç»„åŠŸèƒ½æ­é…ä½¿ç”¨è¿‡åå®ç°çš„æ•ˆæœ")]),t._v("ï¼Œè¿™ç»„åŠŸèƒ½åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹éƒ½ä¼šè‡ªåŠ¨å¯ç”¨ï¼Œæ‰€ä»¥ä½¿ç”¨ç”Ÿäº§æ¨¡å¼æ‰“åŒ…å°±ä¼šæœ‰ Tree-shaking çš„æ•ˆæœã€‚")]),t._v(" "),a("h3",{attrs:{id:"å¼€å¯-tree-shaking"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å¯-tree-shaking"}},[t._v("#")]),t._v(" å¼€å¯ Tree Shaking")]),t._v(" "),a("p",[t._v("ç”±äºç›®å‰å®˜æ–¹æ–‡æ¡£ä¸­å¯¹äº Tree-shaking çš„ä»‹ç»æœ‰ç‚¹æ··ä¹±ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå†æ¥ä»‹ç»ä¸€ä¸‹åœ¨å…¶ä»–æ¨¡å¼ä¸‹ï¼Œå¦‚ä½•ä¸€æ­¥ä¸€æ­¥æ‰‹åŠ¨å¼€å¯ Tree-shakingã€‚é€šè¿‡è¿™ä¸ªè¿‡ç¨‹ï¼Œè¿˜å¯ä»¥é¡ºä¾¿äº†è§£ Tree-shaking çš„å·¥ä½œè¿‡ç¨‹å’Œ Webpack å…¶ä»–çš„ä¸€äº›ä¼˜åŒ–åŠŸèƒ½ã€‚")]),t._v(" "),a("p",[t._v("è¿™é‡Œè¿˜æ˜¯ä½¿ç”¨ä¸Šè¿°çš„æ¡ˆä¾‹ç»“æ„ï¼Œæˆ‘ä»¬å†æ¬¡è¿è¡Œ Webpack æ‰“åŒ…ï¼Œä¸è¿‡è¿™ä¸€æ¬¡æˆ‘ä»¬ä¸å†ä½¿ç”¨ production æ¨¡å¼ï¼Œè€Œæ˜¯ä½¿ç”¨ noneï¼Œä¹Ÿå°±æ˜¯ä¸å¼€å¯ä»»ä½•å†…ç½®åŠŸèƒ½å’Œæ’ä»¶ï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ npx webpack --mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("none\n")])])]),a("p",[t._v("æ‰“åŒ…å®Œæˆè¿‡åï¼Œæˆ‘ä»¬å†æ¬¡æ‰¾åˆ°è¾“å‡ºçš„ bundle.js æ–‡ä»¶ï¼Œå…·ä½“ç»“æœå¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://img-repo.poetries.top/images/20210503215857.png",alt:""}})]),t._v(" "),a("p",[t._v("æˆ‘ä»¬è¿™é‡Œæ³¨æ„ä¸€ä¸‹ components å¯¹åº”çš„è¿™ä¸ªæ¨¡å—ï¼Œè™½ç„¶å¤–éƒ¨æ²¡æœ‰ä½¿ç”¨è¿™é‡Œçš„ "),a("code",[t._v("Link")]),t._v(" å‡½æ•°å’Œ "),a("code",[t._v("Heading")]),t._v(" å‡½æ•°ï¼Œä½†æ˜¯ä»ç„¶å¯¼å‡ºäº†å®ƒä»¬ï¼Œå…·ä½“å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://img-repo.poetries.top/images/20210503215912.png",alt:""}})]),t._v(" "),a("p",[t._v("æ˜¾ç„¶è¿™ç§å¯¼å‡ºæ˜¯æ²¡æœ‰ä»»ä½•æ„ä¹‰çš„ã€‚")]),t._v(" "),a("p",[t._v("æ˜ç¡®ç›®å‰æ‰“åŒ…ç»“æœçš„çŠ¶æ€è¿‡åï¼Œæˆ‘ä»¬æ‰“å¼€ Webpack çš„é…ç½®æ–‡ä»¶ï¼Œåœ¨é…ç½®å¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ª "),a("code",[t._v("optimization")]),t._v(" å±æ€§ï¼Œè¿™ä¸ªå±æ€§ç”¨æ¥é›†ä¸­é…ç½® Webpack å†…ç½®ä¼˜åŒ–åŠŸèƒ½ï¼Œå®ƒçš„å€¼ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚")]),t._v(" "),a("p",[t._v("åœ¨ "),a("code",[t._v("optimization")]),t._v(" å¯¹è±¡ä¸­æˆ‘ä»¬å¯ä»¥å…ˆå¼€å¯ä¸€ä¸ª "),a("code",[t._v("usedExports")]),t._v(" é€‰é¡¹ï¼Œè¡¨ç¤ºåœ¨è¾“å‡ºç»“æœä¸­åªå¯¼å‡ºå¤–éƒ¨ä½¿ç”¨äº†çš„æˆå‘˜ï¼Œå…·ä½“é…ç½®ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ./webpack.config.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** @type {import('webpack').Configuration} */")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... å…¶ä»–é…ç½®é¡¹")]),t._v("\n  optimization"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¨¡å—åªå¯¼å‡ºè¢«ä½¿ç”¨çš„æˆå‘˜")]),t._v("\n    usedExports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("é…ç½®å®Œæˆåï¼Œé‡æ–°æ‰“åŒ…ï¼Œç„¶åæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹è¾“å‡ºçš„ bundle.jsï¼Œå…·ä½“ç»“æœå¦‚ä¸‹å›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://img-repo.poetries.top/images/20210503215920.png",alt:""}})]),t._v(" "),a("p",[t._v("æ­¤æ—¶ä½ ä¼šå‘ç° components æ¨¡å—æ‰€å¯¹åº”çš„å‡½æ•°ï¼Œå°±ä¸å†å¯¼å‡º "),a("code",[t._v("Link")]),t._v(" å’Œ "),a("code",[t._v("Heading")]),t._v(" è¿™ä¸¤ä¸ªå‡½æ•°äº†ï¼Œé‚£å®ƒä»¬å¯¹åº”çš„ä»£ç å°±å˜æˆäº†æœªå¼•ç”¨ä»£ç ã€‚è€Œä¸”å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ VS Codeï¼Œä¼šå‘ç° VS Code å°†è¿™ä¸¤ä¸ªå‡½æ•°åçš„é¢œè‰²å˜æ·¡äº†ï¼Œè¿™æ˜¯ä¸ºäº†è¡¨ç¤ºå®ƒä»¬æœªè¢«å¼•ç”¨ã€‚")]),t._v(" "),a("p",[t._v("å¯¹äºè¿™ç§æœªå¼•ç”¨ä»£ç ï¼Œå¦‚æœæˆ‘ä»¬å¼€å¯å‹ç¼©ä»£ç åŠŸèƒ½ï¼Œå°±å¯ä»¥è‡ªåŠ¨å‹ç¼©æ‰è¿™äº›æ²¡æœ‰ç”¨åˆ°çš„ä»£ç ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥å›åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œå°è¯•åœ¨ "),a("code",[t._v("optimization")]),t._v(" é…ç½®ä¸­å¼€å¯ "),a("code",[t._v("minimize")]),t._v("ï¼Œå…·ä½“é…ç½®å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ./webpack.config.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** @type {import('webpack').Configuration} */")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... å…¶ä»–é…ç½®é¡¹")]),t._v("\n  optimization"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¨¡å—åªå¯¼å‡ºè¢«ä½¿ç”¨çš„æˆå‘˜")]),t._v("\n    usedExports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‹ç¼©è¾“å‡ºç»“æœ")]),t._v("\n    minimize"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç„¶åå†æ¬¡å›åˆ°å‘½ä»¤è¡Œé‡æ–°è¿è¡Œæ‰“åŒ…ï¼Œå…·ä½“ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://img-repo.poetries.top/images/20210503215929.png",alt:""}})]),t._v(" "),a("p",[t._v("ä»”ç»†æŸ¥çœ‹æ‰“åŒ…ç»“æœï¼Œä½ ä¼šå‘ç°ï¼Œ"),a("code",[t._v("Link")]),t._v(" å’Œ "),a("code",[t._v("Heading")]),t._v(" è¿™äº›æœªå¼•ç”¨ä»£ç éƒ½è¢«è‡ªåŠ¨ç§»é™¤äº†ã€‚")]),t._v(" "),a("p",[t._v("è¿™å°±æ˜¯ Tree-shaking çš„å®ç°ï¼Œæ•´ä¸ªè¿‡ç¨‹ç”¨åˆ°äº† Webpack çš„ä¸¤ä¸ªä¼˜åŒ–åŠŸèƒ½ï¼š")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("usedExports")]),t._v(" - æ‰“åŒ…ç»“æœä¸­åªå¯¼å‡ºå¤–éƒ¨ç”¨åˆ°çš„æˆå‘˜ï¼›")]),t._v(" "),a("li",[a("strong",[t._v("minimize")]),t._v(" - å‹ç¼©æ‰“åŒ…ç»“æœã€‚")])]),t._v(" "),a("p",[t._v("å¦‚æœæŠŠæˆ‘ä»¬çš„ä»£ç çœ‹æˆä¸€æ£µå¤§æ ‘ï¼Œé‚£ä½ å°±å¯ä»¥è¿™æ ·ç†è§£ï¼š")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("usedExports")]),t._v(" çš„ä½œç”¨å°±æ˜¯æ ‡è®°æ ‘ä¸Šå“ªäº›æ˜¯æ¯æ ‘æã€æ¯æ ‘å¶ï¼›")]),t._v(" "),a("li",[a("strong",[t._v("minimize")]),t._v(" çš„ä½œç”¨å°±æ˜¯è´Ÿè´£æŠŠæ¯æ ‘æã€æ¯æ ‘å¶æ‘‡ä¸‹æ¥ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"åˆå¹¶æ¨¡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆå¹¶æ¨¡å—"}},[t._v("#")]),t._v(" åˆå¹¶æ¨¡å— *")]),t._v(" "),a("p",[t._v("é™¤äº† "),a("code",[t._v("usedExports")]),t._v(" é€‰é¡¹ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ä¸€ä¸ª "),a("code",[t._v("concatenateModules")]),t._v(" é€‰é¡¹ç»§ç»­ä¼˜åŒ–è¾“å‡ºã€‚")]),t._v(" "),a("p",[t._v("æ™®é€šæ‰“åŒ…åªæ˜¯å°†ä¸€ä¸ªæ¨¡å—æœ€ç»ˆæ”¾å…¥ä¸€ä¸ªå•ç‹¬çš„å‡½æ•°ä¸­ï¼Œå¦‚æœæˆ‘ä»¬çš„æ¨¡å—å¾ˆå¤šï¼Œå°±æ„å‘³ç€åœ¨è¾“å‡ºç»“æœä¸­ä¼šæœ‰å¾ˆå¤šçš„æ¨¡å—å‡½æ•°ã€‚")]),t._v(" "),a("p",[a("code",[t._v("concatenateModules")]),t._v(" é…ç½®çš„ä½œç”¨å°±æ˜¯å°½å¯èƒ½å°†æ‰€æœ‰æ¨¡å—åˆå¹¶åˆ°ä¸€èµ·è¾“å‡ºåˆ°ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œè¿™æ ·æ—¢æå‡äº†è¿è¡Œæ•ˆç‡ï¼Œåˆå‡å°‘äº†ä»£ç çš„ä½“ç§¯ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å›åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œè¿™é‡Œæˆ‘ä»¬åœ¨ "),a("code",[t._v("optimization")]),t._v(" å±æ€§ä¸­å¼€å¯ "),a("code",[t._v("concatenateModules")]),t._v("ã€‚åŒæ—¶ï¼Œä¸ºäº†æ›´å¥½åœ°çœ‹åˆ°æ•ˆæœï¼Œæˆ‘ä»¬å…ˆå…³é—­ "),a("code",[t._v("minimize")]),t._v("ï¼Œå…·ä½“é…ç½®å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ./webpack.config.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** @type {import('webpack').Configuration} */")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... å…¶ä»–é…ç½®é¡¹")]),t._v("\n  optimization"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¨¡å—åªå¯¼å‡ºè¢«ä½¿ç”¨çš„æˆå‘˜")]),t._v("\n    usedExports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°½å¯èƒ½åˆå¹¶æ¯ä¸€ä¸ªæ¨¡å—åˆ°ä¸€ä¸ªå‡½æ•°ä¸­")]),t._v("\n    concatenateModules"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‹ç¼©è¾“å‡ºç»“æœ")]),t._v("\n    minimize"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç„¶åå›åˆ°å‘½ä»¤è¡Œç»ˆç«¯å†æ¬¡è¿è¡Œæ‰“åŒ…ã€‚é‚£æ­¤æ—¶ bundle.js ä¸­å°±ä¸å†æ˜¯ä¸€ä¸ªæ¨¡å—å¯¹åº”ä¸€ä¸ªå‡½æ•°äº†ï¼Œè€Œæ˜¯æŠŠæ‰€æœ‰çš„æ¨¡å—éƒ½æ”¾åˆ°äº†ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå…·ä½“ç»“æœå¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://img-repo.poetries.top/images/20210503215938.png",alt:""}})]),t._v(" "),a("p",[t._v("è¿™ä¸ªç‰¹æ€§åˆè¢«ç§°ä¸º "),a("strong",[t._v("Scope Hoisting")]),t._v("ï¼Œä¹Ÿå°±æ˜¯ä½œç”¨åŸŸæå‡ï¼Œå®ƒæ˜¯ Webpack 3.0 ä¸­æ·»åŠ çš„ä¸€ä¸ªç‰¹æ€§ã€‚")]),t._v(" "),a("p",[t._v("å¦‚æœå†é…åˆ "),a("code",[t._v("minimize")]),t._v(" é€‰é¡¹ï¼Œæ‰“åŒ…ç»“æœçš„ä½“ç§¯åˆä¼šå‡å°å¾ˆå¤šã€‚")]),t._v(" "),a("h3",{attrs:{id:"ç»“åˆ-babel-loader-çš„é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»“åˆ-babel-loader-çš„é—®é¢˜"}},[t._v("#")]),t._v(" ç»“åˆ babel-loader çš„é—®é¢˜")]),t._v(" "),a("p",[t._v("å› ä¸ºæ—©æœŸçš„ Webpack å‘å±•éå¸¸å¿«ï¼Œé‚£å˜åŒ–ä¹Ÿå°±æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥å½“æˆ‘ä»¬å»æ‰¾èµ„æ–™æ—¶ï¼Œå¾—åˆ°çš„ç»“æœä¸ä¸€å®šé€‚ç”¨äºå½“å‰æˆ‘ä»¬æ‰€ä½¿ç”¨çš„ç‰ˆæœ¬ã€‚è€Œ Tree-shaking çš„èµ„æ–™æ›´æ˜¯å¦‚æ­¤ï¼Œå¾ˆå¤šèµ„æ–™ä¸­éƒ½è¡¨ç¤ºâ€œ"),a("em",[t._v("ä¸º JS æ¨¡å—é…ç½® babel-loaderï¼Œä¼šå¯¼è‡´ Tree-shaking å¤±æ•ˆ")]),t._v("â€ã€‚")]),t._v(" "),a("p",[t._v("é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œè¿™é‡Œæˆ‘ç»Ÿä¸€è¯´æ˜ä¸€ä¸‹ï¼š")]),t._v(" "),a("p",[t._v("é¦–å…ˆä½ éœ€è¦æ˜ç¡®ä¸€ç‚¹ï¼š"),a("strong",[t._v("Tree-shaking å®ç°çš„å‰ææ˜¯ ES Modules")]),t._v("ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š"),a("strong",[t._v("æœ€ç»ˆäº¤ç»™ Webpack æ‰“åŒ…çš„ä»£ç ï¼Œå¿…é¡»æ˜¯ä½¿ç”¨ ES Modules çš„æ–¹å¼æ¥ç»„ç»‡çš„æ¨¡å—åŒ–")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬éƒ½çŸ¥é“ Webpack åœ¨æ‰“åŒ…æ‰€æœ‰çš„æ¨¡å—ä»£ç ä¹‹å‰ï¼Œå…ˆæ˜¯å°†æ¨¡å—æ ¹æ®é…ç½®äº¤ç»™ä¸åŒçš„ Loader å¤„ç†ï¼Œæœ€åå†å°† Loader å¤„ç†çš„ç»“æœæ‰“åŒ…åˆ°ä¸€èµ·ã€‚")]),t._v(" "),a("p",[t._v("å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¸ºäº†æ›´å¥½çš„å…¼å®¹æ€§ï¼Œä¼šé€‰æ‹©ä½¿ç”¨ "),a("a",{attrs:{href:"https://github.com/babel/babel-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel-loader"),a("OutboundLink")],1),t._v(" å»è½¬æ¢æˆ‘ä»¬æºä»£ç ä¸­çš„ä¸€äº› ECMAScript çš„æ–°ç‰¹æ€§ã€‚è€Œ Babel åœ¨è½¬æ¢ JS ä»£ç æ—¶ï¼Œå¾ˆæœ‰å¯èƒ½å¤„ç†æ‰æˆ‘ä»¬ä»£ç ä¸­çš„ ES Modules éƒ¨åˆ†ï¼ŒæŠŠå®ƒä»¬è½¬æ¢æˆ CommonJS çš„æ–¹å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://img-repo.poetries.top/images/20210503215948.png",alt:""}})]),t._v(" "),a("p",[t._v("å½“ç„¶äº†ï¼ŒBabel å…·ä½“ä¼šä¸ä¼šå¤„ç† ES Modules ä»£ç ï¼Œå–å†³äºæˆ‘ä»¬æœ‰æ²¡æœ‰ä¸ºå®ƒé…ç½®ä½¿ç”¨è½¬æ¢ ES Modules çš„æ’ä»¶ã€‚")]),t._v(" "),a("p",[t._v("å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¸º Babel é…ç½®çš„éƒ½æ˜¯ä¸€ä¸ª "),a("code",[t._v("preset")]),t._v("ï¼ˆé¢„è®¾æ’ä»¶é›†åˆï¼‰ï¼Œè€Œä¸æ˜¯æŸäº›å…·ä½“çš„æ’ä»¶ã€‚ä¾‹å¦‚ï¼Œç›®å‰å¸‚é¢ä¸Šä½¿ç”¨æœ€å¤šçš„ "),a("a",{attrs:{href:"https://babeljs.io/docs/en/babel-preset-env",target:"_blank",rel:"noopener noreferrer"}},[t._v("@babel/preset-env"),a("OutboundLink")],1),t._v("ï¼Œè¿™ä¸ªé¢„è®¾é‡Œé¢å°±æœ‰"),a("a",{attrs:{href:"https://babeljs.io/docs/en/babel-plugin-transform-modules-commonjs",target:"_blank",rel:"noopener noreferrer"}},[t._v("è½¬æ¢ ES Modules çš„æ’ä»¶"),a("OutboundLink")],1),t._v("ã€‚æ‰€ä»¥å½“æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªé¢„è®¾æ—¶ï¼Œä»£ç ä¸­çš„ ES Modules éƒ¨åˆ†å°±ä¼šè¢«è½¬æ¢æˆ CommonJS æ–¹å¼ã€‚é‚£ Webpack å†å»æ‰“åŒ…æ—¶ï¼Œæ‹¿åˆ°çš„å°±æ˜¯ä»¥ CommonJS æ–¹å¼ç»„ç»‡çš„ä»£ç äº†ï¼Œæ‰€ä»¥ Tree-shaking ä¸èƒ½ç”Ÿæ•ˆã€‚")]),t._v(" "),a("p",[t._v("é‚£æˆ‘ä»¬è¿™é‡Œå…·ä½“æ¥å°è¯•ä¸€ä¸‹ã€‚ä¸ºäº†å¯ä»¥æ›´å®¹æ˜“åˆ†è¾¨ç»“æœï¼Œæˆ‘ä»¬åªå¼€å¯ usedExportsï¼Œå®Œæ•´é…ç½®å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ./webpack.config.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** @type {import('webpack').Configuration} */")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'none'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/main.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bundle.js'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  module"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    rules"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.js$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        use"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          loader"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'babel-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          options"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            presets"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@babel/preset-env'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  optimization"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    usedExports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("é…ç½®å®Œæˆè¿‡åï¼Œæˆ‘ä»¬æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ï¼Œè¿è¡Œ Webpack æ‰“åŒ…å‘½ä»¤ï¼Œç„¶åå†æ‰¾åˆ° bundle.jsï¼Œå…·ä½“ç»“æœå¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://img-repo.poetries.top/images/20210503215958.png",alt:""}})]),t._v(" "),a("p",[t._v("ä»”ç»†æŸ¥çœ‹ä½ ä¼šå‘ç°ï¼Œç»“æœå¹¶ä¸æ˜¯åƒåˆšåˆšè¯´çš„é‚£æ ·ï¼Œ"),a("strong",[t._v("è¿™é‡Œ usedExports åŠŸèƒ½ä»ç„¶æ­£å¸¸å·¥ä½œäº†")]),t._v("ï¼Œæ­¤æ—¶ï¼Œå¦‚æœæˆ‘ä»¬å‹ç¼©ä»£ç ï¼Œè¿™äº›æœªå¼•ç”¨çš„ä»£ç ä¾ç„¶ä¼šè¢«ç§»é™¤ã€‚è¿™ä¹Ÿå°±è¯´æ˜ Tree-shaking å¹¶æ²¡æœ‰å¤±æ•ˆã€‚")]),t._v(" "),a("p",[t._v("é‚£åˆ°åº•æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿä¸ºä»€ä¹ˆå¾ˆå¤šèµ„æ–™éƒ½è¯´ babel-loader ä¼šå¯¼è‡´ Tree-shaking å¤±æ•ˆï¼Œä½†å½“æˆ‘ä»¬å®é™…å°è¯•ååˆå‘ç°å¹¶æ²¡æœ‰å¤±æ•ˆï¼Ÿ")]),t._v(" "),a("p",[t._v("å…¶å®ï¼Œè¿™æ˜¯å› ä¸º"),a("strong",[t._v("åœ¨æœ€æ–°ç‰ˆæœ¬ï¼ˆ8.xï¼‰çš„ babel-loader ä¸­ï¼Œå·²ç»è‡ªåŠ¨å¸®æˆ‘ä»¬å…³é—­äº†å¯¹ ES Modules è½¬æ¢çš„æ’ä»¶")]),t._v("ï¼Œä½ å¯ä»¥å‚è€ƒ"),a("a",{attrs:{href:"https://github.com/babel/babel-loader/blob/v8.1.0/src/injectCaller.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¯¹åº”ç‰ˆæœ¬ babel-loader çš„æºç "),a("OutboundLink")],1),t._v("ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://img-repo.poetries.top/images/20210503220008.png",alt:""}})]),t._v(" "),a("p",[t._v("é€šè¿‡æŸ¥é˜… babel-loader æ¨¡å—çš„æºç ï¼Œæˆ‘ä»¬å‘ç°å®ƒå·²ç»åœ¨ "),a("code",[t._v("injectCaller")]),t._v(" å‡½æ•°ä¸­æ ‡è¯†äº†å½“å‰ç¯å¢ƒæ”¯æŒ ES Modulesã€‚")]),t._v(" "),a("p",[t._v("ç„¶åå†æ‰¾åˆ°æˆ‘ä»¬æ‰€ä½¿ç”¨çš„ @babal/preset-env æ¨¡å—æºç ï¼Œéƒ¨åˆ†æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://img-repo.poetries.top/images/20210503220015.png",alt:""}})]),t._v(" "),a("p",[t._v("åœ¨è¿™ä¸ªæ¨¡å—ä¸­ï¼Œæ ¹æ®ç¯å¢ƒæ ‡è¯†è‡ªåŠ¨ç¦ç”¨äº†å¯¹ ES Modules çš„è½¬æ¢æ’ä»¶ï¼Œæ‰€ä»¥"),a("strong",[t._v("ç»è¿‡ babel-loader å¤„ç†åçš„ä»£ç é»˜è®¤ä»ç„¶æ˜¯ ES Modules")]),t._v("ï¼Œé‚£ Webpack æœ€ç»ˆæ‰“åŒ…å¾—åˆ°çš„è¿˜æ˜¯ ES Modules ä»£ç ï¼ŒTree-shaking è‡ªç„¶ä¹Ÿå°±å¯ä»¥æ­£å¸¸å·¥ä½œäº†ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ babel-loader çš„é…ç½®ä¸­å¼ºåˆ¶å¼€å¯ ES Modules è½¬æ¢æ’ä»¶æ¥è¯•ä¸€ä¸‹ï¼Œå…·ä½“é…ç½®å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ./webpack.config.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** @type {import('webpack').Configuration} */")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'none'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/main.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bundle.js'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  module"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    rules"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.js$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        use"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          loader"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'babel-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          options"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            presets"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@babel/preset-env'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" modules"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'commonjs'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  optimization"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    usedExports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç»™ Babel çš„ Preset æ·»åŠ é…ç½®çš„æ–¹å¼æ¯”è¾ƒç‰¹åˆ«ï¼Œè¿™é‡Œå¾ˆå¤šäººéƒ½ä¼šé…é”™ï¼Œä¸€å®šè¦æ³¨æ„ã€‚å®ƒéœ€è¦æŠŠé¢„è®¾æ•°ç»„ä¸­çš„æˆå‘˜å®šä¹‰æˆä¸€ä¸ªæ•°ç»„ï¼Œç„¶åè¿™ä¸ªæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªæˆå‘˜å°±æ˜¯æ‰€ä½¿ç”¨çš„ Preset çš„åç§°ï¼Œç¬¬äºŒä¸ªæˆå‘˜å°±æ˜¯ç»™è¿™ä¸ª Preset å®šä¹‰çš„é…ç½®å¯¹è±¡ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬åœ¨è¿™ä¸ªå¯¹è±¡ä¸­å°† "),a("code",[t._v("modules")]),t._v(" å±æ€§è®¾ç½®ä¸º "),a("code",[t._v("'commonjs'")]),t._v("ï¼Œé»˜è®¤è¿™ä¸ªå±æ€§æ˜¯ "),a("code",[t._v("'auto'")]),t._v("ï¼Œä¹Ÿå°±æ˜¯æ ¹æ®ç¯å¢ƒåˆ¤æ–­æ˜¯å¦å¼€å¯ ES Modules æ’ä»¶ï¼Œæˆ‘ä»¬è®¾ç½®ä¸º "),a("code",[t._v("'commonjs'")]),t._v(" å°±è¡¨ç¤ºæˆ‘ä»¬å¼ºåˆ¶ä½¿ç”¨ Babel çš„ ES Modules æ’ä»¶æŠŠä»£ç ä¸­çš„ ES Modules è½¬æ¢ä¸º CommonJSã€‚")]),t._v(" "),a("p",[t._v("å®Œæˆä»¥åï¼Œæˆ‘ä»¬å†æ¬¡æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ï¼Œè¿è¡Œ Webpack æ‰“åŒ…ã€‚ç„¶åæ‰¾åˆ° bundle.jsï¼Œç»“æœå¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://img-repo.poetries.top/images/20210503220024.png",alt:""}})]),t._v(" "),a("p",[t._v("æ­¤æ—¶ï¼Œä½ å°±ä¼šå‘ç° usedExports æ²¡æ³•ç”Ÿæ•ˆäº†ã€‚å³ä¾¿æˆ‘ä»¬å¼€å¯å‹ç¼©ä»£ç ï¼ŒTree-shaking ä¹Ÿä¼šå¤±æ•ˆã€‚")]),t._v(" "),a("p",[t._v("æ€»ç»“ä¸€ä¸‹ï¼Œè¿™é‡Œé€šè¿‡å®éªŒå‘ç°ï¼Œæœ€æ–°ç‰ˆæœ¬çš„ babel-loader å¹¶ä¸ä¼šå¯¼è‡´ Tree-shaking å¤±æ•ˆã€‚å¦‚æœä½ ä¸ç¡®å®šç°åœ¨ä½¿ç”¨çš„ babel-loader ä¼šä¸ä¼šå¯¼è‡´è¿™ä¸ªé—®é¢˜ï¼Œæœ€ç®€å•çš„åŠæ³•å°±æ˜¯åœ¨é…ç½®ä¸­å°† @babel/preset-env çš„ "),a("code",[t._v("modules")]),t._v(" å±æ€§è®¾ç½®ä¸º "),a("code",[t._v("false")]),t._v("ï¼Œç¡®ä¿ä¸ä¼šè½¬æ¢ ES Modulesï¼Œä¹Ÿå°±ç¡®ä¿äº† Tree-shaking çš„å‰æã€‚")]),t._v(" "),a("p",[t._v("å¦å¤–ï¼Œæˆ‘ä»¬åˆšåˆšæ¢ç´¢çš„è¿‡ç¨‹ä¹Ÿå€¼å¾—ä½ ä»”ç»†å†å»ç¢ç£¨ä¸€ä¸‹ï¼Œé€šè¿‡è¿™æ ·çš„æ¢ç´¢èƒ½å¤Ÿå¸®åŠ©ä½ äº†è§£å¾ˆå¤šèƒŒåçš„åŸå› ï¼Œåšåˆ°â€œçŸ¥å…¶ç„¶ï¼ŒçŸ¥å…¶æ‰€ä»¥ç„¶â€ã€‚")]),t._v(" "),a("h2",{attrs:{id:"sideeffects"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sideeffects"}},[t._v("#")]),t._v(" sideEffects")]),t._v(" "),a("p",[t._v("Webpack 4 ä¸­æ–°å¢äº†ä¸€ä¸ª sideEffects ç‰¹æ€§ï¼Œå®ƒå…è®¸æˆ‘ä»¬é€šè¿‡é…ç½®æ ‡è¯†æˆ‘ä»¬çš„ä»£ç æ˜¯å¦æœ‰å‰¯ä½œç”¨ï¼Œä»è€Œæä¾›æ›´å¤§çš„å‹ç¼©ç©ºé—´ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("ğŸ’¡ï¼šæ¨¡å—çš„å‰¯ä½œç”¨æŒ‡çš„å°±æ˜¯æ¨¡å—æ‰§è¡Œçš„æ—¶å€™é™¤äº†å¯¼å‡ºæˆå‘˜ï¼Œæ˜¯å¦è¿˜åšäº†å…¶ä»–çš„äº‹æƒ…ã€‚")])]),t._v(" "),a("p",[t._v("è¿™ä¸ªç‰¹æ€§ä¸€èˆ¬åªæœ‰æˆ‘ä»¬å»å¼€å‘ä¸€ä¸ª npm æ¨¡å—æ—¶æ‰ä¼šç”¨åˆ°ã€‚å› ä¸ºå®˜ç½‘æŠŠå¯¹ sideEffects ç‰¹æ€§çš„ä»‹ç»è·Ÿ Tree-shaking æ··åˆ°äº†ä¸€èµ·ï¼Œæ‰€ä»¥å¾ˆå¤šäººè¯¯è®¤ä¸ºå®ƒä»¬ä¹‹é—´æ˜¯å› æœå…³ç³»ï¼Œä¸ªäººè§‚ç‚¹ï¼Œå®ƒä»¬å…¶å®æ²¡æœ‰ä»€ä¹ˆå¤ªå¤§çš„å…³ç³»ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å…ˆæŠŠ sideEffects ç‰¹æ€§æœ¬èº«çš„ä½œç”¨å¼„æ˜ç™½ï¼Œä½ å°±æ›´å®¹æ˜“ç†è§£ä¸ºä»€ä¹ˆè¯´å®ƒè·Ÿ Tree-shaking æ²¡ä»€ä¹ˆå…³ç³»äº†ã€‚")]),t._v(" "),a("p",[t._v("è¿™é‡Œæˆ‘å…ˆè®¾è®¡ä¸€ä¸ª sideEffects èƒ½å¤Ÿå‘æŒ¥æ•ˆæœçš„åœºæ™¯ï¼Œæ¡ˆä¾‹å…·ä½“ç»“æ„å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-diff extra-class"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[t._v(".\nâ”œâ”€â”€ src\nâ”‚   â”œâ”€â”€ components\nâ”‚   â”‚   â”œâ”€â”€ button.js\nâ”‚   â”‚   â”œâ”€â”€ heading.js\nâ”‚   â”‚   â”œâ”€â”€ index.js\nâ”‚   â”‚   â””â”€â”€ link.js\nâ”‚   â””â”€â”€ main.js\nâ”œâ”€â”€ package.json\nâ””â”€â”€ webpack.config.js\n")])])]),a("p",[t._v("åŸºäºä¸Šä¸€ä¸ªæ¡ˆä¾‹çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬æŠŠ components æ¨¡å—æ‹†åˆ†å‡ºå¤šä¸ªç»„ä»¶æ–‡ä»¶ï¼Œç„¶ååœ¨ components/index.js ä¸­é›†ä¸­å¯¼å‡ºï¼Œä»¥ä¾¿äºå¤–ç•Œé›†ä¸­å¯¼å…¥ï¼Œå…·ä½“ index.js ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ./src/components/index.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Button "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./button'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Link "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./link'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Heading "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./heading'")]),t._v("\n")])])]),a("p",[t._v("è¿™ä¹Ÿæ˜¯æˆ‘ä»¬ç»å¸¸è§åˆ°ä¸€ç§åŒç±»æ–‡ä»¶çš„ç»„ç»‡æ–¹å¼ã€‚å¦å¤–ï¼Œåœ¨æ¯ä¸ªç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬éƒ½æ·»åŠ äº†ä¸€ä¸ª "),a("code",[t._v("console")]),t._v(" æ“ä½œï¼ˆå‰¯ä½œç”¨ä»£ç ï¼‰ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ./src/components/button.js")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Button component~'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‰¯ä½œç”¨ä»£ç ")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'button'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æˆ‘ä»¬å†åˆ°æ‰“åŒ…å…¥å£æ–‡ä»¶ï¼ˆmain.jsï¼‰ä¸­å»è½½å…¥ components ä¸­çš„ Button æˆå‘˜ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ./src/main.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Button "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./components'")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("é‚£è¿™æ ·å°±ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œè™½ç„¶æˆ‘ä»¬åœ¨è¿™é‡Œåªæ˜¯å¸Œæœ›è½½å…¥ Button æ¨¡å—ï¼Œä½†å®é™…ä¸Šè½½å…¥çš„æ˜¯ components/index.jsï¼Œè€Œ index.js ä¸­åˆè½½å…¥äº†è¿™ä¸ªç›®å½•ä¸­å…¨éƒ¨çš„ç»„ä»¶æ¨¡å—ï¼Œè¿™å°±ä¼šå¯¼è‡´æ‰€æœ‰ç»„ä»¶æ¨¡å—éƒ½ä¼šè¢«åŠ è½½æ‰§è¡Œã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ï¼Œå°è¯•è¿è¡Œæ‰“åŒ…ï¼Œæ‰“åŒ…å®Œæˆè¿‡åæ‰¾åˆ°æ‰“åŒ…ç»“æœï¼Œå…·ä½“ç»“æœå¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://img-repo.poetries.top/images/20210503220033.png",alt:""}})]),t._v(" "),a("p",[t._v("æ ¹æ®æ‰“åŒ…ç»“æœå‘ç°ï¼Œæ‰€æœ‰çš„ç»„ä»¶æ¨¡å—éƒ½è¢«æ‰“åŒ…è¿›äº† bundle.jsã€‚")]),t._v(" "),a("p",[t._v("æ­¤æ—¶å¦‚æœæˆ‘ä»¬å¼€å¯ Tree-shaking ç‰¹æ€§ï¼ˆåªè®¾ç½® useExportsï¼‰ï¼Œè¿™é‡Œæ²¡æœ‰ç”¨åˆ°çš„å¯¼å‡ºæˆå‘˜å…¶å®æœ€ç»ˆä¹Ÿå¯ä»¥è¢«ç§»é™¤ï¼Œæ‰“åŒ…æ•ˆæœå¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://img-repo.poetries.top/images/20210503220041.png",alt:""}})]),t._v(" "),a("p",[t._v("ä½†æ˜¯ç”±äºè¿™äº›æˆå‘˜æ‰€å±çš„æ¨¡å—ä¸­æœ‰å‰¯ä½œç”¨ä»£ç ï¼Œæ‰€ä»¥å°±å¯¼è‡´æœ€ç»ˆ Tree-shaking è¿‡åï¼Œè¿™äº›æ¨¡å—å¹¶ä¸ä¼šè¢«å®Œå…¨ç§»é™¤ã€‚")]),t._v(" "),a("p",[t._v("å¯èƒ½ä½ ä¼šè®¤ä¸ºè¿™äº›ä»£ç åº”è¯¥ä¿ç•™ä¸‹æ¥ï¼Œè€Œå®é™…æƒ…å†µæ˜¯ï¼Œè¿™äº›æ¨¡å—å†…çš„å‰¯ä½œç”¨ä»£ç ä¸€èˆ¬éƒ½æ˜¯ä¸ºè¿™ä¸ªæ¨¡å—æœåŠ¡çš„ï¼Œä¾‹å¦‚è¿™é‡Œæˆ‘æ·»åŠ çš„ "),a("code",[t._v("console.log(...)")]),t._v("ï¼Œå°±æ˜¯å¸Œæœ›è¡¨ç¤ºä¸€ä¸‹å½“å‰è¿™ä¸ªæ¨¡å—è¢«åŠ è½½äº†ã€‚ä½†æ˜¯æœ€ç»ˆæ•´ä¸ªæ¨¡å—éƒ½æ²¡ç”¨åˆ°ï¼Œä¹Ÿå°±æ²¡å¿…è¦ç•™ä¸‹è¿™äº›å‰¯ä½œç”¨ä»£ç äº†ã€‚")]),t._v(" "),a("p",[t._v("æ‰€ä»¥è¯´ï¼Œ"),a("strong",[t._v("Tree-shaking åªèƒ½ç§»é™¤æ²¡æœ‰ç”¨åˆ°çš„ä»£ç æˆå‘˜ï¼Œè€Œæƒ³è¦å®Œæ•´ç§»é™¤æ²¡æœ‰ç”¨åˆ°çš„æ¨¡å—ï¼Œé‚£å°±éœ€è¦å¼€å¯ sideEffects ç‰¹æ€§äº†ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"sideeffects-ä½œç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sideeffects-ä½œç”¨"}},[t._v("#")]),t._v(" sideEffects ä½œç”¨")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬æ‰“å¼€ Webpack çš„é…ç½®æ–‡ä»¶ï¼Œåœ¨ "),a("code",[t._v("optimization")]),t._v(" ä¸­å¼€å¯ "),a("code",[t._v("sideEffects")]),t._v(" ç‰¹æ€§ï¼Œå…·ä½“é…ç½®å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ./webpack.config.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** @type {import('webpack').Configuration} */")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'none'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/main.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bundle.js'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  optimization"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    sideEffects"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("ğŸ’¡ï¼šæ³¨æ„è¿™ä¸ªç‰¹æ€§åœ¨ production æ¨¡å¼ä¸‹åŒæ ·ä¼šè‡ªåŠ¨å¼€å¯ã€‚")])]),t._v(" "),a("p",[t._v("é‚£æ­¤æ—¶ Webpack åœ¨æ‰“åŒ…æŸä¸ªæ¨¡å—ä¹‹å‰ï¼Œä¼šå…ˆæ£€æŸ¥è¿™ä¸ªæ¨¡å—æ‰€å±çš„ package.json ä¸­çš„ "),a("code",[t._v("sideEffects")]),t._v(" æ ‡è¯†ï¼Œä»¥æ­¤æ¥åˆ¤æ–­è¿™ä¸ªæ¨¡å—æ˜¯å¦æœ‰å‰¯ä½œç”¨ï¼Œå¦‚æœæ²¡æœ‰å‰¯ä½œç”¨çš„è¯ï¼Œè¿™äº›æ²¡ç”¨åˆ°çš„æ¨¡å—å°±ä¸å†è¢«æ‰“åŒ…ã€‚æ¢å¥è¯è¯´ï¼Œå³ä¾¿è¿™äº›æ²¡æœ‰ç”¨åˆ°çš„æ¨¡å—ä¸­å­˜åœ¨ä¸€äº›å‰¯ä½œç”¨ä»£ç ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ package.json ä¸­çš„ "),a("code",[t._v("sideEffects")]),t._v(" å»å¼ºåˆ¶å£°æ˜æ²¡æœ‰å‰¯ä½œç”¨ã€‚")]),t._v(" "),a("p",[t._v("é‚£æˆ‘ä»¬æ‰“å¼€é¡¹ç›® package.json æ·»åŠ ä¸€ä¸ª "),a("code",[t._v("sideEffects")]),t._v(" å­—æ®µï¼ŒæŠŠå®ƒè®¾ç½®ä¸º "),a("code",[t._v("false")]),t._v("ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"09-side-effects"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.1.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zce <w@test.me> (https://test.me)"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"license"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MIT"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"webpack"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.43.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"webpack-cli"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^3.3.11"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sideEffects"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¿™æ ·å°±è¡¨ç¤ºæˆ‘ä»¬è¿™ä¸ªé¡¹ç›®ä¸­çš„æ‰€æœ‰ä»£ç éƒ½æ²¡æœ‰å‰¯ä½œç”¨ï¼Œè®© Webpack æ”¾å¿ƒå¤§èƒ†åœ°å»â€œå¹²â€ã€‚")]),t._v(" "),a("p",[t._v("å®Œæˆä»¥åæˆ‘ä»¬å†æ¬¡è¿è¡Œæ‰“åŒ…ï¼Œç„¶ååŒæ ·æ‰¾åˆ°æ‰“åŒ…è¾“å‡ºçš„ bundle.js æ–‡ä»¶ï¼Œç»“æœå¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://img-repo.poetries.top/images/20210503220051.png",alt:""}})]),t._v(" "),a("p",[t._v("æ­¤æ—¶é‚£äº›æ²¡æœ‰ç”¨åˆ°çš„æ¨¡å—å°±å½»åº•ä¸ä¼šè¢«æ‰“åŒ…è¿›æ¥äº†ã€‚é‚£è¿™å°±æ˜¯ sideEffects çš„ä½œç”¨ã€‚")]),t._v(" "),a("p",[t._v("è¿™é‡Œè®¾ç½®äº†ä¸¤ä¸ªåœ°æ–¹ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("webpack.config.js ä¸­çš„ "),a("code",[t._v("sideEffects")]),t._v(" ç”¨æ¥å¼€å¯è¿™ä¸ªåŠŸèƒ½ï¼›")]),t._v(" "),a("li",[t._v("package.json ä¸­çš„ "),a("code",[t._v("sideEffects")]),t._v(" ç”¨æ¥æ ‡è¯†æˆ‘ä»¬çš„ä»£ç æ²¡æœ‰å‰¯ä½œç”¨ã€‚")])]),t._v(" "),a("p",[t._v("ç›®å‰å¾ˆå¤šç¬¬ä¸‰æ–¹çš„åº“æˆ–è€…æ¡†æ¶éƒ½å·²ç»ä½¿ç”¨äº† sideEffects æ ‡è¯†ï¼Œæ‰€ä»¥æˆ‘ä»¬å†ä¹Ÿä¸ç”¨æ‹…å¿ƒä¸ºäº†ä¸€ä¸ªå°åŠŸèƒ½å¼•å…¥ä¸€ä¸ªå¾ˆå¤§ä½“ç§¯çš„åº“äº†ã€‚ä¾‹å¦‚ï¼ŒæŸä¸ª UI ç»„ä»¶åº“ä¸­åªæœ‰ä¸€ä¸¤ä¸ªç»„ä»¶ä¼šç”¨åˆ°ï¼Œé‚£åªè¦å®ƒæ”¯æŒ sideEffectsï¼Œä½ å°±å¯ä»¥æ”¾å¿ƒå¤§èƒ†çš„ç›´æ¥ç”¨äº†ã€‚")]),t._v(" "),a("h3",{attrs:{id:"sideeffects-æ³¨æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sideeffects-æ³¨æ„"}},[t._v("#")]),t._v(" sideEffects æ³¨æ„")]),t._v(" "),a("p",[t._v("ä½¿ç”¨ sideEffects è¿™ä¸ªåŠŸèƒ½çš„å‰ææ˜¯ç¡®å®šä½ çš„ä»£ç æ²¡æœ‰å‰¯ä½œç”¨ï¼Œæˆ–è€…å‰¯ä½œç”¨ä»£ç æ²¡æœ‰å…¨å±€å½±å“ï¼Œå¦åˆ™æ‰“åŒ…æ—¶å°±ä¼šè¯¯åˆ æ‰ä½ é‚£äº›æœ‰æ„ä¹‰çš„å‰¯ä½œç”¨ä»£ç ã€‚")]),t._v(" "),a("p",[t._v("ä¾‹å¦‚ï¼Œæˆ‘è¿™é‡Œå‡†å¤‡çš„ extend.js æ¨¡å—ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ./src/extend.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸º Number çš„åŸå‹æ·»åŠ ä¸€ä¸ªæ‰©å±•æ–¹æ³•")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Number")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("pad")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" leadingZeros "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("size "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" leadingZeros "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("åœ¨è¿™ä¸ªæ¨¡å—ä¸­å¹¶æ²¡æœ‰å¯¼å‡ºä»»ä½•æˆå‘˜ï¼Œä»…ä»…æ˜¯åœ¨ "),a("code",[t._v("Number")]),t._v(" çš„åŸå‹ä¸ŠæŒ‚è½½äº†ä¸€ä¸ª "),a("code",[t._v("pad")]),t._v(" æ–¹æ³•ï¼Œç”¨æ¥ä¸ºæ•°å­—æ·»åŠ å‰é¢çš„å¯¼é›¶ï¼Œè¿™æ˜¯ä¸€ç§å¾ˆæ—©ä»¥å‰å¸¸è§çš„åŸºäºåŸå‹çš„æ‰©å±•æ–¹æ³•ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å›åˆ° main.js ä¸­å»å¯¼å…¥ extend æ¨¡å—ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ./src/main.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./extend'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å†…éƒ¨åŒ…å«å½±å“å…¨å±€çš„å‰¯ä½œç”¨")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pad")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => '0008'")]),t._v("\n")])])]),a("p",[t._v("å› ä¸ºè¿™ä¸ªæ¨¡å—ç¡®å®æ²¡æœ‰å¯¼å‡ºä»»ä½•æˆå‘˜ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿå°±ä¸éœ€è¦æå–ä»»ä½•æˆå‘˜ã€‚å¯¼å…¥è¿‡åå°±å¯ä»¥ä½¿ç”¨å®ƒä¸º "),a("code",[t._v("Number")]),t._v(" æä¾›æ‰©å±•æ–¹æ³•äº†ã€‚")]),t._v(" "),a("p",[t._v("è¿™é‡Œä¸º "),a("code",[t._v("Number")]),t._v(" ç±»å‹åšæ‰©å±•çš„æ“ä½œå°±æ˜¯ extend æ¨¡å—å¯¹å…¨å±€äº§ç”Ÿçš„å‰¯ä½œç”¨ã€‚")]),t._v(" "),a("p",[t._v("æ­¤æ—¶å¦‚æœæˆ‘ä»¬è¿˜æ˜¯é€šè¿‡ package.json æ ‡è¯†æˆ‘ä»¬ä»£ç æ²¡æœ‰å‰¯ä½œç”¨ï¼Œé‚£ä¹ˆå†æ¬¡æ‰“åŒ…è¿‡åï¼Œå°±ä¼šå‡ºç°é—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°æ‰“åŒ…ç»“æœï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://img-repo.poetries.top/images/20210503220100.png",alt:""}})]),t._v(" "),a("p",[t._v("æˆ‘ä»¬çœ‹åˆ°ï¼Œå¯¹ "),a("code",[t._v("Number")]),t._v(" çš„æ‰©å±•æ¨¡å—å¹¶ä¸ä¼šæ‰“åŒ…è¿›æ¥ã€‚")]),t._v(" "),a("p",[t._v("ç¼ºå°‘äº†å¯¹ "),a("code",[t._v("Number")]),t._v(" çš„æ‰©å±•æ“ä½œï¼Œæˆ‘ä»¬çš„ä»£ç å†å»è¿è¡Œçš„æ—¶å€™ï¼Œå°±ä¼šå‡ºç°é”™è¯¯ã€‚è¿™ç§æ‰©å±•çš„æ“ä½œå±äºå¯¹å…¨å±€äº§ç”Ÿçš„å‰¯ä½œç”¨ã€‚")]),t._v(" "),a("p",[t._v("è¿™ç§åŸºäºåŸå‹çš„æ‰©å±•æ–¹å¼ï¼Œåœ¨å¾ˆå¤š Polyfill åº“ä¸­éƒ½ä¼šå¤§é‡å‡ºç°ï¼Œæ¯”è¾ƒå¸¸è§çš„æœ‰ "),a("a",{attrs:{href:"https://github.com/stefanpenner/es6-promise",target:"_blank",rel:"noopener noreferrer"}},[t._v("es6-promise"),a("OutboundLink")],1),t._v("ï¼Œè¿™ç§æ¨¡å—éƒ½å±äºå…¸å‹çš„å‰¯ä½œç”¨æ¨¡å—ã€‚")]),t._v(" "),a("p",[t._v("é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬åœ¨ JS ä¸­ç›´æ¥è½½å…¥çš„ CSS æ¨¡å—ï¼Œä¹Ÿéƒ½å±äºå‰¯ä½œç”¨æ¨¡å—ï¼ŒåŒæ ·ä¼šé¢ä¸´è¿™ç§é—®é¢˜ã€‚")]),t._v(" "),a("p",[t._v("æ‰€ä»¥è¯´ä¸æ˜¯æ‰€æœ‰çš„å‰¯ä½œç”¨éƒ½åº”è¯¥è¢«ç§»é™¤ï¼Œæœ‰ä¸€äº›å¿…è¦çš„å‰¯ä½œç”¨éœ€è¦ä¿ç•™ä¸‹æ¥ã€‚")]),t._v(" "),a("p",[t._v("æœ€å¥½çš„åŠæ³•å°±æ˜¯åœ¨ package.json ä¸­çš„ sideEffects å­—æ®µä¸­æ ‡è¯†éœ€è¦ä¿ç•™å‰¯ä½œç”¨çš„æ¨¡å—è·¯å¾„ï¼ˆå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼‰ï¼Œå…·ä½“é…ç½®å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"09-side-effects"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.1.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zce <w@test.me> (https://test.me)"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"license"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MIT"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"webpack"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.43.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"webpack-cli"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^3.3.11"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sideEffects"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./src/extend.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*.css"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¿™æ · Webpack çš„ sideEffects å°±ä¸ä¼šå¿½ç•¥ç¡®å®æœ‰å¿…è¦çš„å‰¯ä½œç”¨æ¨¡å—äº†ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å†™åœ¨æœ€å"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†™åœ¨æœ€å"}},[t._v("#")]),t._v(" å†™åœ¨æœ€å")]),t._v(" "),a("p",[t._v("æœ€åæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ï¼Œä»Šå¤©ä»‹ç»åˆ°äº†ä¸¤ä¸ª Webpack ä¸­çš„é«˜çº§ç‰¹æ€§ï¼Œåˆ†åˆ«æ˜¯ Tree-shaking å’Œ sideEffectsã€‚")]),t._v(" "),a("p",[t._v("Tree-shaking çš„æœ¬èº«æ²¡æœ‰å¤ªå¤šéœ€è¦ä½ ç†è§£å’Œæ€è€ƒçš„åœ°æ–¹ï¼Œä½ åªéœ€è¦äº†è§£å®ƒçš„æ•ˆæœï¼Œä»¥åŠç›¸å…³çš„é…ç½®å³å¯ã€‚")]),t._v(" "),a("p",[t._v("è€Œ sideEffects å¯èƒ½éœ€è¦ä½ èŠ±ç‚¹æ—¶é—´å»ç†è§£ä¸€ä¸‹ï¼Œé‡ç‚¹å°±æ˜¯æƒ³æ˜ç™½å“ªäº›å‰¯ä½œç”¨ä»£ç æ˜¯å¯ä»¥éšç€æ¨¡å—çš„ç§»é™¤è€Œç§»é™¤ï¼Œå“ªäº›åˆæ˜¯ä¸å¯ä»¥ç§»é™¤çš„ã€‚æ€»ç»“ä¸‹æ¥å…¶å®ä¹Ÿå¾ˆç®€å•ï¼šå¯¹å…¨å±€æœ‰å½±å“çš„å‰¯ä½œç”¨ä»£ç ä¸èƒ½ç§»é™¤ï¼Œè€Œåªæ˜¯å¯¹æ¨¡å—æœ‰å½±å“çš„å‰¯ä½œç”¨ä»£ç å°±å¯ä»¥ç§»é™¤ã€‚")]),t._v(" "),a("p",[t._v("æ€»ä¹‹ä¸ç®¡æ˜¯ Tree-shaking è¿˜æ˜¯ sideEffectsï¼Œæˆ‘ä¸ªäººè®¤ä¸ºï¼Œå®ƒä»¬éƒ½æ˜¯ä¸ºäº†å¼¥è¡¥ JavaScript æ—©æœŸåœ¨æ¨¡å—ç³»ç»Ÿè®¾è®¡ä¸Šçš„ä¸è¶³ã€‚éšç€ Webpack è¿™ç±»æŠ€æœ¯çš„å‘å±•ï¼ŒJavaScript çš„æ¨¡å—åŒ–ç¡®å®è¶Šæ¥è¶Šå¥½ç”¨ï¼Œä¹Ÿè¶Šæ¥è¶Šåˆç†ã€‚")]),t._v(" "),a("p",[t._v("é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘è¿˜æƒ³å¼ºè°ƒä¸€ç‚¹ï¼Œå½“ä½ å¯¹è¿™äº›ç‰¹æ€§æœ‰äº†ä¸€å®šçš„äº†è§£ä¹‹åï¼Œå°±åº”è¯¥æ„è¯†åˆ°ï¼š"),a("strong",[t._v("å°½å¯èƒ½ä¸è¦å†™å½±å“å…¨å±€çš„å‰¯ä½œç”¨ä»£ç ")]),t._v("ã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);