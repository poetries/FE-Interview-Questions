(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{1135:function(t,a,s){"use strict";s.r(a);var i=s(54),e=Object(i.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"一、什么是-vdom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、什么是-vdom"}},[t._v("#")]),t._v(" 一、什么是 vdom")]),t._v(" "),s("ul",[s("li",[t._v("用 "),s("code",[t._v("JS")]),t._v(" 模拟 "),s("code",[t._v("DOM")]),t._v(" 结构")]),t._v(" "),s("li",[s("code",[t._v("DOM")]),t._v(" 变化的对比，放在 "),s("code",[t._v("JS")]),t._v(" 层来做")]),t._v(" "),s("li",[t._v("提高重绘性能")])]),t._v(" "),s("h2",{attrs:{id:"二、设计一个需求场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、设计一个需求场景"}},[t._v("#")]),t._v(" 二、设计一个需求场景")]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/587.png",loading:"lazy"}})]),t._v(" "),s("p",[s("strong",[t._v("用jQuery实现")])]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/588.png",loading:"lazy"}}),t._v(" "),s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/589.png",loading:"lazy"}}),t._v(" "),s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/590.png",loading:"lazy"}})]),t._v(" "),s("p",[s("strong",[t._v("遇到的问题")])]),t._v(" "),s("ul",[s("li",[t._v("DOM 操作是“昂贵”的，js 运行效率高")]),t._v(" "),s("li",[t._v("尽量减少 DOM 操作，而不是“推倒重来”")]),t._v(" "),s("li",[t._v("项目越复杂，影响就越严重")]),t._v(" "),s("li",[t._v("vdom 即可解决这个问题")])]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/591.png",loading:"lazy"}})]),t._v(" "),s("h2",{attrs:{id:"三、vdom-的如何应用-核心-api-是什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、vdom-的如何应用-核心-api-是什么"}},[t._v("#")]),t._v(" 三、vdom 的如何应用，核心 API 是什么")]),t._v(" "),s("p",[s("strong",[t._v("什么是 vdom")])]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/592.png",loading:"lazy"}})]),t._v(" "),s("p",[s("strong",[t._v("介绍 snabbdom")])]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/593.png",loading:"lazy"}}),t._v(" "),s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/594.png",loading:"lazy"}})]),t._v(" "),s("p",[s("strong",[t._v("介绍 snabbdom - h 函数")])]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/595.png",loading:"lazy"}})]),t._v(" "),s("p",[s("strong",[t._v("介绍 snabbdom - patch 函数")])]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/596.png",loading:"lazy"}})]),t._v(" "),s("p",[s("strong",[t._v("重做jQuery的demo")])]),t._v(" "),s("ul",[s("li",[t._v("使用 "),s("code",[t._v("data")]),t._v("生成 "),s("code",[t._v("vnode")])]),t._v(" "),s("li",[t._v("第一次渲染，将 "),s("code",[t._v("vnode")]),t._v(" 渲染到 "),s("code",[t._v("#container")]),t._v("中")]),t._v(" "),s("li",[t._v("并将 "),s("code",[t._v("vnode")]),t._v(" 缓存下来")]),t._v(" "),s("li",[t._v("修改 "),s("code",[t._v("data")]),t._v(" 之后，用新 "),s("code",[t._v("data")]),t._v(" 生成 "),s("code",[t._v("newVnode")])]),t._v(" "),s("li",[t._v("将 "),s("code",[t._v("vnode")]),t._v(" 和 "),s("code",[t._v("newVnode")]),t._v(" 对比")])]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/597.png",loading:"lazy"}})]),t._v(" "),s("p",[s("strong",[t._v("核心 API")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("h(‘<标签名>’, {…属性…}, […子元素…])")])]),t._v(" "),s("li",[s("code",[t._v("h(‘<标签名>’, {…属性…}, ‘….’)")])]),t._v(" "),s("li",[s("code",[t._v("patch(container, vnode)")])]),t._v(" "),s("li",[s("code",[t._v("patch(vnode, newVnode)")])])]),t._v(" "),s("h2",{attrs:{id:"四、介绍一下-diff-算法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、介绍一下-diff-算法"}},[t._v("#")]),t._v(" 四、介绍一下 diff 算法")]),t._v(" "),s("h3",{attrs:{id:"_4-1-vdom-为何使用-diff-算法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-vdom-为何使用-diff-算法"}},[t._v("#")]),t._v(" 4.1 vdom 为何使用 diff 算法")]),t._v(" "),s("ul",[s("li",[t._v("DOM 操作是“昂贵”的，因此尽量减少 DOM 操作")]),t._v(" "),s("li",[t._v("找出本次 DOM 必须更新的节点来更新，其他的不更新")]),t._v(" "),s("li",[t._v("这个“找出”的过程，就需要 diff 算法")])]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/598.png",loading:"lazy"}})]),t._v(" "),s("p",[s("strong",[t._v("patch(container, vnode)")])]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/599.png",loading:"lazy"}}),t._v(" "),s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/600.png",loading:"lazy"}})]),t._v(" "),s("p",[s("strong",[t._v("演示过程")])]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/601.png",loading:"lazy"}}),t._v(" "),s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/602.png",loading:"lazy"}}),t._v(" "),s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/603.png",loading:"lazy"}}),t._v(" "),s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://s.poetries.work/gitee/2019/10/604.png",loading:"lazy"}})]),t._v(" "),s("h3",{attrs:{id:"_4-2-diff-实现过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-diff-实现过程"}},[t._v("#")]),t._v(" 4.2 diff 实现过程")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("patch(container, vnode)")]),t._v(" 和 "),s("code",[t._v("patch(vnode, newVnode)")])]),t._v(" "),s("li",[s("code",[t._v("createElment")])]),t._v(" "),s("li",[s("code",[t._v("updateChildren")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);