(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{918:function(t,a,s){"use strict";s.r(a);var e=s(38),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-对于mvvm的理解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-对于mvvm的理解"}},[t._v("#")]),t._v(" 1 对于MVVM的理解")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("MVVM")]),t._v("是"),s("code",[t._v("Model-View-ViewModel")]),t._v("缩写，也就是把MVC中的Controller演变成"),s("code",[t._v("ViewModel")]),t._v("。Model层代表数据模型，"),s("code",[t._v("View")]),t._v("代表UI组件，"),s("code",[t._v("ViewModel")]),t._v("是"),s("code",[t._v("View")]),t._v("和"),s("code",[t._v("Model")]),t._v("层的桥梁，数据会绑定到viewModel层并自动将数据渲染到页面中，视图变化的时候会通知viewModel层更新数据。")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("MVVM")]),t._v(" 是 "),s("code",[t._v("Model-View-ViewModel")]),t._v(" 的缩写")]),t._v(" "),s("li",[s("code",[t._v("Model")]),t._v(": 代表数据模型，也可以在Model中定义数据修改和操作的业务逻辑。我们可以把Model称为数据层，因为它仅仅关注数据本身，不关心任何行为")]),t._v(" "),s("li",[s("code",[t._v("View")]),t._v(": 用户操作界面。当ViewModel对Model进行更新的时候，会通过数据绑定更新到View")]),t._v(" "),s("li",[s("code",[t._v("ViewModel")]),t._v("： 业务逻辑层，View需要什么数据，ViewModel要提供这个数据；View有某些操作，ViewModel就要响应这些操作，所以可以说它是Model for View.")]),t._v(" "),s("li",[s("strong",[t._v("总结")]),t._v("： "),s("code",[t._v("MVVM")]),t._v("模式简化了界面与业务的依赖，解决了数据频繁更新。MVVM 在使用当中，利用双向绑定技术，使得 Model 变化时，"),s("code",[t._v("ViewModel")]),t._v(" 会自动更新，而 "),s("code",[t._v("ViewModel")]),t._v(" 变化时，View 也会自动变化。")])]),t._v(" "),s("h2",{attrs:{id:"_2-请详细说下你对vue生命周期的理解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-请详细说下你对vue生命周期的理解"}},[t._v("#")]),t._v(" 2 请详细说下你对vue生命周期的理解")]),t._v(" "),s("blockquote",[s("p",[t._v("答：总共分为8个阶段创建前/后，载入前/后，更新前/后，销毁前/后")])]),t._v(" "),s("p",[s("strong",[t._v("生命周期是什么")])]),t._v(" "),s("blockquote",[s("p",[t._v("Vue 实例有一个完整的生命周期，也就是从开始创建、初始化数据、编译模版、挂载Dom -> 渲染、更新 -> 渲染、卸载等一系列过程，我们称这是Vue的生命周期")])]),t._v(" "),s("p",[s("strong",[t._v("各个生命周期的作用")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("生命周期")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("beforeCreate")]),t._v(" "),s("td",[t._v("组件实例被创建之初，组件的属性生效之前")])]),t._v(" "),s("tr",[s("td",[t._v("created")]),t._v(" "),s("td",[t._v("组件实例已经完全创建，属性也绑定，但真实dom还没有生成，$el还不可用")])]),t._v(" "),s("tr",[s("td",[t._v("beforeMount")]),t._v(" "),s("td",[t._v("在挂载开始之前被调用：相关的 render 函数首次被调用")])]),t._v(" "),s("tr",[s("td",[t._v("mounted")]),t._v(" "),s("td",[t._v("el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用该钩子")])]),t._v(" "),s("tr",[s("td",[t._v("beforeUpdate")]),t._v(" "),s("td",[t._v("组件数据更新之前调用，发生在虚拟 DOM 打补丁之前")])]),t._v(" "),s("tr",[s("td",[t._v("update")]),t._v(" "),s("td",[t._v("组件数据更新之后")])]),t._v(" "),s("tr",[s("td",[t._v("activited")]),t._v(" "),s("td",[t._v("keep-alive专属，组件被激活时调用")])]),t._v(" "),s("tr",[s("td",[t._v("deadctivated")]),t._v(" "),s("td",[t._v("keep-alive专属，组件被销毁时调用")])]),t._v(" "),s("tr",[s("td",[t._v("beforeDestory")]),t._v(" "),s("td",[t._v("组件销毁前调用")])]),t._v(" "),s("tr",[s("td",[t._v("destoryed")]),t._v(" "),s("td",[t._v("组件销毁后调用")])])])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://poetries1.gitee.io/img-repo/2020/07/61.png",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("由于Vue会在初始化实例时对属性执行"),s("code",[t._v("getter/setter")]),t._v("转化，所以属性必须在"),s("code",[t._v("data")]),t._v("对象上存在才能让"),s("code",[t._v("Vue")]),t._v("将它转换为响应式的。Vue提供了"),s("code",[t._v("$set")]),t._v("方法用来触发视图更新")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            obj"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fei'")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mounted")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sex'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'man'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("什么是vue生命周期？")])]),t._v(" "),s("ul",[s("li",[t._v("答： Vue 实例从创建到销毁的过程，就是生命周期。从开始创建、初始化数据、编译模板、挂载Dom→渲染、更新→渲染、销毁等一系列过程，称之为 Vue 的生命周期。")])]),t._v(" "),s("p",[s("strong",[t._v("vue生命周期的作用是什么？")])]),t._v(" "),s("ul",[s("li",[t._v("答：它的生命周期中有多个事件钩子，让我们在控制整个Vue实例的过程时更容易形成好的逻辑。")])]),t._v(" "),s("p",[s("strong",[t._v("vue生命周期总共有几个阶段？")])]),t._v(" "),s("ul",[s("li",[t._v("答：它可以总共分为"),s("code",[t._v("8")]),t._v("个阶段：创建前/后、载入前/后、更新前/后、销毁前/销毁后。")])]),t._v(" "),s("p",[s("strong",[t._v("第一次页面加载会触发哪几个钩子？")])]),t._v(" "),s("ul",[s("li",[t._v("答：会触发下面这几个"),s("code",[t._v("beforeCreate")]),t._v("、"),s("code",[t._v("created")]),t._v("、"),s("code",[t._v("beforeMount")]),t._v("、"),s("code",[t._v("mounted")]),t._v(" 。")])]),t._v(" "),s("p",[s("strong",[t._v("DOM 渲染在哪个周期中就已经完成？")])]),t._v(" "),s("ul",[s("li",[t._v("答："),s("code",[t._v("DOM")]),t._v(" 渲染在 "),s("code",[t._v("mounted")]),t._v(" 中就已经完成了")])]),t._v(" "),s("h2",{attrs:{id:"_3-vue实现数据双向绑定的原理-object-defineproperty"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-vue实现数据双向绑定的原理-object-defineproperty"}},[t._v("#")]),t._v(" 3 Vue实现数据双向绑定的原理：Object.defineProperty()")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("vue")]),t._v("实现数据双向绑定主要是：采用数据劫持结合发布者-订阅者模式的方式，通过 "),s("code",[t._v("Object.defineProperty()")]),t._v(" 来劫持各个属性的"),s("code",[t._v("setter")]),t._v("，"),s("code",[t._v("getter")]),t._v("，在数据变动时发布消息给订阅者，触发相应监听回调。当把一个普通 "),s("code",[t._v("Javascript")]),t._v(" 对象传给 Vue 实例来作为它的 "),s("code",[t._v("data")]),t._v(" 选项时，Vue 将遍历它的属性，用 "),s("code",[t._v("Object.defineProperty()")]),t._v(" 将它们转为 "),s("code",[t._v("getter/setter")]),t._v("。用户看不到 "),s("code",[t._v("getter/setter")]),t._v("，但是在内部它们让 "),s("code",[t._v("Vue")]),t._v("追踪依赖，在属性被访问和修改时通知变化。")]),t._v(" "),s("li",[t._v("vue的数据双向绑定 将"),s("code",[t._v("MVVM")]),t._v("作为数据绑定的入口，整合"),s("code",[t._v("Observer")]),t._v("，"),s("code",[t._v("Compile")]),t._v("和"),s("code",[t._v("Watcher")]),t._v("三者，通过"),s("code",[t._v("Observer")]),t._v("来监听自己的"),s("code",[t._v("model")]),t._v("的数据变化，通过"),s("code",[t._v("Compile")]),t._v("来解析编译模板指令（"),s("code",[t._v("vue")]),t._v("中是用来解析 "),s("code",[t._v("{{}}")]),t._v("），最终利用"),s("code",[t._v("watcher")]),t._v("搭起"),s("code",[t._v("observer")]),t._v("和"),s("code",[t._v("Compile")]),t._v("之间的通信桥梁，达到数据变化 —>视图更新；视图交互变化（"),s("code",[t._v("input")]),t._v("）—>数据"),s("code",[t._v("model")]),t._v("变更双向绑定效果。")])]),t._v(" "),s("h2",{attrs:{id:"_4-vue组件间的参数传递"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-vue组件间的参数传递"}},[t._v("#")]),t._v(" 4 Vue组件间的参数传递")]),t._v(" "),s("p",[s("strong",[t._v("父组件与子组件传值")])]),t._v(" "),s("blockquote",[s("p",[t._v("父组件传给子组件：子组件通过"),s("code",[t._v("props")]),t._v("方法接受数据；")])]),t._v(" "),s("ul",[s("li",[t._v("子组件传给父组件： "),s("code",[t._v("$emit")]),t._v(" 方法传递参数")])]),t._v(" "),s("p",[s("strong",[t._v("非父子组件间的数据传递，兄弟组件传值")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("eventBus")]),t._v("，就是创建一个事件中心，相当于中转站，可以用它来传递事件和接收事件。项目比较小时，用这个比较合适（虽然也有不少人推荐直接用"),s("code",[t._v("VUEX")]),t._v("，具体来说看需求）")])]),t._v(" "),s("h2",{attrs:{id:"_5-vue的路由实现-hash模式-和-history模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-vue的路由实现-hash模式-和-history模式"}},[t._v("#")]),t._v(" 5 Vue的路由实现：hash模式 和 history模式")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("hash")]),t._v("模式：在浏览器中符号"),s("code",[t._v("“#”")]),t._v("，#以及#后面的字符称之为"),s("code",[t._v("hash")]),t._v("，用 "),s("code",[t._v("window.location.hash")]),t._v(" 读取。特点："),s("code",[t._v("hash")]),t._v("虽然在"),s("code",[t._v("URL")]),t._v("中，但不被包括在"),s("code",[t._v("HTTP")]),t._v("请求中；用来指导浏览器动作，对服务端安全无用，"),s("code",[t._v("hash")]),t._v("不会重加载页面。")]),t._v(" "),s("li",[s("code",[t._v("history")]),t._v("模式：h"),s("code",[t._v("istory")]),t._v("采用"),s("code",[t._v("HTML5")]),t._v("的新特性；且提供了两个新方法： "),s("code",[t._v("pushState()")]),t._v("， "),s("code",[t._v("replaceState()")]),t._v("可以对浏览器历史记录栈进行修改，以及"),s("code",[t._v("popState")]),t._v("事件的监听到状态变更")])]),t._v(" "),s("h2",{attrs:{id:"_5-vue路由的钩子函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-vue路由的钩子函数"}},[t._v("#")]),t._v(" 5 vue路由的钩子函数")]),t._v(" "),s("blockquote",[s("p",[t._v("首页可以控制导航跳转，"),s("code",[t._v("beforeEach")]),t._v("，"),s("code",[t._v("afterEach")]),t._v("等，一般用于页面"),s("code",[t._v("title")]),t._v("的修改。一些需要登录才能调整页面的重定向功能。")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("beforeEach")]),t._v("主要有3个参数"),s("code",[t._v("to")]),t._v("，"),s("code",[t._v("from")]),t._v("，"),s("code",[t._v("next")]),t._v("。")]),t._v(" "),s("li",[s("code",[t._v("to")]),t._v("："),s("code",[t._v("route")]),t._v("即将进入的目标路由对象。")]),t._v(" "),s("li",[s("code",[t._v("from")]),t._v("："),s("code",[t._v("route")]),t._v("当前导航正要离开的路由。")]),t._v(" "),s("li",[s("code",[t._v("next")]),t._v("："),s("code",[t._v("function")]),t._v("一定要调用该方法"),s("code",[t._v("resolve")]),t._v("这个钩子。执行效果依赖n"),s("code",[t._v("ext")]),t._v("方法的调用参数。可以控制网页的跳转")])]),t._v(" "),s("h2",{attrs:{id:"_6-vuex是什么-怎么使用-哪种功能场景使用它"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-vuex是什么-怎么使用-哪种功能场景使用它"}},[t._v("#")]),t._v(" 6 vuex是什么？怎么使用？哪种功能场景使用它？")]),t._v(" "),s("ul",[s("li",[t._v("只用来读取的状态集中放在"),s("code",[t._v("store")]),t._v("中； 改变状态的方式是提交"),s("code",[t._v("mutations")]),t._v("，这是个同步的事物； 异步逻辑应该封装在"),s("code",[t._v("action")]),t._v("中。")]),t._v(" "),s("li",[t._v("在"),s("code",[t._v("main.js")]),t._v("引入"),s("code",[t._v("store")]),t._v("，注入。新建了一个目录"),s("code",[t._v("store")]),t._v("，"),s("code",[t._v("… export")])]),t._v(" "),s("li",[s("strong",[t._v("场景有")]),t._v("：单页应用中，组件之间的状态、音乐播放、登录状态、加入购物车")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://poetries1.gitee.io/img-repo/2020/07/62.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("state")]),t._v("："),s("code",[t._v("Vuex")]),t._v(" 使用单一状态树,即每个应用将仅仅包含一个"),s("code",[t._v("store")]),t._v(" 实例，但单一状态树和模块化并不冲突。存放的数据状态，不可以直接修改里面的数据。")]),t._v(" "),s("li",[s("code",[t._v("mutations")]),t._v("："),s("code",[t._v("mutations")]),t._v("定义的方法动态修改"),s("code",[t._v("Vuex")]),t._v(" 的 "),s("code",[t._v("store")]),t._v(" 中的状态或数据")]),t._v(" "),s("li",[s("code",[t._v("getters")]),t._v("：类似"),s("code",[t._v("vue")]),t._v("的计算属性，主要用来过滤一些数据。")]),t._v(" "),s("li",[s("code",[t._v("action")]),t._v("："),s("code",[t._v("actions")]),t._v("可以理解为通过将"),s("code",[t._v("mutations")]),t._v("里面处里数据的方法变成可异步的处理数据的方法，简单的说就是异步操作数据。"),s("code",[t._v("view")]),t._v(" 层通过 "),s("code",[t._v("store.dispath")]),t._v(" 来分发 "),s("code",[t._v("action")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://poetries1.gitee.io/img-repo/2020/07/63.png",alt:""}})]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("modules")]),t._v("：项目特别复杂的时候，可以让每一个模块拥有自己的"),s("code",[t._v("state")]),t._v("、"),s("code",[t._v("mutation")]),t._v("、"),s("code",[t._v("action")]),t._v("、"),s("code",[t._v("getters")]),t._v("，使得结构非常清晰，方便管理")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://poetries1.gitee.io/img-repo/2020/07/64.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"_7-v-if-和-v-show-区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-v-if-和-v-show-区别"}},[t._v("#")]),t._v(" 7 v-if 和 v-show 区别")]),t._v(" "),s("ul",[s("li",[t._v("答："),s("code",[t._v("v-if")]),t._v("按照条件是否渲染，"),s("code",[t._v("v-show")]),t._v("是"),s("code",[t._v("display")]),t._v("的"),s("code",[t._v("block")]),t._v("或"),s("code",[t._v("none")]),t._v("；")])]),t._v(" "),s("h2",{attrs:{id:"_8-route和-router的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-route和-router的区别"}},[t._v("#")]),t._v(" 8 "),s("code",[t._v("$route")]),t._v("和"),s("code",[t._v("$router")]),t._v("的区别")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("$route")]),t._v("是“路由信息对象”，包括"),s("code",[t._v("path")]),t._v("，"),s("code",[t._v("params")]),t._v("，"),s("code",[t._v("hash")]),t._v("，"),s("code",[t._v("query")]),t._v("，"),s("code",[t._v("fullPath")]),t._v("，"),s("code",[t._v("matched")]),t._v("，"),s("code",[t._v("name")]),t._v("等路由信息参数。")]),t._v(" "),s("li",[t._v("而"),s("code",[t._v("$router")]),t._v("是“路由实例”对象包括了路由的跳转方法，钩子函数等")])]),t._v(" "),s("h2",{attrs:{id:"_9-如何让css只在当前组件中起作用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-如何让css只在当前组件中起作用"}},[t._v("#")]),t._v(" 9 如何让CSS只在当前组件中起作用?")]),t._v(" "),s("blockquote",[s("p",[t._v("将当前组件的"),s("code",[t._v("<style>")]),t._v("修改为"),s("code",[t._v("<style scoped>")])])]),t._v(" "),s("h2",{attrs:{id:"_10-keep-alive-keep-alive-的作用是什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-keep-alive-keep-alive-的作用是什么"}},[t._v("#")]),t._v(" 10 "),s("code",[t._v("<keep-alive></keep-alive>")]),t._v("的作用是什么?")]),t._v(" "),s("blockquote",[s("p",[t._v("keep-alive可以实现组件缓存，当组件切换时不会对当前组件进行卸载")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("<keep-alive></keep-alive>")]),t._v(" 包裹动态组件时，会缓存不活动的组件实例,主要用于保留组件状态或避免重新渲染")])]),t._v(" "),s("blockquote",[s("p",[t._v("比如有一个列表和一个详情，那么用户就会经常执行打开详情=>返回列表=>打开详情…这样的话列表和详情都是一个频率很高的页面，那么就可以对列表组件使用"),s("code",[t._v("<keep-alive></keep-alive>")]),t._v("进行缓存，这样用户每次返回列表的时候，都能从缓存中快速渲染，而不是重新渲染")])]),t._v(" "),s("ul",[s("li",[t._v("常用的两个属性"),s("code",[t._v("include/exclude")]),t._v("，允许组件有条件的进行缓存")]),t._v(" "),s("li",[t._v("两个生命周期"),s("code",[t._v("activated/deactivated")]),t._v("，用来得知当前组件是否处于活跃状态")])]),t._v(" "),s("h2",{attrs:{id:"_11-指令v-el的作用是什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_11-指令v-el的作用是什么"}},[t._v("#")]),t._v(" 11 指令v-el的作用是什么?")]),t._v(" "),s("blockquote",[s("p",[t._v("提供一个在页面上已存在的 "),s("code",[t._v("DOM")]),t._v("元素作为 "),s("code",[t._v("Vue")]),t._v("实例的挂载目标.可以是 CSS 选择器，也可以是一个 "),s("code",[t._v("HTMLElement")]),t._v(" 实例,")])]),t._v(" "),s("h2",{attrs:{id:"_12-在vue中使用插件的步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-在vue中使用插件的步骤"}},[t._v("#")]),t._v(" 12 在Vue中使用插件的步骤")]),t._v(" "),s("ul",[s("li",[t._v("采用"),s("code",[t._v("ES6")]),t._v("的"),s("code",[t._v("import ... from ...")]),t._v("语法或"),s("code",[t._v("CommonJS")]),t._v("的"),s("code",[t._v("require()")]),t._v("方法引入插件")]),t._v(" "),s("li",[t._v("使用全局方法"),s("code",[t._v("Vue.use( plugin )")]),t._v("使用插件,可以传入一个选项对象"),s("code",[t._v("Vue.use(MyPlugin, { someOption: true })")])])]),t._v(" "),s("h2",{attrs:{id:"_13-请列举出3个vue中常用的生命周期钩子函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-请列举出3个vue中常用的生命周期钩子函数"}},[t._v("#")]),t._v(" 13 请列举出3个Vue中常用的生命周期钩子函数?")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("created")]),t._v(": 实例已经创建完成之后调用,在这一步,实例已经完成数据观测, 属性和方法的运算, "),s("code",[t._v("watch/event")]),t._v("事件回调. 然而, 挂载阶段还没有开始, "),s("code",[t._v("$el")]),t._v("属性目前还不可见")]),t._v(" "),s("li",[s("code",[t._v("mounted")]),t._v(": "),s("code",[t._v("el")]),t._v("被新创建的 "),s("code",[t._v("vm.$el")]),t._v(" 替换，并挂载到实例上去之后调用该钩子。如果 "),s("code",[t._v("root")]),t._v(" 实例挂载了一个文档内元素，当 "),s("code",[t._v("mounted")]),t._v("被调用时 "),s("code",[t._v("vm.$el")]),t._v(" 也在文档内。")]),t._v(" "),s("li",[s("code",[t._v("activated")]),t._v(": "),s("code",[t._v("keep-alive")]),t._v("组件激活时调用")])]),t._v(" "),s("h2",{attrs:{id:"_14-vue-cli-工程技术集合介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_14-vue-cli-工程技术集合介绍"}},[t._v("#")]),t._v(" 14 \bvue-cli 工程技术集合介绍")]),t._v(" "),s("p",[s("strong",[t._v("问题一：构建的 vue-cli 工程都到了哪些技术，它们的作用分别是什么？")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("vue.js")]),t._v("："),s("code",[t._v("vue-cli")]),t._v("工程的核心，主要特点是 双向数据绑定 和 组件系统。")]),t._v(" "),s("li",[s("code",[t._v("vue-router")]),t._v("："),s("code",[t._v("vue")]),t._v("官方推荐使用的路由框架。")]),t._v(" "),s("li",[s("code",[t._v("vuex")]),t._v("：专为 "),s("code",[t._v("Vue.js")]),t._v(" 应用项目开发的状态管理器，主要用于维护"),s("code",[t._v("vue")]),t._v("组件间共用的一些 变量 和 方法。")]),t._v(" "),s("li",[s("code",[t._v("axios")]),t._v("（ 或者 "),s("code",[t._v("fetch")]),t._v(" 、"),s("code",[t._v("ajax")]),t._v(" ）：用于发起 "),s("code",[t._v("GET")]),t._v(" 、或 "),s("code",[t._v("POST")]),t._v(" 等 "),s("code",[t._v("http")]),t._v("请求，基于 "),s("code",[t._v("Promise")]),t._v(" 设计。")]),t._v(" "),s("li",[s("code",[t._v("vuex")]),t._v("等：一个专为"),s("code",[t._v("vue")]),t._v("设计的移动端UI组件库。")]),t._v(" "),s("li",[t._v("创建一个"),s("code",[t._v("emit.js")]),t._v("文件，用于"),s("code",[t._v("vue")]),t._v("事件机制的管理。")]),t._v(" "),s("li",[s("code",[t._v("webpack")]),t._v("：模块加载和"),s("code",[t._v("vue-cli")]),t._v("工程打包器。")])]),t._v(" "),s("p",[s("strong",[t._v("问题二：vue-cli 工程常用的 npm 命令有哪些？")])]),t._v(" "),s("ul",[s("li",[t._v("下载 "),s("code",[t._v("node_modules")]),t._v(" 资源包的命令：")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm install\n")])])]),s("ul",[s("li",[t._v("启动 "),s("code",[t._v("vue-cli")]),t._v(" 开发环境的 npm命令：")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm run dev\n")])])]),s("ul",[s("li",[s("code",[t._v("vue-cli")]),t._v(" 生成 生产环境部署资源 的 "),s("code",[t._v("npm")]),t._v("命令：")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm run build\n")])])]),s("ul",[s("li",[t._v("用于查看 "),s("code",[t._v("vue-cli")]),t._v(" 生产环境部署资源文件大小的 "),s("code",[t._v("npm")]),t._v("命令：")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm run build --report\n")])])]),s("blockquote",[s("p",[t._v("在浏览器上自动弹出一个 展示 "),s("code",[t._v("vue-cli")]),t._v(" 工程打包后 "),s("code",[t._v("app.js")]),t._v("、"),s("code",[t._v("manifest.js")]),t._v("、"),s("code",[t._v("vendor.js")]),t._v(" 文件里面所包含代码的页面。可以具此优化 "),s("code",[t._v("vue-cli")]),t._v(" 生产环境部署的静态资源，提升 页面 的加载速度")])]),t._v(" "),s("h2",{attrs:{id:"_15-nexttick"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_15-nexttick"}},[t._v("#")]),t._v(" 15 NextTick")]),t._v(" "),s("blockquote",[s("p",[t._v("在下次"),s("code",[t._v("dom")]),t._v("更新循环结束之后执行延迟回调，可用于获取更新后的"),s("code",[t._v("dom")]),t._v("状态")])]),t._v(" "),s("ul",[s("li",[t._v("新版本中默认是"),s("code",[t._v("mincrotasks")]),t._v(", "),s("code",[t._v("v-on")]),t._v("中会使用"),s("code",[t._v("macrotasks")])]),t._v(" "),s("li",[s("code",[t._v("macrotasks")]),t._v("任务的实现:\n"),s("ul",[s("li",[s("code",[t._v("setImmediate / MessageChannel / setTimeout")])])])])]),t._v(" "),s("h2",{attrs:{id:"_16-vue的优点是什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_16-vue的优点是什么"}},[t._v("#")]),t._v(" 16 vue的优点是什么？")]),t._v(" "),s("ul",[s("li",[t._v("低耦合。视图（"),s("code",[t._v("View")]),t._v("）可以独立于"),s("code",[t._v("Model")]),t._v("变化和修改，一个"),s("code",[t._v("ViewModel")]),t._v("可以绑定到不同的"),s("code",[t._v('"View"')]),t._v("上，当View变化的时候Model可以不变，当"),s("code",[t._v("Model")]),t._v("变化的时候"),s("code",[t._v("View")]),t._v("也可以不变")]),t._v(" "),s("li",[t._v("可重用性。你可以把一些视图逻辑放在一个"),s("code",[t._v("ViewModel")]),t._v("里面，让很多"),s("code",[t._v("view")]),t._v("重用这段视图逻辑")]),t._v(" "),s("li",[t._v("可测试。界面素来是比较难于测试的，而现在测试可以针对"),s("code",[t._v("ViewModel")]),t._v("来写")])]),t._v(" "),s("h2",{attrs:{id:"_17-路由之间跳转"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_17-路由之间跳转"}},[t._v("#")]),t._v(" 17 路由之间跳转？")]),t._v(" "),s("p",[s("strong",[t._v("声明式（标签跳转）")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<router-link :to="index">\n')])])]),s("p",[s("strong",[t._v("编程式（ js跳转）")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("router.push('index')\n")])])]),s("h2",{attrs:{id:"_18-实现-vue-ssr"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_18-实现-vue-ssr"}},[t._v("#")]),t._v(" 18 实现 Vue SSR")]),t._v(" "),s("p",[s("strong",[t._v("其基本实现原理")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("app.js")]),t._v(" 作为客户端与服务端的公用入口，导出 "),s("code",[t._v("Vue")]),t._v(" 根实例，供客户端 "),s("code",[t._v("entry")]),t._v(" 与服务端 "),s("code",[t._v("entry")]),t._v(" 使用。客户端 "),s("code",[t._v("entry")]),t._v(" 主要作用挂载到 "),s("code",[t._v("DOM")]),t._v(" 上，服务端 "),s("code",[t._v("entry")]),t._v(" 除了创建和返回实例，还进行路由匹配与数据预获取。")]),t._v(" "),s("li",[s("code",[t._v("webpack")]),t._v(" 为客服端打包一个 "),s("code",[t._v("Client Bundle")]),t._v(" ，为服务端打包一个 "),s("code",[t._v("Server Bundle")]),t._v(" 。")]),t._v(" "),s("li",[t._v("服务器接收请求时，会根据 "),s("code",[t._v("url")]),t._v("，加载相应组件，获取和解析异步数据，创建一个读取 "),s("code",[t._v("Server Bundle")]),t._v(" 的 "),s("code",[t._v("BundleRenderer")]),t._v("，然后生成 "),s("code",[t._v("html")]),t._v(" 发送给客户端。")]),t._v(" "),s("li",[t._v("客户端混合，客户端收到从服务端传来的 "),s("code",[t._v("DOM")]),t._v(" 与自己的生成的 DOM 进行对比，把不相同的 "),s("code",[t._v("DOM")]),t._v(" 激活，使其可以能够响应后续变化，这个过程称为客户端激活 。为确保混合成功，客户端与服务器端需要共享同一套数据。在服务端，可以在渲染之前获取数据，填充到 "),s("code",[t._v("stroe")]),t._v(" 里，这样，在客户端挂载到 "),s("code",[t._v("DOM")]),t._v(" 之前，可以直接从 "),s("code",[t._v("store")]),t._v("里取数据。首屏的动态数据通过 "),s("code",[t._v("window.__INITIAL_STATE__")]),t._v("发送到客户端")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("Vue SSR")]),t._v(" 的实现，主要就是把 "),s("code",[t._v("Vue")]),t._v(" 的组件输出成一个完整 "),s("code",[t._v("HTML")]),t._v(", "),s("code",[t._v("vue-server-renderer")]),t._v(" 就是干这事的")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Vue SSR")]),t._v("需要做的事多点（输出完整 HTML），除了"),s("code",[t._v("complier -> vnode")]),t._v("，还需如数据获取填充至 "),s("code",[t._v("HTML")]),t._v("、客户端混合（"),s("code",[t._v("hydration")]),t._v("）、缓存等等。\n相比于其他模板引擎（"),s("code",[t._v("ejs")]),t._v(", "),s("code",[t._v("jade")]),t._v(" 等），最终要实现的目的是一样的，性能上可能要差点")])]),t._v(" "),s("h2",{attrs:{id:"_19-vue-组件-data-为什么必须是函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_19-vue-组件-data-为什么必须是函数"}},[t._v("#")]),t._v(" 19 Vue 组件 data 为什么必须是函数")]),t._v(" "),s("ul",[s("li",[t._v("每个组件都是 "),s("code",[t._v("Vue")]),t._v(" 的实例。")]),t._v(" "),s("li",[t._v("组件共享 "),s("code",[t._v("data")]),t._v(" 属性，当 "),s("code",[t._v("data")]),t._v(" 的值是同一个引用类型的值时，改变其中一个会影响其他")])]),t._v(" "),s("h2",{attrs:{id:"_20-vue-computed-实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_20-vue-computed-实现"}},[t._v("#")]),t._v(" 20 Vue computed 实现")]),t._v(" "),s("ul",[s("li",[t._v("建立与其他属性（如："),s("code",[t._v("data")]),t._v("、 "),s("code",[t._v("Store")]),t._v("）的联系；")]),t._v(" "),s("li",[t._v("属性改变后，通知计算属性重新计算")])]),t._v(" "),s("blockquote",[s("p",[t._v("实现时，主要如下")])]),t._v(" "),s("ul",[s("li",[t._v("初始化 "),s("code",[t._v("data")]),t._v("， 使用 "),s("code",[t._v("Object.defineProperty")]),t._v(" 把这些属性全部转为 "),s("code",[t._v("getter/setter")]),t._v("。")]),t._v(" "),s("li",[t._v("初始化 "),s("code",[t._v("computed")]),t._v(", 遍历 "),s("code",[t._v("computed")]),t._v(" 里的每个属性，每个 "),s("code",[t._v("computed")]),t._v(" 属性都是一个 "),s("code",[t._v("watch")]),t._v(" 实例。每个属性提供的函数作为属性的 "),s("code",[t._v("getter")]),t._v("，使用 "),s("code",[t._v("Object.defineProperty")]),t._v(" 转化。")]),t._v(" "),s("li",[s("code",[t._v("Object.defineProperty getter")]),t._v(" 依赖收集。用于依赖发生变化时，触发属性重新计算。")]),t._v(" "),s("li",[t._v("若出现当前 "),s("code",[t._v("computed")]),t._v(" 计算属性嵌套其他 "),s("code",[t._v("computed")]),t._v(" 计算属性时，先进行其他的依赖收集")])]),t._v(" "),s("h2",{attrs:{id:"_21-vue-complier-实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_21-vue-complier-实现"}},[t._v("#")]),t._v(" 21 Vue complier 实现")]),t._v(" "),s("ul",[s("li",[t._v("模板解析这种事，本质是将数据转化为一段 "),s("code",[t._v("html")]),t._v(" ，最开始出现在后端，经过各种处理吐给前端。随着各种 "),s("code",[t._v("mv*")]),t._v(" 的兴起，模板解析交由前端处理。")]),t._v(" "),s("li",[t._v("总的来说，"),s("code",[t._v("Vue complier")]),t._v(" 是将 "),s("code",[t._v("template")]),t._v(" 转化成一个 "),s("code",[t._v("render")]),t._v(" 字符串。")])]),t._v(" "),s("blockquote",[s("p",[t._v("可以简单理解成以下步骤：")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("parse")]),t._v(" 过程，将 "),s("code",[t._v("template")]),t._v(" 利用正则转化成"),s("code",[t._v("AST")]),t._v(" 抽象语法树。")]),t._v(" "),s("li",[s("code",[t._v("optimize")]),t._v(" 过程，标记静态节点，后 "),s("code",[t._v("diff")]),t._v(" 过程跳过静态节点，提升性能。")]),t._v(" "),s("li",[s("code",[t._v("generate")]),t._v(" 过程，生成 "),s("code",[t._v("render")]),t._v(" 字符串")])]),t._v(" "),s("h2",{attrs:{id:"_22-怎么快速定位哪个组件出现性能问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_22-怎么快速定位哪个组件出现性能问题"}},[t._v("#")]),t._v(" 22 怎么快速定位哪个组件出现性能问题")]),t._v(" "),s("blockquote",[s("p",[t._v("用 "),s("code",[t._v("timeline")]),t._v(" 工具。 大意是通过 "),s("code",[t._v("timeline")]),t._v(" 来查看每个函数的调用时常，定位出哪个函数的问题，从而能判断哪个组件出了问题")])]),t._v(" "),s("h2",{attrs:{id:"_23-开发中常用的指令有哪些"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_23-开发中常用的指令有哪些"}},[t._v("#")]),t._v(" 23 开发中常用的指令有哪些")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("v-model")]),t._v(" :一般用在表达输入，很轻松的实现表单控件和数据的双向绑定")]),t._v(" "),s("li",[s("code",[t._v("v-html")]),t._v(": 更新元素的 "),s("code",[t._v("innerHTML")])]),t._v(" "),s("li",[s("code",[t._v("v-show")]),t._v(" 与 "),s("code",[t._v("v-if")]),t._v(": 条件渲染, 注意二者区别")])]),t._v(" "),s("blockquote",[s("p",[t._v("使用了v-if的时候，如果值为false，那么页面将不会有这个html标签生成。 v-show则是不管值为true还是false，html元素都会存在，只是CSS中的display显示或隐藏")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("v-on")]),t._v(" : "),s("code",[t._v("click")]),t._v(": 可以简写为"),s("code",[t._v("@click")]),t._v(","),s("code",[t._v("@")]),t._v("绑定一个事件。如果事件触发了，就可以指定事件的处理函数")]),t._v(" "),s("li",[s("code",[t._v("v-for")]),t._v(":基于源数据多次渲染元素或模板块")]),t._v(" "),s("li",[s("code",[t._v("v-bind")]),t._v(": 当表达式的值改变时，将其产生的连带影响，响应式地作用于 "),s("code",[t._v("DOM")])])]),t._v(" "),s("blockquote",[s("p",[t._v("语法："),s("code",[t._v('v-bind:title="msg"')]),t._v("简写："),s("code",[t._v(':title="msg"')])])]),t._v(" "),s("h2",{attrs:{id:"_24-proxy-相比于-defineproperty-的优势"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_24-proxy-相比于-defineproperty-的优势"}},[t._v("#")]),t._v(" 24 Proxy 相比于 defineProperty 的优势")]),t._v(" "),s("blockquote",[s("p",[t._v("Object.defineProperty() 的问题主要有三个：")])]),t._v(" "),s("ul",[s("li",[t._v("不能监听数组的变化")]),t._v(" "),s("li",[t._v("必须遍历对象的每个属性")]),t._v(" "),s("li",[t._v("必须深层遍历嵌套的对象")])]),t._v(" "),s("blockquote",[s("p",[t._v("Proxy 在 ES2015 规范中被正式加入，它有以下几个特点")])]),t._v(" "),s("ul",[s("li",[t._v("针对对象：针对整个对象，而不是对象的某个属性，所以也就不需要对 keys 进行遍历。这解决了上述 Object.defineProperty() 第二个问题")]),t._v(" "),s("li",[t._v("支持数组：Proxy 不需要对数组的方法进行重载，省去了众多 hack，减少代码量等于减少了维护成本，而且标准的就是最好的。")])]),t._v(" "),s("blockquote",[s("p",[t._v("除了上述两点之外，Proxy 还拥有以下优势：")])]),t._v(" "),s("ul",[s("li",[t._v("Proxy 的第二个参数可以有 13 种拦截方法，这比起 Object.defineProperty() 要更加丰富")]),t._v(" "),s("li",[t._v("Proxy 作为新标准受到浏览器厂商的重点关注和性能优化，相比之下 Object.defineProperty() 是一个已有的老方法。")])]),t._v(" "),s("h2",{attrs:{id:"_25-vue-router-有哪几种导航守卫"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_25-vue-router-有哪几种导航守卫"}},[t._v("#")]),t._v(" 25 vue-router 有哪几种导航守卫?")]),t._v(" "),s("ul",[s("li",[t._v("全局守卫")]),t._v(" "),s("li",[t._v("路由独享守卫")]),t._v(" "),s("li",[t._v("路由组件内的守卫")])]),t._v(" "),s("p",[s("strong",[t._v("全局守卫")])]),t._v(" "),s("blockquote",[s("p",[t._v("vue-router全局有三个守卫")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("router.beforeEach")]),t._v(" 全局前置守卫 进入路由之前")]),t._v(" "),s("li",[s("code",[t._v("router.beforeResolve")]),t._v(" 全局解析守卫(2.5.0+) 在"),s("code",[t._v("beforeRouteEnter")]),t._v("调用之后调用")]),t._v(" "),s("li",[s("code",[t._v("router.afterEach")]),t._v(" 全局后置钩子 进入路由之后")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// main.js 入口文件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" router "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./router'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入路由")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeResolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'afterEach 全局后置钩子'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("路由独享守卫")])]),t._v(" "),s("blockquote",[s("p",[t._v("如果你不想全局配置守卫的话，你可以为某些路由单独配置守卫")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VueRouter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  routes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Foo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("beforeEnter")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 参数用法什么的都一样,调用顺序在全局前置守卫后面，所以不会被全局守卫覆盖")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("p",[s("strong",[t._v("路由组件内的守卫")])]),t._v(" "),s("ul",[s("li",[t._v("beforeRouteEnter 进入路由前, 在路由独享守卫后调用 不能 获取组件实例 this，组件实例还没被创建")]),t._v(" "),s("li",[t._v("beforeRouteUpdate (2.2) 路由复用同一个组件时, 在当前路由改变，但是该组件被复用时调用 可以访问组件实例 this")]),t._v(" "),s("li",[t._v("beforeRouteLeave 离开当前路由时, 导航离开该组件的对应路由时调用，可以访问组件实例 this")])]),t._v(" "),s("h2",{attrs:{id:"_26-组件之间的传值通信"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_26-组件之间的传值通信"}},[t._v("#")]),t._v(" 26 组件之间的传值通信")]),t._v(" "),s("blockquote",[s("p",[t._v("组件之间通讯分为三种: 父传子、子传父、兄弟组件之间的通讯")])]),t._v(" "),s("p",[s("strong",[t._v("1. 父组件给子组件传值")])]),t._v(" "),s("ul",[s("li",[t._v("使用"),s("code",[t._v("props")]),t._v("，父组件可以使用"),s("code",[t._v("props")]),t._v("向子组件传递数据。")]),t._v(" "),s("li",[t._v("父组件"),s("code",[t._v("vue")]),t._v("模板"),s("code",[t._v("father.vue")]),t._v(":")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("child")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":msg")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("child")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" child "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./child.vue'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    components"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        child\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            message"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'father message'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("子组件vue模板child.vue:")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{msg}}"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    props"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        msg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            required"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[s("strong",[t._v("2. 子组件向父组件通信")])]),t._v(" "),s("blockquote",[s("p",[t._v("父组件向子组件传递事件方法，子组件通过"),s("code",[t._v("$emit")]),t._v("触发事件，回调给父组件")])]),t._v(" "),s("p",[t._v("父组件vue模板father.vue:")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("child")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@msgFunc")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("func"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("child")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" child "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./child.vue'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    components"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        child\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    methods"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("msg")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("子组件vue模板child.vue:")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("handleClick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("点我"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    props"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        msg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            required"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("methods")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//........")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'msgFunc'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[s("strong",[t._v("3. 非父子, 兄弟组件之间通信")])]),t._v(" "),s("blockquote",[s("p",[t._v("vue2中废弃了broadcast广播和分发事件的方法。父子组件中可以用props和$emit()。如何实现非父子组件间的通信，可以通过实例一个vue实例Bus作为媒介，要相互通信的兄弟组件之中，都引入Bus，然后通过分别调用Bus事件触发和监听来实现通信和参数传递。Bus.js可以是这样:")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Vue "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("在需要通信的组件都引入Bus.js:")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("toBus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("子组件传给兄弟组件"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Bus "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../common/js/bus.js'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tmethods"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toBus")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t        Bus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'on'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'来自兄弟组件'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("另一个组件也import Bus.js 在钩子函数中监听on事件")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Bus "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../common/js/bus.js'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        message"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mounted")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       Bus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'on'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("msg")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" msg\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"_27-vue与angular以及react的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_27-vue与angular以及react的区别"}},[t._v("#")]),t._v(" 27 Vue与Angular以及React的区别？")]),t._v(" "),s("p",[s("strong",[t._v("Vue与AngularJS的区别")])]),t._v(" "),s("ul",[s("li",[t._v("Angular采用TypeScript开发, 而Vue可以使用javascript也可以使用TypeScript")]),t._v(" "),s("li",[t._v("AngularJS依赖对数据做脏检查，所以Watcher越多越慢；Vue.js使用基于依赖追踪的观察并且使用异步队列更新，所有的数据都是独立触发的。")]),t._v(" "),s("li",[t._v("AngularJS社区完善, Vue的学习成本较小")])]),t._v(" "),s("p",[s("strong",[t._v("Vue与React的区别")])]),t._v(" "),s("ul",[s("li",[t._v("vue组件分为全局注册和局部注册，在react中都是通过import相应组件，然后模版中引用；")]),t._v(" "),s("li",[t._v("props是可以动态变化的，子组件也实时更新，在react中官方建议props要像纯函数那样，输入输出一致对应，而且不太建议通过props来更改视图；")]),t._v(" "),s("li",[t._v("子组件一般要显示地调用props选项来声明它期待获得的数据。而在react中不必需，另两者都有props校验机制；")]),t._v(" "),s("li",[t._v("每个Vue实例都实现了事件接口，方便父子组件通信，小型项目中不需要引入状态管理机制，而react必需自己实现；")]),t._v(" "),s("li",[t._v("使用插槽分发内容，使得可以混合父组件的内容与子组件自己的模板；")]),t._v(" "),s("li",[t._v("多了指令系统，让模版可以实现更丰富的功能，而React只能使用JSX语法；")]),t._v(" "),s("li",[t._v("Vue增加的语法糖computed和watch，而在React中需要自己写一套逻辑来实现；")]),t._v(" "),s("li",[t._v("react的思路是all in js，通过js来生成html，所以设计了jsx，还有通过js来操作css，社区的styled-component、jss等；而 vue是把html，css，js组合到一起，用各自的处理方式，vue有单文件组件，可以把html、css、js写到一个文件中，html提供了模板引擎来处理。")]),t._v(" "),s("li",[t._v("react做的事情很少，很多都交给社区去做，vue很多东西都是内置的，写起来确实方便一些， 比如 redux的combineReducer就对应vuex的modules， 比如reselect就对应vuex的getter和vue组件的computed， vuex的mutation是直接改变的原始数据，而redux的reducer是返回一个全新的state，所以redux结合immutable来优化性能，vue不需要。")]),t._v(" "),s("li",[t._v("react是整体的思路的就是函数式，所以推崇纯组件，数据不可变，单向数据流，当然需要双向的地方也可以做到，比如结合redux-form，组件的横向拆分一般是通过高阶组件。而vue是数据可变的，双向绑定，声明式的写法，vue组件的横向拆分很多情况下用mixin")])]),t._v(" "),s("h2",{attrs:{id:"_28-vuex是什么-怎么使用-哪种功能场景使用它"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_28-vuex是什么-怎么使用-哪种功能场景使用它"}},[t._v("#")]),t._v(" 28 vuex是什么？怎么使用？哪种功能场景使用它？")]),t._v(" "),s("ul",[s("li",[t._v("vuex 就是一个仓库，仓库里放了很多对象。其中 state 就是数据源存放地，对应于一般 vue 对象里面的 data")]),t._v(" "),s("li",[t._v("state 里面存放的数据是响应式的，vue 组件从 store 读取数据，若是 store 中的数据发生改变，依赖这相数据的组件也会发生更新")]),t._v(" "),s("li",[t._v("它通过 mapState 把全局的 state 和 getters 映射到当前组件的 computed 计算属性")])]),t._v(" "),s("blockquote",[s("p",[t._v("vuex的使用借助官方提供的一张图来说明:")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://poetries1.gitee.io/img-repo/2020/07/65.png",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("Vuex有5种属性: 分别是 state、getter、mutation、action、module;")])]),t._v(" "),s("p",[s("strong",[t._v("state")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("Vuex")]),t._v(" 使用单一状态树,即每个应用将仅仅包含一个store 实例，但单一状态树和模块化并不冲突。存放的数据状态，不可以直接修改里面的数据")])]),t._v(" "),s("p",[s("strong",[t._v("mutations")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("mutations")]),t._v("定义的方法动态修改Vuex 的 store 中的状态或数据。")])]),t._v(" "),s("p",[s("strong",[t._v("getters")])]),t._v(" "),s("blockquote",[s("p",[t._v("类似vue的计算属性，主要用来过滤一些数据")])]),t._v(" "),s("p",[s("strong",[t._v("action")])]),t._v(" "),s("ul",[s("li",[t._v("actions可以理解为通过将mutations里面处里数据的方法变成可异步的处理数据的方法，简单的说就是异步操作数据。view 层通过 store.dispath 来分发 action。")]),t._v(" "),s("li",[t._v("vuex 一般用于中大型 web 单页应用中对应用的状态进行管理，对于一些组件间关系较为简单的小型应用，使用 vuex 的必要性不是很大，因为完全可以用组件 prop 属性或者事件来完成父子组件之间的通信，vuex 更多地用于解决跨组件通信以及作为数据中心集中式存储数据。")]),t._v(" "),s("li",[t._v("使用Vuex解决非父子组件之间通信问题 vuex 是通过将 state 作为数据中心、各个组件共享 state 实现跨组件通信的，此时的数据完全独立于组件，因此将组件间共享的数据置于 State 中能有效解决多层级组件嵌套的跨组件通信问题")]),t._v(" "),s("li",[t._v("vuex 作为数据存储中心\nvuex 的 State 在单页应用的开发中本身具有一个“数据库”的作用，可以将组件中用到的数据存储在 State 中，并在 Action 中封装数据读写的逻辑。这时候存在一个问题，一般什么样的数据会放在 State 中呢？ 目前主要有两种数据会使用 vuex 进行管理：\n1、组件之间全局共享的数据\n2、通过后端异步请求的数据\n比如做加入购物车、登录状态等都可以使用Vuex来管理数据状态")])]),t._v(" "),s("blockquote",[s("p",[t._v("一般面试官问到这里vue基本知识就差不多了， 如果更深入的研究就是和你探讨关于vue的底层源码；或者是具体在项目中遇到的问题，下面列举几个项目中可能遇到的问题：")])]),t._v(" "),s("ul",[s("li",[t._v("开发时，改变数组或者对象的数据，但是页面没有更新如何解决？")]),t._v(" "),s("li",[t._v("vue弹窗后如何禁止滚动条滚动？")]),t._v(" "),s("li",[t._v("如何在 vue 项目里正确地引用 jquery 和 jquery-ui的插件")])]),t._v(" "),s("h2",{attrs:{id:"_28-watch与computed的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_28-watch与computed的区别"}},[t._v("#")]),t._v(" 28 watch与computed的区别")]),t._v(" "),s("p",[s("strong",[t._v("computed:")])]),t._v(" "),s("ul",[s("li",[t._v("computed是计算属性,也就是计算值,它更多用于计算值的场景")]),t._v(" "),s("li",[t._v("computed具有缓存性,computed的值在getter执行后是会缓存的，只有在它依赖的属性值改变之后，下一次获取computed的值时才会重新调用对应的getter来计算\ncomputed适用于计算比较消耗性能的计算场景")])]),t._v(" "),s("p",[s("strong",[t._v("watch:")])]),t._v(" "),s("ul",[s("li",[t._v("更多的是「观察」的作用,类似于某些数据的监听回调,用于观察props $emit或者本组件的值,当数据变化时来执行回调进行后续操作")]),t._v(" "),s("li",[t._v("无缓存性，页面重新渲染时值不变化也会执行")])]),t._v(" "),s("p",[s("strong",[t._v("小结:")])]),t._v(" "),s("ul",[s("li",[t._v("当我们要进行数值计算,而且依赖于其他数据，那么把这个数据设计为computed")]),t._v(" "),s("li",[t._v("如果你需要在某个数据变化时做一些事情，使用watch来观察这个数据变化")])]),t._v(" "),s("h2",{attrs:{id:"_29、vue是如何实现双向绑定的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_29、vue是如何实现双向绑定的"}},[t._v("#")]),t._v(" 29、Vue是如何实现双向绑定的?")]),t._v(" "),s("blockquote",[s("p",[t._v("利用Object.defineProperty劫持对象的访问器,在属性值发生变化时我们可以获取变化,然后根据变化进行后续响应,在vue3.0中通过Proxy代理对象进行类似的操作。")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这是将要被劫持的对象")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("say")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'古天乐'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'给大家推荐一款超好玩的游戏'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'渣渣辉'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'戏我演过很多,可游戏我只玩贪玩懒月'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'来做我的兄弟'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 遍历对象,对其属性值进行劫持")]),t._v("\nObject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("keys")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    enumerable"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    configurable"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'get'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newVal")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当属性值发生变化时我们可以进行额外操作")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("大家好,我系")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("newVal"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("say")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newVal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\ndata"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'渣渣辉'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//大家好,我系渣渣辉")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//戏我演过很多,可游戏我只玩贪玩懒月")]),t._v("\n")])])]),s("h2",{attrs:{id:"_29-vue2-x-响应式原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_29-vue2-x-响应式原理"}},[t._v("#")]),t._v(" 29 Vue2.x 响应式原理")]),t._v(" "),s("blockquote",[s("p",[t._v("Vue 采用数据劫持结合发布—订阅模式的方法，通过 Object.defineProperty() 来劫持各个属性的 setter，getter，在数据变动时发布消息给订阅者，触发相应的监听回调。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://poetries1.gitee.io/img-repo/20190922/vue.jpeg",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Observer")]),t._v(" 遍历数据对象，给所有属性加上 "),s("code",[t._v("setter")]),t._v(" 和 "),s("code",[t._v("getter")]),t._v("，监听数据的变化")]),t._v(" "),s("li",[s("code",[t._v("compile")]),t._v(" 解析模板指令，将模板中的变量替换成数据，然后初始化渲染页面视图，并将每个指令对应的节点绑定更新函数，添加监听数据的订阅者，一旦数据有变动，收到通知，更新视图")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("Watcher")]),t._v(" 订阅者是 "),s("code",[t._v("Observer")]),t._v(" 和 "),s("code",[t._v("Compile")]),t._v(" 之间通信的桥梁，主要做的事情")])]),t._v(" "),s("ul",[s("li",[t._v("在自身实例化时往属性订阅器 ("),s("code",[t._v("dep")]),t._v(") 里面添加自己")]),t._v(" "),s("li",[t._v("待属性变动 "),s("code",[t._v("dep.notice()")]),t._v(" 通知时，调用自身的 "),s("code",[t._v("update()")]),t._v(" 方法，并触发 "),s("code",[t._v("Compile")]),t._v(" 中绑定的回调")])]),t._v(" "),s("p",[s("strong",[t._v("Vue3.x响应式数据原理")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("Vue3.x")]),t._v("改用"),s("code",[t._v("Proxy")]),t._v("替代"),s("code",[t._v("Object.defineProperty")]),t._v("。因为"),s("code",[t._v("Proxy")]),t._v("可以直接监听对象和数组的变化，并且有多达13种拦截方法。并且作为新标准将受到浏览器厂商重点持续的性能优化。")])]),t._v(" "),s("p",[s("code",[t._v("Proxy")]),t._v("只会代理对象的第一层，那么"),s("code",[t._v("Vue3")]),t._v("又是怎样处理这个问题的呢？")]),t._v(" "),s("blockquote",[s("p",[t._v("判断当前"),s("code",[t._v("Reflect.get的")]),t._v("返回值是否为"),s("code",[t._v("Object")]),t._v("，如果是则再通过"),s("code",[t._v("reactive")]),t._v("方法做代理， 这样就实现了深度观测。")])]),t._v(" "),s("p",[s("strong",[t._v("监测数组的时候可能触发多次get/set，那么如何防止触发多次呢？")])]),t._v(" "),s("blockquote",[s("p",[t._v("我们可以判断"),s("code",[t._v("key")]),t._v("是否为当前被代理对象"),s("code",[t._v("target")]),t._v("自身属性，也可以判断旧值与新值是否相等，只有满足以上两个条件之一时，才有可能执行"),s("code",[t._v("trigger")])])]),t._v(" "),s("h2",{attrs:{id:"_30-v-model双向绑定原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_30-v-model双向绑定原理"}},[t._v("#")]),t._v(" 30 v-model双向绑定原理")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("v-model")]),t._v("本质上是语法糖，"),s("code",[t._v("v-model")]),t._v("在内部为不同的输入元素使用不同的属性并抛出不同的事件")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("text")]),t._v(" 和 "),s("code",[t._v("textarea")]),t._v(" 元素使用 value 属性和 input 事件")]),t._v(" "),s("li",[s("code",[t._v("checkbox")]),t._v(" 和 "),s("code",[t._v("radio")]),t._v(" 使用 checked 属性和 change 事件")]),t._v(" "),s("li",[s("code",[t._v("select")]),t._v(" 字段将 value 作为 prop 并将 change 作为事件")])]),t._v(" "),s("p",[s("strong",[t._v("所以我们可以v-model进行如下改写：")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-model")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("sth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n//  等同于\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("sth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@input")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("sth = $event.target.value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),s("ul",[s("li",[t._v("这个语法糖必须是固定的，也就是说属性必须为"),s("code",[t._v("value")]),t._v("，方法名必须为："),s("code",[t._v("input")]),t._v("。")]),t._v(" "),s("li",[t._v("知道了"),s("code",[t._v("v-model")]),t._v("的原理，我们可以在自定义组件上实现"),s("code",[t._v("v-model")])])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("//Parent\n<template>\n    {{num}}\n    <Child v-model=\"num\">\n</template>\nexport default {\n    data(){\n        return {\n            num: 0\n        }\n    }\n}\n\n//Child\n<template>\n    <div @click=\"add\">Add</div>\n</template>\nexport default {\n    props: ['value'],\n    methods:{\n        add(){\n            this.$emit('input', this.value + 1)\n        }\n    }\n}\n")])])]),s("h2",{attrs:{id:"_31-scoped样式穿透"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_31-scoped样式穿透"}},[t._v("#")]),t._v(" 31 scoped样式穿透")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("scoped")]),t._v("虽然避免了组件间样式污染，但是很多时候我们需要修改组件中的某个样式，但是又不想去除"),s("code",[t._v("scoped")]),t._v("属性")])]),t._v(" "),s("ol",[s("li",[t._v("使用"),s("code",[t._v("/deep/")])])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('//Parent\n<template>\n<div class="wrap">\n    <Child />\n</div>\n</template>\n\n<style lang="scss" scoped>\n.wrap /deep/ .box{\n    background: red;\n}\n</style>\n\n//Child\n<template>\n    <div class="box"></div>\n</template>\n')])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("使用两个style标签")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('//Parent\n<template>\n<div class="wrap">\n    <Child />\n</div>\n</template>\n\n<style lang="scss" scoped>\n//其他样式\n</style>\n<style lang="scss">\n.wrap .box{\n    background: red;\n}\n</style>\n\n//Child\n<template>\n    <div class="box"></div>\n</template>\n')])])]),s("h2",{attrs:{id:"_32-ref的作用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_32-ref的作用"}},[t._v("#")]),t._v(" 32 ref的作用")]),t._v(" "),s("ul",[s("li",[t._v("获取"),s("code",[t._v("dom")]),t._v("元素"),s("code",[t._v("this.$refs.box")])]),t._v(" "),s("li",[t._v("获取子组件中的"),s("code",[t._v("datathis.$refs.box.msg")])]),t._v(" "),s("li",[t._v("调用子组件中的方法"),s("code",[t._v("this.$refs.box.open()")])])]),t._v(" "),s("h2",{attrs:{id:"_33-computed和watch区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_33-computed和watch区别"}},[t._v("#")]),t._v(" 33 computed和watch区别")]),t._v(" "),s("ol",[s("li",[t._v("当页面中有某些数据依赖其他数据进行变动的时候，可以使用计算属性computed")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("Computed")]),t._v("本质是一个具备缓存的"),s("code",[t._v("watcher")]),t._v("，依赖的属性发生变化就会更新视图。 适用于计算比较消耗性能的计算场景。当表达式过于复杂时，在模板中放入过多逻辑会让模板难以维护，可以将复杂的逻辑放入计算属性中处理")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://poetries1.gitee.io/img-repo/2020/01/25.png",alt:""}})]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fullName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            firstName"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xie'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            lastName"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'yu fei'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    computed"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("fullName")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lastName\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[s("code",[t._v("watch")]),t._v("用于观察和监听页面上的vue实例，如果要在数据变化的同时进行异步操作或者是比较大的开销，那么"),s("code",[t._v("watch")]),t._v("为最佳选择")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("Watch")]),t._v("没有缓存性，更多的是观察的作用，可以监听某些数据执行回调。当我们需要深度监听对象中的属性时，可以打开"),s("code",[t._v("deep：true")]),t._v("选项，这样便会对对象中的每一项进行监听。这样会带来性能问题，优化的话可以使用字符串形式监听，如果没有写到组件中，不要忘记使用"),s("code",[t._v("unWatch")]),t._v("手动注销")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://poetries1.gitee.io/img-repo/2020/01/26.png",alt:""}})]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("<template>{{fullName}}</template>\nexport default {\n    data(){\n        return {\n            firstName: 'xie',\n            lastName: 'xiao fei',\n            fullName: 'xie xiao fei'\n        }\n    },\n    watch:{\n        firstName(val) {\n            this.fullName = val + ' ' + this.lastName\n        },\n        lastName(val) {\n            this.fullName = this.firstName + ' ' + val\n        }\n    }\n}\n")])])]),s("h2",{attrs:{id:"_34-vue-router守卫"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_34-vue-router守卫"}},[t._v("#")]),t._v(" 34 vue-router守卫")]),t._v(" "),s("blockquote",[s("p",[t._v("导航守卫 "),s("code",[t._v("router.beforeEach")]),t._v(" 全局前置守卫")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("to: Route")]),t._v(": 即将要进入的目标（路由对象）")]),t._v(" "),s("li",[s("code",[t._v("from: Route")]),t._v(": 当前导航正要离开的路由")]),t._v(" "),s("li",[s("code",[t._v("next: Function")]),t._v(": 一定要调用该方法来 "),s("code",[t._v("resolve")]),t._v(" 这个钩子。（一定要用这个函数才能去到下一个路由，如果不用就拦截）")]),t._v(" "),s("li",[t._v("执行效果依赖 next 方法的调用参数。")]),t._v(" "),s("li",[s("code",[t._v("next()")]),t._v(": 进行管道中的下一个钩子。如果全部钩子执行完了，则导航的状态就是 confirmed (确认的)。")]),t._v(" "),s("li",[s("code",[t._v("next(false)")]),t._v(":取消进入路由，url地址重置为from路由地址(也就是将要离开的路由地址)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// main.js 入口文件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" router "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./router'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入路由")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeResolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'afterEach 全局后置钩子'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("路由独享的守卫 你可以在路由配置上直接定义 "),s("code",[t._v("beforeEnter")]),t._v(" 守卫")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VueRouter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  routes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Foo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("beforeEnter")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("组件内的守卫你可以在路由组件内直接定义以下路由导航守卫")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Foo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeRouteEnter")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在渲染该组件的对应路由被 confirm 前调用")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不！能！获取组件实例 `this`")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 因为当守卫执行前，组件实例还没被创建")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeRouteUpdate")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在当前路由改变，但是该组件被复用时调用")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 举例来说，对于一个带有动态参数的路径 /foo/:id，在 /foo/1 和 /foo/2 之间跳转的时候，")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 由于会渲染同样的 Foo 组件，因此组件实例会被复用。而这个钩子就会在这个情况下被调用。")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可以访问组件实例 `this`")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeRouteLeave")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导航离开该组件的对应路由时调用，我们用它来禁止用户离开")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可以访问组件实例 `this`")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 比如还未保存草稿，或者在用户离开前，")]),t._v("\n    将setInterval销毁，防止离开之后，定时器还在调用。\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"_35-vue修饰符"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_35-vue修饰符"}},[t._v("#")]),t._v(" 35 vue修饰符")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("stop")]),t._v("：阻止事件的冒泡")]),t._v(" "),s("li",[s("code",[t._v("prevent")]),t._v("：阻止事件的默认行为")]),t._v(" "),s("li",[s("code",[t._v("once")]),t._v("：只触发一次")]),t._v(" "),s("li",[s("code",[t._v("self")]),t._v("：只触发自己的事件行为时，才会执行")])]),t._v(" "),s("h2",{attrs:{id:"_36-vue项目中的性能优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_36-vue项目中的性能优化"}},[t._v("#")]),t._v(" 36 vue项目中的性能优化")]),t._v(" "),s("ul",[s("li",[t._v("不要在模板里面写过多表达式")]),t._v(" "),s("li",[t._v("循环调用子组件时添加key")]),t._v(" "),s("li",[t._v("频繁切换的使用v-show，不频繁切换的使用v-if")]),t._v(" "),s("li",[t._v("尽量少用float，可以用flex")]),t._v(" "),s("li",[t._v("按需加载，可以用require或者import()按需加载需要的组件")]),t._v(" "),s("li",[t._v("路由懒加载")])]),t._v(" "),s("h2",{attrs:{id:"_37-vue-extend和vue-component"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_37-vue-extend和vue-component"}},[t._v("#")]),t._v(" 37 vue.extend和vue.component")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("extend")]),t._v("是构造一个组件的语法器。\n然后这个组件你可以作用到Vue.component这个全局注册方法里还可以在任意vue模板里使用组件。\n也可以作用到vue实例或者某个组件中的components属性中并在内部使用apple组件。")]),t._v(" "),s("li",[s("code",[t._v("Vue.component")]),t._v("你可以创建 ，也可以取组件。")])]),t._v(" "),s("h2",{attrs:{id:"_38-vue的spa-如何优化加载速度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_38-vue的spa-如何优化加载速度"}},[t._v("#")]),t._v(" 38 Vue的SPA 如何优化加载速度")]),t._v(" "),s("ul",[s("li",[t._v("减少入口文件体积")]),t._v(" "),s("li",[t._v("静态资源本地缓存")]),t._v(" "),s("li",[t._v("开启Gzip压缩")]),t._v(" "),s("li",[t._v("使用SSR,nuxt.js")])]),t._v(" "),s("h2",{attrs:{id:"_39-移动端如何设计一个比较友好的header组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_39-移动端如何设计一个比较友好的header组件"}},[t._v("#")]),t._v(" 39 移动端如何设计一个比较友好的Header组件？")]),t._v(" "),s("blockquote",[s("p",[t._v("当时的思路是头部(Header)一般分为左、中、右三个部分，分为三个区域来设计，中间为主标题，每个页面的标题肯定不同，所以可以通过vue props的方式做成可配置对外进行暴露，左侧大部分页面可能都是回退按钮，但是样式和内容不尽相同，右侧一般都是具有功能性的操作按钮，所以左右两侧可以通过vue slot插槽的方式对外暴露以实现多样化，同时也可以提供default slot默认插槽来统一页面风格")])]),t._v(" "),s("h2",{attrs:{id:"_40-proxy与object-defineproperty的优劣对比"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_40-proxy与object-defineproperty的优劣对比"}},[t._v("#")]),t._v(" 40 Proxy与Object.defineProperty的优劣对比?")]),t._v(" "),s("p",[s("strong",[t._v("Proxy的优势如下:")])]),t._v(" "),s("ul",[s("li",[t._v("Proxy可以直接监听对象而非属性")]),t._v(" "),s("li",[t._v("Proxy可以直接监听数组的变化")]),t._v(" "),s("li",[t._v("Proxy有多达13种拦截方法,不限于apply、ownKeys、deleteProperty、has等等是Object.defineProperty不具备的")]),t._v(" "),s("li",[t._v("Proxy返回的是一个新对象,我们可以只操作新的对象达到目的,而Object.defineProperty只能遍历对象属性直接修改")]),t._v(" "),s("li",[t._v("Proxy作为新标准将受到浏览器厂商重点持续的性能优化，也就是传说中的新标准的性能红利")])]),t._v(" "),s("p",[s("strong",[t._v("Object.defineProperty的优势如下:")])]),t._v(" "),s("p",[t._v("兼容性好,支持IE9")]),t._v(" "),s("h2",{attrs:{id:"_41-你是如何理解vue的响应式系统的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_41-你是如何理解vue的响应式系统的"}},[t._v("#")]),t._v(" 41 你是如何理解Vue的响应式系统的?")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://poetries1.gitee.io/img-repo/2020/07/66.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("响应式系统简述:")])]),t._v(" "),s("ul",[s("li",[t._v("任何一个 Vue Component 都有一个与之对应的 Watcher 实例。")]),t._v(" "),s("li",[t._v("Vue 的 data 上的属性会被添加 getter 和 setter 属性。")]),t._v(" "),s("li",[t._v("当 Vue Component render 函数被执行的时候, data 上会被 触碰(touch), 即被读, getter 方法会被调用, 此时 Vue 会去记录此 Vue component 所依赖的所有 data。(这一过程被称为依赖收集)")]),t._v(" "),s("li",[t._v("data 被改动时（主要是用户操作）, 即被写, setter 方法会被调用, 此时 Vue 会去通知所有依赖于此 data 的组件去调用他们的 render 函数进行更新。")])]),t._v(" "),s("h2",{attrs:{id:"_42-既然vue通过数据劫持可以精准探测数据变化-为什么还需要虚拟dom进行diff检测差异"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_42-既然vue通过数据劫持可以精准探测数据变化-为什么还需要虚拟dom进行diff检测差异"}},[t._v("#")]),t._v(" 42 既然Vue通过数据劫持可以精准探测数据变化,为什么还需要虚拟DOM进行diff检测差异?")]),t._v(" "),s("blockquote",[s("p",[t._v("现代前端框架有两种方式侦测变化,一种是pull一种是push")])]),t._v(" "),s("ul",[s("li",[t._v("pull: 其代表为React,我们可以回忆一下React是如何侦测到变化的,我们通常会用setStateAPI显式更新,然后React会进行一层层的Virtual Dom Diff操作找出差异,然后Patch到DOM上,React从一开始就不知道到底是哪发生了变化,只是知道「有变化了」,然后再进行比较暴力的Diff操作查找「哪发生变化了」，另外一个代表就是Angular的脏检查操作。")]),t._v(" "),s("li",[t._v("push: Vue的响应式系统则是push的代表,当Vue程序初始化的时候就会对数据data进行依赖的收集,一但数据发生变化,响应式系统就会立刻得知,因此Vue是一开始就知道是「在哪发生变化了」,但是这又会产生一个问题,如果你熟悉Vue的响应式系统就知道,通常一个绑定一个数据就需要一个Watcher,一但我们的绑定细粒度过高就会产生大量的Watcher,这会带来内存以及依赖追踪的开销,而细粒度过低会无法精准侦测变化,因此Vue的设计是选择中等细粒度的方案,在组件级别进行push侦测的方式,也就是那套响应式系统,通常我们会第一时间侦测到发生变化的组件,然后在组件内部进行Virtual Dom Diff获取更加具体的差异,而Virtual Dom Diff则是pull操作,Vue是push+pull结合的方式进行变化侦测的")])]),t._v(" "),s("h2",{attrs:{id:"_43-vue为什么没有类似于react中shouldcomponentupdate的生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_43-vue为什么没有类似于react中shouldcomponentupdate的生命周期"}},[t._v("#")]),t._v(" 43 Vue为什么没有类似于React中shouldComponentUpdate的生命周期？")]),t._v(" "),s("p",[t._v("考点: Vue的变化侦测原理")]),t._v(" "),s("p",[t._v("前置知识: 依赖收集、虚拟DOM、响应式系统")]),t._v(" "),s("blockquote",[s("p",[t._v("根本原因是Vue与React的变化侦测方式有所不同")])]),t._v(" "),s("ul",[s("li",[t._v("React是pull的方式侦测变化,当React知道发生变化后,会使用Virtual Dom Diff进行差异检测,但是很多组件实际上是肯定不会发生变化的,这个时候需要用shouldComponentUpdate进行手动操作来减少diff,从而提高程序整体的性能.")]),t._v(" "),s("li",[t._v("Vue是pull+push的方式侦测变化的,在一开始就知道那个组件发生了变化,因此在push的阶段并不需要手动控制diff,而组件内部采用的diff方式实际上是可以引入类似于shouldComponentUpdate相关生命周期的,但是通常合理大小的组件不会有过量的diff,手动优化的价值有限,因此目前Vue并没有考虑引入shouldComponentUpdate这种手动优化的生命周期.")])]),t._v(" "),s("h2",{attrs:{id:"_44-vue中的key到底有什么用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_44-vue中的key到底有什么用"}},[t._v("#")]),t._v(" 44 Vue中的key到底有什么用？")]),t._v(" "),s("ul",[s("li",[t._v("key是为Vue中的vnode标记的唯一id,通过这个key,我们的diff操作可以更准确、更快速")]),t._v(" "),s("li",[t._v("diff算法的过程中,先会进行新旧节点的首尾交叉对比,当无法匹配的时候会用新节点的key与旧节点进行比对,然后超出差异.")])]),t._v(" "),s("blockquote",[s("p",[t._v("diff程可以概括为：oldCh和newCh各有两个头尾的变量StartIdx和EndIdx，它们的2个变量相互比较，一共有4种比较方式。如果4种比较都没匹配，如果设置了key，就会用key进行比较，在比较的过程中，变量会往中间靠，一旦StartIdx>EndIdx表明oldCh和newCh至少有一个已经遍历完了，就会结束比较,这四种比较方式就是首、尾、旧尾新头、旧头新尾.")])]),t._v(" "),s("blockquote",[s("p",[t._v("准确: 如果不加key,那么vue会选择复用节点(Vue的就地更新策略),导致之前节点的状态被保留下来,会产生一系列的bug.\n快速: key的唯一性可以被Map数据结构充分利用,相比于遍历查找的时间复杂度"),s("code",[t._v("O(n)")]),t._v(","),s("code",[t._v("Map")]),t._v("的时间复杂度仅仅为"),s("code",[t._v("O(1)")]),t._v(".")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://poetries1.gitee.io/img-repo/2020/07/67.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"_45-vue-项目性能优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_45-vue-项目性能优化"}},[t._v("#")]),t._v(" 45 vue 项目性能优化")]),t._v(" "),s("p",[s("strong",[t._v("代码层面：")])]),t._v(" "),s("ul",[s("li",[t._v("合理使用 "),s("code",[t._v("v-if")]),t._v(" 和 "),s("code",[t._v("v-show")])]),t._v(" "),s("li",[t._v("区分 "),s("code",[t._v("computed")]),t._v(" 和 "),s("code",[t._v("watch")]),t._v(" 的使用")]),t._v(" "),s("li",[s("code",[t._v("v-for")]),t._v(" 遍历为 "),s("code",[t._v("item")]),t._v(" 添加 "),s("code",[t._v("key")])]),t._v(" "),s("li",[s("code",[t._v("v-for")]),t._v(" 遍历避免同时使用 "),s("code",[t._v("v-if")])]),t._v(" "),s("li",[t._v("通过 "),s("code",[t._v("addEventListener")]),t._v("添加的事件在组件销毁时要用 "),s("code",[t._v("removeEventListener")]),t._v(" 手动移除这些事件的监听")]),t._v(" "),s("li",[t._v("图片懒加载")]),t._v(" "),s("li",[t._v("路由懒加载")]),t._v(" "),s("li",[t._v("第三方插件按需引入")]),t._v(" "),s("li",[s("code",[t._v("SSR")]),t._v("服务端渲染，首屏加载速度快，"),s("code",[t._v("SEO")]),t._v("效果好")])]),t._v(" "),s("p",[s("strong",[t._v("Webpack 层面优化：")])]),t._v(" "),s("ul",[s("li",[t._v("对图片进行压缩")]),t._v(" "),s("li",[t._v("使用 "),s("code",[t._v("CommonsChunkPlugin")]),t._v(" 插件提取公共代码")]),t._v(" "),s("li",[t._v("提取组件的 CSS")]),t._v(" "),s("li",[t._v("优化 "),s("code",[t._v("SourceMap")])]),t._v(" "),s("li",[t._v("构建结果输出分析，利用 "),s("code",[t._v("webpack-bundle-analyzer")]),t._v(" 可视化分析工具")])]),t._v(" "),s("h2",{attrs:{id:"_46-nexttick"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_46-nexttick"}},[t._v("#")]),t._v(" 46 nextTick")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("nextTick")]),t._v(" 可以让我们在下次 "),s("code",[t._v("DOM")]),t._v(" 更新循环结束之后执行延迟回调，用于获得更新后的 "),s("code",[t._v("DOM")])])]),t._v(" "),s("p",[s("code",[t._v("nextTick")]),t._v("主要使用了宏任务和微任务。根据执行环境分别尝试采用")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Promise")])]),t._v(" "),s("li",[s("code",[t._v("MutationObserver")])]),t._v(" "),s("li",[s("code",[t._v("setImmediate")])]),t._v(" "),s("li",[t._v("如果以上都不行则采用"),s("code",[t._v("setTimeout")])])]),t._v(" "),s("blockquote",[s("p",[t._v("定义了一个异步方法，多次调用"),s("code",[t._v("nextTick")]),t._v("会将方法存入队列中，通过这个异步方法清空当前队列")])]),t._v(" "),s("h2",{attrs:{id:"_47-说一下vue2-x中如何监测数组变化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_47-说一下vue2-x中如何监测数组变化"}},[t._v("#")]),t._v(" 47 说一下vue2.x中如何监测数组变化")]),t._v(" "),s("blockquote",[s("p",[t._v("使用了函数劫持的方式，重写了数组的方法，"),s("code",[t._v("Vue")]),t._v("将"),s("code",[t._v("data")]),t._v("中的数组进行了原型链重写，指向了自己定义的数组原型方法。这样当调用数组api时，可以通知依赖更新。如果数组中包含着引用类型，会对数组中的引用类型再次递归遍历进行监控。这样就实现了监测数组变化。")])]),t._v(" "),s("h2",{attrs:{id:"_48-你的接口请求一般放在哪个生命周期中"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_48-你的接口请求一般放在哪个生命周期中"}},[t._v("#")]),t._v(" 48 你的接口请求一般放在哪个生命周期中")]),t._v(" "),s("blockquote",[s("p",[t._v("接口请求一般放在"),s("code",[t._v("mounted")]),t._v("中，但需要注意的是服务端渲染时不支持"),s("code",[t._v("mounted")]),t._v("，需要放到"),s("code",[t._v("created")]),t._v("中")])]),t._v(" "),s("h2",{attrs:{id:"_49-组件中的data为什么是一个函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_49-组件中的data为什么是一个函数"}},[t._v("#")]),t._v(" 49 组件中的data为什么是一个函数")]),t._v(" "),s("blockquote",[s("p",[t._v("一个组件被复用多次的话，也就会创建多个实例。本质上，这些实例用的都是同一个构造函数。如果"),s("code",[t._v("data")]),t._v("是对象的话，对象属于引用类型，会影响到所有的实例。所以为了保证组件不同的实例之间d"),s("code",[t._v("ata")]),t._v("不冲突，data必须是一个函数")])]),t._v(" "),s("h2",{attrs:{id:"_50-说一下v-model的原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_50-说一下v-model的原理"}},[t._v("#")]),t._v(" 50 说一下v-model的原理")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("v-model")]),t._v("本质就是一个语法糖，可以看成是"),s("code",[t._v("value + input")]),t._v("方法的语法糖。 可以通过"),s("code",[t._v("model")]),t._v("属性的"),s("code",[t._v("prop")]),t._v("和"),s("code",[t._v("event")]),t._v("属性来进行自定义。原生的"),s("code",[t._v("v-model")]),t._v("，会根据标签的不同生成不同的事件和属性")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-model")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("searchData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("等价于")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" \n\t"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("v-bind:")]),t._v("value")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("searchData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("v-on:")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("searchData = $event.target.value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("当在input元素中使用"),s("code",[t._v("v-model")]),t._v("实现双数据绑定，其实就是在输入的时候触发元素的input事件，通过这个语法糖，实现了数据的双向绑定。")]),t._v(" "),s("h2",{attrs:{id:"_51-vue事件绑定原理说一下"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_51-vue事件绑定原理说一下"}},[t._v("#")]),t._v(" 51 Vue事件绑定原理说一下")]),t._v(" "),s("blockquote",[s("p",[t._v("原生事件绑定是通过"),s("code",[t._v("addEventListener")]),t._v("绑定给真实元素的，组件事件绑定是通过"),s("code",[t._v("Vue")]),t._v("自定义的"),s("code",[t._v("$on")]),t._v("实现的")])]),t._v(" "),s("h2",{attrs:{id:"_52-vue模版编译原理知道吗-能简单说一下吗"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_52-vue模版编译原理知道吗-能简单说一下吗"}},[t._v("#")]),t._v(" 52 Vue模版编译原理知道吗，能简单说一下吗？")]),t._v(" "),s("blockquote",[s("p",[t._v("简单说，"),s("code",[t._v("Vue")]),t._v("的编译过程就是将"),s("code",[t._v("template")]),t._v("转化为"),s("code",[t._v("render")]),t._v("函数的过程。会经历以下阶段：")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("生成"),s("code",[t._v("AST")]),t._v("树")])]),t._v(" "),s("li",[s("p",[t._v("优化")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("codegen")])])]),t._v(" "),s("li",[s("p",[t._v("首先解析模版，生成"),s("code",[t._v("AST")]),t._v("语法树(一种用J"),s("code",[t._v("avaScript")]),t._v("对象的形式来描述整个模板)。 使用大量的正则表达式对模板进行解析，遇到标签、文本的时候都会执行对应的钩子进行相关处理。")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("Vue")]),t._v("的数据是响应式的，但其实模板中并不是所有的数据都是响应式的。有一些数据首次渲染后就不会再变化，对应的DOM也不会变化。那么优化过程就是深度遍历AST树，按照相关条件对树节点进行标记。这些被标记的节点(静态节点)我们就可以跳过对它们的比对，对运行时的模板起到很大的优化作用。")])]),t._v(" "),s("li",[s("p",[t._v("编译的最后一步是将优化后的"),s("code",[t._v("AST")]),t._v("树转换为可执行的代码")])])]),t._v(" "),s("h2",{attrs:{id:"_53-vue2-x和vue3-x渲染器的diff算法分别说一下"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_53-vue2-x和vue3-x渲染器的diff算法分别说一下"}},[t._v("#")]),t._v(" 53 Vue2.x和Vue3.x渲染器的diff算法分别说一下")]),t._v(" "),s("blockquote",[s("p",[t._v("简单来说，"),s("code",[t._v("diff")]),t._v("算法有以下过程")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("同级比较，再比较子节点")])]),t._v(" "),s("li",[s("p",[t._v("先判断一方有子节点一方没有子节点的情况(如果新的"),s("code",[t._v("children")]),t._v("没有子节点，将旧的子节点移除)")])]),t._v(" "),s("li",[s("p",[t._v("比较都有子节点的情况(核心"),s("code",[t._v("diff")]),t._v(")")])]),t._v(" "),s("li",[s("p",[t._v("递归比较子节点")])]),t._v(" "),s("li",[s("p",[t._v("正常"),s("code",[t._v("Diff")]),t._v("两个树的时间复杂度是"),s("code",[t._v("O(n^3)")]),t._v("，但实际情况下我们很少会进行跨层级的移动"),s("code",[t._v("DOM")]),t._v("，所以"),s("code",[t._v("Vue")]),t._v("将"),s("code",[t._v("Diff")]),t._v("进行了优化，从"),s("code",[t._v("O(n^3) -> O(n)")]),t._v("，只有当新旧"),s("code",[t._v("children")]),t._v("都为多个子节点时才需要用核心的"),s("code",[t._v("Diff")]),t._v("算法进行同层级比较。")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("Vue2")]),t._v("的核心"),s("code",[t._v("Diff")]),t._v("算法采用了双端比较的算法，同时从新旧"),s("code",[t._v("children")]),t._v("的两端开始进行比较，借助"),s("code",[t._v("key")]),t._v("值找到可复用的节点，再进行相关操作。相比"),s("code",[t._v("React")]),t._v("的"),s("code",[t._v("Diff")]),t._v("算法，同样情况下可以减少移动节点次数，减少不必要的性能损耗，更加的优雅")])]),t._v(" "),s("li",[s("p",[t._v("在创建"),s("code",[t._v("VNode")]),t._v("时就确定其类型，以及在"),s("code",[t._v("mount/patch")]),t._v("的过程中采用位运算来判断一个"),s("code",[t._v("VNode")]),t._v("的类型，在这个基础之上再配合核心的"),s("code",[t._v("Diff")]),t._v("算法，使得性能上较"),s("code",[t._v("Vue2.x")]),t._v("有了提升")])])]),t._v(" "),s("h2",{attrs:{id:"_54-再说一下虚拟dom以及key属性的作用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_54-再说一下虚拟dom以及key属性的作用"}},[t._v("#")]),t._v(" 54 再说一下虚拟Dom以及key属性的作用")]),t._v(" "),s("ul",[s("li",[t._v("由于在浏览器中操作"),s("code",[t._v("DOM")]),t._v("是很昂贵的。频繁的操作"),s("code",[t._v("DOM")]),t._v("，会产生一定的性能问题。这就是虚拟Dom的产生原因")]),t._v(" "),s("li",[s("code",[t._v("Virtual DOM")]),t._v("本质就是用一个原生的JS对象去描述一个"),s("code",[t._v("DOM")]),t._v("节点。是对真实DOM的一层抽象")]),t._v(" "),s("li",[s("code",[t._v("VirtualDOM")]),t._v("映射到真实DOM要经历"),s("code",[t._v("VNode")]),t._v("的"),s("code",[t._v("create")]),t._v("、"),s("code",[t._v("diff")]),t._v("、"),s("code",[t._v("patch")]),t._v("等阶段")])]),t._v(" "),s("p",[s("strong",[t._v("key的作用是尽可能的复用 DOM 元素")])]),t._v(" "),s("ul",[s("li",[t._v("新旧 "),s("code",[t._v("children")]),t._v(" 中的节点只有顺序是不同的时候，最佳的操作应该是通过移动元素的位置来达到更新的目的")]),t._v(" "),s("li",[t._v("需要在新旧 "),s("code",[t._v("children")]),t._v(" 的节点中保存映射关系，以便能够在旧 "),s("code",[t._v("children")]),t._v(" 的节点中找到可复用的节点。"),s("code",[t._v("key")]),t._v("也就是"),s("code",[t._v("children")]),t._v("中节点的唯一标识")])]),t._v(" "),s("h2",{attrs:{id:"_55-vue中组件生命周期调用顺序说一下"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_55-vue中组件生命周期调用顺序说一下"}},[t._v("#")]),t._v(" 55 Vue中组件生命周期调用顺序说一下")]),t._v(" "),s("ul",[s("li",[t._v("渲染顺序：先父后子，完成顺序：先子后父")]),t._v(" "),s("li",[t._v("更新顺序：父更新导致子更新，子更新完成后父")]),t._v(" "),s("li",[t._v("销毁顺序：先父后子，完成顺序：先子后父")])]),t._v(" "),s("p",[s("strong",[t._v("加载渲染过程")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("父beforeCreate")]),t._v("->"),s("code",[t._v("父created")]),t._v("->"),s("code",[t._v("父beforeMount")]),t._v("->"),s("code",[t._v("子beforeCreate")]),t._v("->"),s("code",[t._v("子created")]),t._v("->"),s("code",[t._v("子beforeMount")]),t._v("- >"),s("code",[t._v("子mounted")]),t._v("->"),s("code",[t._v("父mounted")])])]),t._v(" "),s("p",[s("strong",[t._v("子组件更新过程")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("父beforeUpdate")]),t._v("->"),s("code",[t._v("子beforeUpdate")]),t._v("->"),s("code",[t._v("子updated")]),t._v("->"),s("code",[t._v("父updated")])])]),t._v(" "),s("p",[s("strong",[t._v("父组件更新过程")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("父 beforeUpdate")]),t._v(" -> "),s("code",[t._v("父 updated")])])]),t._v(" "),s("p",[s("strong",[t._v("销毁过程")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("父beforeDestroy")]),t._v("->"),s("code",[t._v("子beforeDestroy")]),t._v("->"),s("code",[t._v("子destroyed")]),t._v("->"),s("code",[t._v("父destroyed")])])]),t._v(" "),s("h2",{attrs:{id:"_56-ssr了解吗"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_56-ssr了解吗"}},[t._v("#")]),t._v(" 56 SSR了解吗")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("SSR")]),t._v("也就是服务端渲染，也就是将"),s("code",[t._v("Vue")]),t._v("在客户端把标签渲染成HTML的工作放在服务端完成，然后再把html直接返回给客户端")])]),t._v(" "),s("p",[s("code",[t._v("SSR")]),t._v("有着更好的"),s("code",[t._v("SEO")]),t._v("、并且首屏加载速度更快等优点。不过它也有一些缺点，比如我们的开发条件会受到限制，服务器端渲染只支持"),s("code",[t._v("beforeCreate")]),t._v("和"),s("code",[t._v("created")]),t._v("两个钩子，当我们需要一些外部扩展库时需要特殊处理，服务端渲染应用程序也需要处于"),s("code",[t._v("Node.js")]),t._v("的运行环境。还有就是服务器会有更大的负载需求")]),t._v(" "),s("h2",{attrs:{id:"_57-你都做过哪些vue的性能优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_57-你都做过哪些vue的性能优化"}},[t._v("#")]),t._v(" 57 你都做过哪些Vue的性能优化")]),t._v(" "),s("p",[s("strong",[t._v("编码阶段")])]),t._v(" "),s("ul",[s("li",[t._v("尽量减少"),s("code",[t._v("data")]),t._v("中的数据，"),s("code",[t._v("data")]),t._v("中的数据都会增加"),s("code",[t._v("getter")]),t._v("和"),s("code",[t._v("setter")]),t._v("，会收集对应的"),s("code",[t._v("watcher")])]),t._v(" "),s("li",[s("code",[t._v("v-if")]),t._v("和"),s("code",[t._v("v-for")]),t._v("不能连用")]),t._v(" "),s("li",[t._v("如果需要使用"),s("code",[t._v("v-for")]),t._v("给每项元素绑定事件时使用事件代理")]),t._v(" "),s("li",[s("code",[t._v("SPA")]),t._v(" 页面采用"),s("code",[t._v("keep-alive")]),t._v("缓存组件")]),t._v(" "),s("li",[t._v("在更多的情况下，使用"),s("code",[t._v("v-if")]),t._v("替代"),s("code",[t._v("v-show")])]),t._v(" "),s("li",[s("code",[t._v("key")]),t._v("保证唯一")]),t._v(" "),s("li",[t._v("使用路由懒加载、异步组件")]),t._v(" "),s("li",[t._v("防抖、节流")]),t._v(" "),s("li",[t._v("第三方模块按需导入")]),t._v(" "),s("li",[t._v("长列表滚动到可视区域动态加载")]),t._v(" "),s("li",[t._v("图片懒加载")])]),t._v(" "),s("p",[s("strong",[t._v("SEO优化")])]),t._v(" "),s("ul",[s("li",[t._v("预渲染")]),t._v(" "),s("li",[t._v("服务端渲染"),s("code",[t._v("SSR")])])]),t._v(" "),s("p",[s("strong",[t._v("打包优化")])]),t._v(" "),s("ul",[s("li",[t._v("压缩代码")]),t._v(" "),s("li",[s("code",[t._v("Tree Shaking/Scope Hoisting")])]),t._v(" "),s("li",[t._v("使用"),s("code",[t._v("cdn")]),t._v("加载第三方模块")]),t._v(" "),s("li",[t._v("多线程打包"),s("code",[t._v("happypack")])]),t._v(" "),s("li",[s("code",[t._v("splitChunks")]),t._v("抽离公共文件")]),t._v(" "),s("li",[s("code",[t._v("sourceMap")]),t._v("优化")])]),t._v(" "),s("p",[s("strong",[t._v("用户体验")])]),t._v(" "),s("ul",[s("li",[t._v("骨架屏")]),t._v(" "),s("li",[s("code",[t._v("PWA")])])]),t._v(" "),s("blockquote",[s("p",[t._v("还可以使用缓存(客户端缓存、服务端缓存)优化、服务端开启"),s("code",[t._v("gzip")]),t._v("压缩等。")])]),t._v(" "),s("h2",{attrs:{id:"_58-vue-js特点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_58-vue-js特点"}},[t._v("#")]),t._v(" 58 Vue.js特点")]),t._v(" "),s("ul",[s("li",[t._v("简洁：页面由"),s("code",[t._v("HTML")]),t._v("模板+Json数据+"),s("code",[t._v("Vue")]),t._v("实例组成")]),t._v(" "),s("li",[t._v("数据驱动：自动计算属性和追踪依赖的模板表达式")]),t._v(" "),s("li",[t._v("组件化：用可复用、解耦的组件来构造页面")]),t._v(" "),s("li",[t._v("轻量：代码量小，不依赖其他库")]),t._v(" "),s("li",[t._v("快速：精确有效批量DOM更新")]),t._v(" "),s("li",[t._v("模板友好：可通过npm，bower等多种方式安装，很容易融入")])]),t._v(" "),s("h2",{attrs:{id:"_59-请说出vue-cli项目中src目录每个文件夹和文件的用法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_59-请说出vue-cli项目中src目录每个文件夹和文件的用法"}},[t._v("#")]),t._v(" 59 请说出vue.cli项目中src目录每个文件夹和文件的用法")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("assets")]),t._v("文件夹是放静态资源；")]),t._v(" "),s("li",[s("code",[t._v("components")]),t._v("是放组件；")]),t._v(" "),s("li",[s("code",[t._v("router")]),t._v("是定义路由相关的配置;")]),t._v(" "),s("li",[s("code",[t._v("view")]),t._v("视图；")]),t._v(" "),s("li",[s("code",[t._v("app.vue")]),t._v("是一个应用主组件；")]),t._v(" "),s("li",[s("code",[t._v("main.js")]),t._v("是入口文件")])]),t._v(" "),s("h2",{attrs:{id:"_60-vue路由传参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_60-vue路由传参数"}},[t._v("#")]),t._v(" 60 vue路由传参数")]),t._v(" "),s("ul",[s("li",[t._v("使用"),s("code",[t._v("query")]),t._v("方法传入的参数使用"),s("code",[t._v("this.$route.query")]),t._v("接受")]),t._v(" "),s("li",[t._v("使用"),s("code",[t._v("params")]),t._v("方式传入的参数使用"),s("code",[t._v("this.$route.params")]),t._v("接受")])]),t._v(" "),s("h2",{attrs:{id:"_61-vuex-是什么-有哪几种属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_61-vuex-是什么-有哪几种属性"}},[t._v("#")]),t._v(" 61 vuex 是什么？ 有哪几种属性？")]),t._v(" "),s("blockquote",[s("ul",[s("li",[s("code",[t._v("Vuex")]),t._v(" 是一个专为 "),s("code",[t._v("Vue.js")]),t._v(" 应用程序开发的状态管理模式。")]),t._v(" "),s("li",[t._v("有 5 种，分别是 "),s("code",[t._v("state")]),t._v("、"),s("code",[t._v("getter")]),t._v("、"),s("code",[t._v("mutation")]),t._v("、"),s("code",[t._v("action")]),t._v("、"),s("code",[t._v("module")])])])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Vuex")]),t._v(" 是一个专为 "),s("code",[t._v("Vue.js")]),t._v(" 应用程序开发的状态管理模式。")]),t._v(" "),s("li",[t._v("有 5 种，分别是 "),s("code",[t._v("state")]),t._v("、"),s("code",[t._v("getter")]),t._v("、"),s("code",[t._v("mutation")]),t._v("、"),s("code",[t._v("action")]),t._v("、"),s("code",[t._v("module")])]),t._v(" "),s("li",[s("code",[t._v("vuex")]),t._v(" 的 "),s("code",[t._v("store")]),t._v(" 是什么？")]),t._v(" "),s("li",[s("code",[t._v("vuex")]),t._v(" 就是一个仓库，仓库里放了很多对象。其中 "),s("code",[t._v("state")]),t._v(" 就是数据源存放地，对应于一般 vue 对象里面的 "),s("code",[t._v("datastate")]),t._v(" 里面存放的数据是响应式的，"),s("code",[t._v("vue")]),t._v(" 组件从 "),s("code",[t._v("store")]),t._v(" 读取数据，若是 "),s("code",[t._v("store")]),t._v(" 中的数据发生改变，依赖这相数据的组件也会发生更新它通过 "),s("code",[t._v("mapState")]),t._v(" 把全局的 "),s("code",[t._v("state")]),t._v(" 和 "),s("code",[t._v("getters")]),t._v(" 映射到当前组件的 "),s("code",[t._v("computed")]),t._v(" 计算属性")])]),t._v(" "),s("p",[s("strong",[t._v("vuex 的 getter 是什么？")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("getter")]),t._v(" 可以对 "),s("code",[t._v("state")]),t._v(" 进行计算操作，它就是 "),s("code",[t._v("store")]),t._v(" 的计算属性虽然在组件内也可以做计算属性，但是 "),s("code",[t._v("getters")]),t._v(" 可以在多给件之间复用如果一个状态只在一个组件内使用，是可以不用 "),s("code",[t._v("getters")])])]),t._v(" "),s("p",[s("strong",[t._v("vuex 的 mutation 是什么？")])]),t._v(" "),s("ul",[s("li",[t._v("更改"),s("code",[t._v("Vuex")]),t._v("的"),s("code",[t._v("store")]),t._v("中的状态的唯一方法是提交"),s("code",[t._v("mutation")])])]),t._v(" "),s("p",[s("strong",[t._v("vuex 的 action 是什么？")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("action")]),t._v(" 类似于 "),s("code",[t._v("muation")]),t._v(", 不同在于："),s("code",[t._v("action")]),t._v(" 提交的是 "),s("code",[t._v("mutation")]),t._v(",而不是直接变更状态"),s("code",[t._v("action")]),t._v(" 可以包含任意异步操作")]),t._v(" "),s("li",[s("code",[t._v("vue")]),t._v(" 中 "),s("code",[t._v("ajax")]),t._v(" 请求代码应该写在组件的 "),s("code",[t._v("methods")]),t._v(" 中还是 "),s("code",[t._v("vuex")]),t._v(" 的 "),s("code",[t._v("action")]),t._v(" 中")]),t._v(" "),s("li",[s("code",[t._v("vuex")]),t._v(" 的 "),s("code",[t._v("module")]),t._v(" 是什么？")])]),t._v(" "),s("blockquote",[s("p",[t._v("面对复杂的应用程序，当管理的状态比较多时；我们需要将"),s("code",[t._v("vuex")]),t._v("的"),s("code",[t._v("store")]),t._v("对象分割成模块("),s("code",[t._v("modules")]),t._v(")。")])]),t._v(" "),s("blockquote",[s("p",[t._v("如果请求来的数据不是要被其他组件公用，仅仅在请求的组件内使用，就不需要放入 "),s("code",[t._v("vuex")]),t._v(" 的 "),s("code",[t._v("state")]),t._v(" 里如果被其他地方复用，请将请求放入 "),s("code",[t._v("action")]),t._v(" 里，方便复用，并包装成 "),s("code",[t._v("promise")]),t._v(" 返回")])]),t._v(" "),s("h2",{attrs:{id:"_62-如何让css只在当前组件中起作用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_62-如何让css只在当前组件中起作用"}},[t._v("#")]),t._v(" 62 如何让CSS只在当前组件中起作用？")]),t._v(" "),s("blockquote",[s("p",[t._v("将当前组件的"),s("code",[t._v("<style>")]),t._v("修改为"),s("code",[t._v("<style scoped>")])])]),t._v(" "),s("h2",{attrs:{id:"_63-delete和vue-delete删除数组的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_63-delete和vue-delete删除数组的区别"}},[t._v("#")]),t._v(" 63 delete和Vue.delete删除数组的区别？")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("delete")]),t._v("只是被删除的元素变成了 "),s("code",[t._v("empty/undefined")]),t._v(" 其他的元素的键值还是不变。")]),t._v(" "),s("li",[s("code",[t._v("Vue.delete")]),t._v("直接删除了数组 改变了数组的键值。")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//[empty,2,3,4]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//[2,3,4]")]),t._v("\n")])])]),s("h2",{attrs:{id:"_64-v-on可以监听多个方法吗"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_64-v-on可以监听多个方法吗"}},[t._v("#")]),t._v(" 64 v-on可以监听多个方法吗？")]),t._v(" "),s("p",[t._v("可以")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@input")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("onInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@focus")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("onFocus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@blur")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("onBlur"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),s("p",[s("strong",[t._v("v-on 常用修饰符")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v(".stop")]),t._v(" 该修饰符将阻止事件向上冒泡。同理于调用 "),s("code",[t._v("event.stopPropagation()")]),t._v(" 方法")]),t._v(" "),s("li",[s("code",[t._v(".prevent")]),t._v(" 该修饰符会阻止当前事件的默认行为。同理于调用 "),s("code",[t._v("event.preventDefault()")]),t._v(" 方法")]),t._v(" "),s("li",[s("code",[t._v(".self")]),t._v(" 该指令只当事件是从事件绑定的元素本身触发时才触发回调")]),t._v(" "),s("li",[s("code",[t._v(".once")]),t._v(" 该修饰符表示绑定的事件只会被触发一次")])]),t._v(" "),s("h2",{attrs:{id:"_65-vue子组件调用父组件的方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_65-vue子组件调用父组件的方法"}},[t._v("#")]),t._v(" 65 Vue子组件调用父组件的方法")]),t._v(" "),s("ul",[s("li",[t._v("第一种方法是直接在子组件中通过"),s("code",[t._v("this.$parent.event")]),t._v("来调用父组件的方法")]),t._v(" "),s("li",[t._v("第二种方法是在子组件里用"),s("code",[t._v("$emit")]),t._v("向父组件触发一个事件，父组件监听这个事件就行了。")])]),t._v(" "),s("h2",{attrs:{id:"_66-vue如何兼容ie的问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_66-vue如何兼容ie的问题"}},[t._v("#")]),t._v(" 66 vue如何兼容ie的问题")]),t._v(" "),s("blockquote",[s("p",[t._v("babel-polyfill插件")])]),t._v(" "),s("h2",{attrs:{id:"_67-vue-改变数组触发视图更新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_67-vue-改变数组触发视图更新"}},[t._v("#")]),t._v(" 67 Vue 改变数组触发视图更新")]),t._v(" "),s("blockquote",[s("p",[t._v("以下方法调用会改变原始数组："),s("code",[t._v("push()")]),t._v(", "),s("code",[t._v("pop()")]),t._v(", "),s("code",[t._v("shift()")]),t._v(", "),s("code",[t._v("unshift()")]),t._v(", "),s("code",[t._v("splice()")]),t._v(", "),s("code",[t._v("sort()")]),t._v(", "),s("code",[t._v("reverse()")]),t._v(","),s("code",[t._v("Vue.set( target, key, value )")])])]),t._v(" "),s("ul",[s("li",[t._v("调用方法："),s("code",[t._v("Vue.set( target, key, value )")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("target")]),t._v("：要更改的数据源(可以是对象或者数组)")]),t._v(" "),s("li",[s("code",[t._v("key")]),t._v("：要更改的具体数据")]),t._v(" "),s("li",[s("code",[t._v("value")]),t._v(" ：重新赋的值")])])])]),t._v(" "),s("h2",{attrs:{id:"_68-dom-渲染在哪个周期中就已经完成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_68-dom-渲染在哪个周期中就已经完成"}},[t._v("#")]),t._v(" 68 DOM 渲染在哪个周期中就已经完成？")]),t._v(" "),s("blockquote",[s("p",[t._v("在"),s("code",[t._v("mounted")])])]),t._v(" "),s("p",[t._v("注意 "),s("code",[t._v("mounted")]),t._v(" 不会承诺所有的子组件也都一起被挂载。如果你希望等到整个视图都渲染完毕，可以用 "),s("code",[t._v("vm.$nextTick")]),t._v(" 替换掉 "),s("code",[t._v("mounted")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("mounted")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$nextTick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Code that will run only after the")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// entire view has been rendered")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"_69-简述每个周期具体适合哪些场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_69-简述每个周期具体适合哪些场景"}},[t._v("#")]),t._v(" 69 简述每个周期具体适合哪些场景")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("beforecreate")]),t._v(" : 可以在这加个"),s("code",[t._v("loading")]),t._v("事件，在加载实例时触发")]),t._v(" "),s("li",[s("code",[t._v("created")]),t._v(" : 初始化完成时的事件写在这里，如在这结束"),s("code",[t._v("loading")]),t._v("事件，异步请求也适宜在这里调用")]),t._v(" "),s("li",[s("code",[t._v("mounted")]),t._v(" : 挂载元素，获取到DOM节点 "),s("code",[t._v("updated")]),t._v(" : 如果对数据统一处理，在这里写上相应函数")]),t._v(" "),s("li",[s("code",[t._v("beforeDestroy")]),t._v(" : 可以做一个确认停止事件的确认框")])]),t._v(" "),s("p",[s("strong",[t._v("第一次加载会触发哪几个钩子")])]),t._v(" "),s("blockquote",[s("p",[t._v("会触发"),s("code",[t._v("beforeCreate")]),t._v(" , "),s("code",[t._v("created")]),t._v(" ,"),s("code",[t._v("beforeMount")]),t._v(" ,"),s("code",[t._v("mounted")])])]),t._v(" "),s("h2",{attrs:{id:"_70-动态绑定class"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_70-动态绑定class"}},[t._v("#")]),t._v(" 70 动态绑定class")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("active")]),t._v(" "),s("code",[t._v("classname")]),t._v("， "),s("code",[t._v("isActive")]),t._v(" 变量")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{ active: isActive }"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h2",{attrs:{id:"_71-vue3-0-是如何变得更快的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_71-vue3-0-是如何变得更快的"}},[t._v("#")]),t._v(" 71 Vue3.0 是如何变得更快的")]),t._v(" "),s("h3",{attrs:{id:"diff-方法优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#diff-方法优化"}},[t._v("#")]),t._v(" diff 方法优化")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Vue2.x")]),t._v(" 中的虚拟 dom 是进行全量的对比。")]),t._v(" "),s("li",[s("code",[t._v("Vue3.0")]),t._v(" 中新增了静态标记(PatchFlag):在与上次虚拟结点进行对比的时候，值对比 带有 patch flag 的节点，并且可以通过 flag 的信息得知当前节点要对比的具体内容化")])]),t._v(" "),s("h3",{attrs:{id:"hoiststatic-静态提升"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hoiststatic-静态提升"}},[t._v("#")]),t._v(" hoistStatic 静态提升")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Vue2.x")]),t._v(" : 无论元素是否参与更新，每次都会重新创建。")]),t._v(" "),s("li",[s("code",[t._v("Vue3.0")]),t._v(" : 对不参与更新的元素，只会被创建一次，之后会在每次渲染时候被不停的复用")])]),t._v(" "),s("h3",{attrs:{id:"cachehandlers-事件侦听器缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cachehandlers-事件侦听器缓存"}},[t._v("#")]),t._v(" cacheHandlers 事件侦听器缓存")]),t._v(" "),s("p",[t._v("默认情况下 onClick 会被视为动态绑定，所以每次都会去追踪它的变化但是因为是同一 个函数，所以没有追踪变化，直接缓存起来复用即可")]),t._v(" "),s("h2",{attrs:{id:"_72-说说你对-proxy-的理解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_72-说说你对-proxy-的理解"}},[t._v("#")]),t._v(" 72 说说你对 proxy 的理解")]),t._v(" "),s("p",[t._v("vue 的数据劫持有两个缺点")]),t._v(" "),s("ul",[s("li",[t._v("无法监听通过索引修改数组的值的变化")]),t._v(" "),s("li",[t._v("无法监听 object 也就是对象的值的变化")]),t._v(" "),s("li",[t._v("所以 vue2.x 中才会有"),s("code",[t._v("$set")]),t._v(" 属性的存在")]),t._v(" "),s("li",[t._v("proxy 是 es6 中推出的新 api，可以弥补以上两个缺点，所以 vue3.x 版本用 proxy 替换 "),s("code",[t._v("object.defineproperty")]),t._v("。")])]),t._v(" "),s("h2",{attrs:{id:"_73-生命周期详解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_73-生命周期详解"}},[t._v("#")]),t._v(" 73 生命周期详解")]),t._v(" "),s("p",[s("strong",[s("em",[t._v("init")])])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("initLifecycle/Event")]),t._v("，往vm上挂载各种属性")]),t._v(" "),s("li",[s("code",[t._v("callHook: beforeCreated")]),t._v(": 实例刚创建")]),t._v(" "),s("li",[s("code",[t._v("initInjection/initState")]),t._v(": 初始化注入和 "),s("code",[t._v("data")]),t._v(" 响应性")]),t._v(" "),s("li",[s("code",[t._v("created: 创建完成，属性已经绑定， 但还未生成真实")]),t._v("dom`")]),t._v(" "),s("li",[t._v("进行元素的挂载： "),s("code",[t._v("$el / vm.$mount()")])]),t._v(" "),s("li",[t._v("是否有"),s("code",[t._v("template")]),t._v(": 解析成 "),s("code",[t._v("render function")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("*.vue")]),t._v("文件: "),s("code",[t._v("vue-loader")]),t._v("会将"),s("code",[t._v("<template>")]),t._v("编译成"),s("code",[t._v("render function")])])])]),t._v(" "),s("li",[s("code",[t._v("beforeMount")]),t._v(": 模板编译/挂载之前")]),t._v(" "),s("li",[t._v("执行"),s("code",[t._v("render function")]),t._v("，生成真实的"),s("code",[t._v("dom")]),t._v("，并替换到"),s("code",[t._v("dom tree")]),t._v("中")]),t._v(" "),s("li",[s("code",[t._v("mounted")]),t._v(": 组件已挂载")])]),t._v(" "),s("p",[s("strong",[t._v("update")])]),t._v(" "),s("ul",[s("li",[t._v("执行"),s("code",[t._v("diff")]),t._v("算法，比对改变是否需要触发"),s("code",[t._v("UI")]),t._v("更新")]),t._v(" "),s("li",[s("code",[t._v("flushScheduleQueue")])]),t._v(" "),s("li",[s("code",[t._v("watcher.before")]),t._v(": 触发"),s("code",[t._v("beforeUpdate")]),t._v("钩子\t- "),s("code",[t._v("watcher.run()")]),t._v(": 执行"),s("code",[t._v("watcher")]),t._v("中的 "),s("code",[t._v("notify")]),t._v("，通知所有依赖项更新UI")]),t._v(" "),s("li",[t._v("触发"),s("code",[t._v("updated")]),t._v("钩子: 组件已更新")]),t._v(" "),s("li",[s("code",[t._v("actived / deactivated(keep-alive)")]),t._v(": 不销毁，缓存，组件激活与失活")]),t._v(" "),s("li",[s("code",[t._v("destroy")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("beforeDestroy")]),t._v(": 销毁开始")]),t._v(" "),s("li",[t._v("销毁自身且递归销毁子组件以及事件监听\n"),s("ul",[s("li",[s("code",[t._v("remove()")]),t._v(": 删除节点")]),t._v(" "),s("li",[s("code",[t._v("watcher.teardown()")]),t._v(": 清空依赖")]),t._v(" "),s("li",[s("code",[t._v("vm.$off()")]),t._v(": 解绑监听")])])]),t._v(" "),s("li",[s("code",[t._v("destroyed")]),t._v(": 完成后触发钩子")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("上面是vue的声明周期的简单梳理，接下来我们直接以代码的形式来完成vue的初始化")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化Vue实例")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("_init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 挂载属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("initLifeCycle")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化事件系统，钩子函数等")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("initEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 编译slot、vnode")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("initRender")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 触发钩子")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callHook")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'beforeCreate'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加inject功能")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("initInjection")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 完成数据响应性 props/data/watch/computed/methods")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("initState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加 provide 功能")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("initProvide")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 触发钩子")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callHook")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'created'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\n\t "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 挂载节点")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("el"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$mount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("el"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 挂载节点实现")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mountComponent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("vm")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取 render function")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// template to render")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vue.compile = compileToFunctions")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" render "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("compileToFunctions")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("render "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" render\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 触发钩子")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callHook")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'beforeMounte'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化观察者")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// render 渲染 vdom， ")]),t._v("\n    vdom "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// update: 根据 diff 出的 patchs 挂载成真实的 dom ")]),t._v("\n    vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("_update")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vdom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 触发钩子  ")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callHook")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mounted'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 更新节点实现")]),t._v("\nfuntion "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("queueWatcher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("watcher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nextTick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("flushScheduleQueue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 清空队列")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("flushScheduleQueue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 遍历队列中所有修改")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// beforeUpdate")]),t._v("\n        watcher"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("before")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n         \n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 依赖局部更新节点")]),t._v("\n        watcher"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callHook")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'updated'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 销毁实例实现")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("$destory")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 触发钩子")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callHook")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'beforeDestory'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 自身及子节点")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 删除依赖")]),t._v("\n    watcher"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("teardown")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 删除监听")]),t._v("\n    vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$off")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 触发钩子")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callHook")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'destoryed'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"_74-proxy-相比于-defineproperty-的优势"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_74-proxy-相比于-defineproperty-的优势"}},[t._v("#")]),t._v(" 74 Proxy 相比于 defineProperty 的优势")]),t._v(" "),s("ul",[s("li",[t._v("数组变化也能监听到")]),t._v(" "),s("li",[t._v("不需要深度遍历监听")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" reactiveData "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"_75-vue-router"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_75-vue-router"}},[t._v("#")]),t._v(" 75 vue-router")]),t._v(" "),s("p",[s("strong",[t._v("mode")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("hash")])]),t._v(" "),s("li",[s("code",[t._v("history")])])]),t._v(" "),s("p",[s("strong",[t._v("跳转")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("this.$router.push()")])]),t._v(" "),s("li",[s("code",[t._v('<router-link to=""></router-link>')])])]),t._v(" "),s("p",[s("strong",[t._v("占位")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("<router-view></router-view>\n")])])]),s("h2",{attrs:{id:"_76-vuex总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_76-vuex总结"}},[t._v("#")]),t._v(" 76 vuex总结")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("state")]),t._v(": 状态中心")]),t._v(" "),s("li",[s("code",[t._v("mutations")]),t._v(": 更改状态")]),t._v(" "),s("li",[s("code",[t._v("actions")]),t._v(": 异步更改状态")]),t._v(" "),s("li",[s("code",[t._v("getters")]),t._v(": 获取状态")]),t._v(" "),s("li",[s("code",[t._v("modules")]),t._v(": 将"),s("code",[t._v("state")]),t._v("分成多个"),s("code",[t._v("modules")]),t._v("，便于管理")])]),t._v(" "),s("h2",{attrs:{id:"_77-diff-算法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_77-diff-算法"}},[t._v("#")]),t._v(" 77 diff 算法")]),t._v(" "),s("p",[s("strong",[t._v("时间复杂度：")]),t._v(" 个树的完全"),s("code",[t._v("diff")]),t._v(" 算法是一个时间复杂度为"),s("code",[t._v("O(n*3）")]),t._v(" ，vue进行优化转化成"),s("code",[t._v("O(n)")]),t._v(" 。")]),t._v(" "),s("p",[s("strong",[t._v("理解：")])]),t._v(" "),s("ul",[s("li",[t._v("最小量更新，"),s("code",[t._v("key")]),t._v(" 很重要。这个可以是这个节点的唯一标识，告诉"),s("code",[t._v("diff")]),t._v(" 算法，在更改前后它们是同一个DOM节点\n"),s("ul",[s("li",[t._v("扩展"),s("code",[t._v("v-for")]),t._v(" 为什么要有"),s("code",[t._v("key")]),t._v(" ，没有"),s("code",[t._v("key")]),t._v(" 会暴力复用，举例子的话随便说一个比如移动节点或者增加节点（修改DOM），加"),s("code",[t._v("key")]),t._v(" 只会移动减少操作DOM。")])])]),t._v(" "),s("li",[t._v("只有是同一个虚拟节点才会进行精细化比较，否则就是暴力删除旧的，插入新的。")]),t._v(" "),s("li",[t._v("只进行同层比较，不会进行跨层比较。")])]),t._v(" "),s("p",[s("strong",[t._v("diff算法的优化策略")]),t._v("：四种命中查找，四个指针")]),t._v(" "),s("ol",[s("li",[t._v("旧前与新前（先比开头，后插入和删除节点的这种情况）")]),t._v(" "),s("li",[t._v("旧后与新后（比结尾，前插入或删除的情况）")]),t._v(" "),s("li",[t._v("旧前与新后（头与尾比，此种发生了，涉及移动节点，那么新前指向的节点，移动到旧后之后）")]),t._v(" "),s("li",[t._v("旧后与新前（尾与头比，此种发生了，涉及移动节点，那么新前指向的节点，移动到旧前之前）")])]),t._v(" "),s("h2",{attrs:{id:"_78-vue-的响应式原理中-object-defineproperty-有什么缺陷"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_78-vue-的响应式原理中-object-defineproperty-有什么缺陷"}},[t._v("#")]),t._v(" 78 Vue 的响应式原理中 Object.defineProperty 有什么缺陷")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Object.defineProperty")]),t._v(" 无法监控到数组下标的变化，导致通过数组下标添加元素，不能实时响应；")]),t._v(" "),s("li",[s("code",[t._v("Object.defineProperty")]),t._v(" 只能劫持对象的属性，从而需要对每个对象，每个属性进行遍历，如果，属性值是对象，还需要深度遍历。Proxy 可以劫持整个对象，并返回一个新的对象")]),t._v(" "),s("li",[s("code",[t._v("Proxy")]),t._v(" 不仅可以代理对象，还可以代理数组。还可以代理动态增加的属性")])]),t._v(" "),s("h2",{attrs:{id:"_79-composition-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_79-composition-api"}},[t._v("#")]),t._v(" 79 Composition API")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Composition API")]),t._v("出现就是为了解决Options API导致相同功能代码分散的现象")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e78168afbb094679a7ff6209aa7b734c~tplv-k3u1fbpfcp-watermark.image",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("compositon api提供了以下几个函数：")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("setup")])]),t._v(" "),s("li",[s("code",[t._v("ref")])]),t._v(" "),s("li",[s("code",[t._v("reactive")])]),t._v(" "),s("li",[s("code",[t._v("watchEffect")])]),t._v(" "),s("li",[s("code",[t._v("watch")])]),t._v(" "),s("li",[s("code",[t._v("computed")])]),t._v(" "),s("li",[s("code",[t._v("toRefs")])]),t._v(" "),s("li",[t._v("生命周期的"),s("code",[t._v("hooks")])])]),t._v(" "),s("h2",{attrs:{id:"_80-vue中是如何检测数组变化的呢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_80-vue中是如何检测数组变化的呢"}},[t._v("#")]),t._v(" 80 vue中是如何检测数组变化的呢")]),t._v(" "),s("blockquote",[s("p",[t._v("数组就是使用 "),s("code",[t._v("object.defineProperty")]),t._v(" 重新定义数组的每一项，那能引起数组变化的方法我们都是知道的， "),s("code",[t._v("pop")]),t._v(" 、 "),s("code",[t._v("push")]),t._v(" 、 "),s("code",[t._v("shift")]),t._v(" 、 "),s("code",[t._v("unshift")]),t._v(" 、 "),s("code",[t._v("splice")]),t._v(" 、 "),s("code",[t._v("sort")]),t._v(" 、 "),s("code",[t._v("reverse")]),t._v(" 这七种，只要这些方法执行改了数组内容，我就更新内容就好了，是不是很好理解")])]),t._v(" "),s("ul",[s("li",[t._v("是用函数劫持的方式，重写了数组方法，具体呢就是更改了数组的原型，更改成自己的，用户调数组的一些方法的时候，走的就是自己的方法，然后通知视图去更新")]),t._v(" "),s("li",[t._v("数组里每一项可能是对象，那么我就是会对数组的每一项进行观测，（且只有数组里的对象才能进行观测，观测过的也不会进行观测）")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("vue3")]),t._v("：改用 "),s("code",[t._v("proxy")]),t._v(" ，可直接监听对象数组的变化")])]),t._v(" "),s("h2",{attrs:{id:"_81-vue的事件绑定原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_81-vue的事件绑定原理"}},[t._v("#")]),t._v(" 81 Vue的事件绑定原理")]),t._v(" "),s("ul",[s("li",[t._v("原生 DOM 的绑定：Vue在创建真实DOM时会调用 "),s("code",[t._v("createElm")]),t._v(" ，默认会调用 "),s("code",[t._v("invokeCreateHooks")]),t._v(" 。会遍历当前平台下相对的属性处理代码，其中就有 "),s("code",[t._v("updateDOMLListeners")]),t._v("方法，内部会传入 "),s("code",[t._v("add（）")]),t._v(" 方法")]),t._v(" "),s("li",[t._v("组件绑定事件，原生事件，自定义事件；组件绑定之间是通过"),s("code",[t._v("Vue")]),t._v("中自定义的 "),s("code",[t._v("$on")]),t._v(" 方法实现的")])]),t._v(" "),s("blockquote",[s("p",[t._v("可以理解为：组件的 "),s("code",[t._v("nativeOnOn")]),t._v(" 等价于 普通元素on 组件的on会单独处理")])]),t._v(" "),s("h2",{attrs:{id:"_82-v-model中的实现原理及如何自定义v-model"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_82-v-model中的实现原理及如何自定义v-model"}},[t._v("#")]),t._v(" 82 v-model中的实现原理及如何自定义v-model")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("v-model")]),t._v(" 可以看成是 "),s("code",[t._v("value+input")]),t._v(" 方法的语法糖（组件）。原生的 "),s("code",[t._v("v-model")]),t._v(" ，会根据标签的不同生成不同的事件与属性。解析一个指令来")])]),t._v(" "),s("p",[t._v("自定义：自己写 "),s("code",[t._v("model")]),t._v(" 属性，里面放上 "),s("code",[t._v("prop")]),t._v(" 和 "),s("code",[t._v("event")])]),t._v(" "),s("h2",{attrs:{id:"_83-为什么vue采用异步渲染呢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_83-为什么vue采用异步渲染呢"}},[t._v("#")]),t._v(" 83 为什么Vue采用异步渲染呢")]),t._v(" "),s("blockquote",[s("p",[t._v("Vue 是组件级更新，如果不采用异步更新，那么每次更新数据都会对当前组件进行重新渲染，所以为了性能， Vue 会在本轮数据更新后，在异步更新视图。核心思想 "),s("code",[t._v("nextTick")])])]),t._v(" "),s("p",[s("code",[t._v("dep.notify（）")]),t._v(" 通知 "),s("code",[t._v("watcher")]),t._v("进行更新， subs[i].update 依次调用 "),s("code",[t._v("watcher")]),t._v(" 的 "),s("code",[t._v("update")]),t._v(" ， "),s("code",[t._v("queueWatcher")]),t._v(" 将"),s("code",[t._v("watcher")]),t._v(" 去重放入队列， nextTick（ flushSchedulerQueue ）在下一"),s("code",[t._v("tick")]),t._v("中刷新"),s("code",[t._v("watcher")]),t._v("队列（异步）")]),t._v(" "),s("h2",{attrs:{id:"_84-vuex-工作原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_84-vuex-工作原理"}},[t._v("#")]),t._v(" 84 Vuex 工作原理")]),t._v(" "),s("p",[t._v("Vuex 是一个专为 Vue.js 应用程序开发的"),s("strong",[t._v("状态管理模式")]),t._v("。")]),t._v(" "),s("p",[t._v("状态自管理应用包含以下几个部分：")]),t._v(" "),s("ul",[s("li",[t._v("state，驱动应用的数据源；")]),t._v(" "),s("li",[t._v("view，以声明方式将 state 映射到视图；")]),t._v(" "),s("li",[t._v("actions，响应在 view 上的用户输入导致的状态变化。下图单向数据流示意图：")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://img-repo.poetries.top/images/image-20210220193818922.png",alt:"image-20210220193818922"}})]),t._v(" "),s("p",[t._v("vuex，多组件共享状态，因-单向数据流简洁性很容易被破坏：")]),t._v(" "),s("ul",[s("li",[t._v("多个视图依赖于同一状态。")]),t._v(" "),s("li",[t._v("来自不同视图的行为需要变更同一状态")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b17eb2230b3f46729cbfbe7144873065~tplv-k3u1fbpfcp-watermark.image?imageslim",alt:"img"}})]),t._v(" "),s("h2",{attrs:{id:"_85-如何从真实dom到虚拟dom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_85-如何从真实dom到虚拟dom"}},[t._v("#")]),t._v(" 85 如何从真实DOM到虚拟DOM")]),t._v(" "),s("p",[t._v("涉及到Vue中的模板编译原理，主要过程：")]),t._v(" "),s("ol",[s("li",[t._v("将模板转换成"),s("code",[t._v("ast")]),t._v(" 树，"),s("code",[t._v("ast")]),t._v(" 用对象来描述真实的JS语法（将真实DOM转换成虚拟DOM）")]),t._v(" "),s("li",[t._v("优化树")]),t._v(" "),s("li",[t._v("将"),s("code",[t._v("ast")]),t._v(" 树生成代码")])]),t._v(" "),s("h2",{attrs:{id:"_86-computed-watch-和-method"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_86-computed-watch-和-method"}},[t._v("#")]),t._v(" 86 Computed watch 和 method")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("computed")]),t._v("：默认"),s("code",[t._v("computed")]),t._v("也是一个"),s("code",[t._v("watcher")]),t._v("具备缓存，只有当依赖的数据变化时才会计算, 当数据没有变化时, 它会读取缓存数据。如果一个数据依赖于其他数据，使用"),s("code",[t._v("computed")])]),t._v(" "),s("li",[s("strong",[t._v("watch")]),t._v("：每次都需要执行函数。 "),s("code",[t._v("watch")]),t._v(" 更适用于数据变化时的异步操作。如果需要在某个数据变化时做一些事情，使用watch。")]),t._v(" "),s("li",[s("strong",[t._v("method")]),t._v("：只要把方法用到模板上了,每次一变化就会重新渲染视图，性能开销大")])]),t._v(" "),s("h2",{attrs:{id:"_87-为什么要使用异步组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_87-为什么要使用异步组件"}},[t._v("#")]),t._v(" 87 为什么要使用异步组件？")]),t._v(" "),s("ol",[s("li",[t._v("节省打包出的结果，异步组件分开打包，采用"),s("code",[t._v("jsonp")]),t._v("的方式进行加载，有效解决文件过大的问题。")]),t._v(" "),s("li",[t._v("核心就是包组件定义变成一个函数，依赖"),s("code",[t._v("import（）")]),t._v(" 语法，可以实现文件的分割加载。")])]),t._v(" "),s("h2",{attrs:{id:"_88-action-与-mutation-的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_88-action-与-mutation-的区别"}},[t._v("#")]),t._v(" 88 action 与 mutation 的区别")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("mutation")]),t._v(" 是同步更新，"),s("code",[t._v("$watch")]),t._v(" 严格模式下会报错")]),t._v(" "),s("li",[s("code",[t._v("action")]),t._v(" 是同步操作，可以获取数据后调用"),s("code",[t._v("mutation")]),t._v(" 提交最终数据")])]),t._v(" "),s("h2",{attrs:{id:"_89-插槽与作用域插槽的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_89-插槽与作用域插槽的区别"}},[t._v("#")]),t._v(" 89 插槽与作用域插槽的区别")]),t._v(" "),s("p",[s("strong",[t._v("插槽")])]),t._v(" "),s("ul",[s("li",[t._v("创建组件虚拟节点时，会将组件儿子的虚拟节点保存起来。当初始化组件时，通过插槽属性将儿子进行分类"),s("code",[t._v("{a:[vnode],b[vnode]}")])]),t._v(" "),s("li",[t._v("渲染组件时会拿对应的"),s("code",[t._v("slot")]),t._v(" 属性的节点进行替换操作。（插槽的作用域为父组件）")])]),t._v(" "),s("p",[s("strong",[t._v("作用域插槽")])]),t._v(" "),s("ul",[s("li",[t._v("作用域插槽在解析的时候不会作为组件的孩子节点。会解析成函数，当子组件渲染时，会调用此函数进行渲染。")]),t._v(" "),s("li",[t._v("普通插槽渲染的作用域是父组件，作用域插槽的渲染作用域是当前子组件。")])]),t._v(" "),s("h2",{attrs:{id:"_90-vue中相同逻辑如何抽离"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_90-vue中相同逻辑如何抽离"}},[t._v("#")]),t._v(" 90 vue中相同逻辑如何抽离")]),t._v(" "),s("blockquote",[s("p",[t._v("其实就是考察"),s("code",[t._v("vue.mixin")]),t._v(" 用法，给组件每个生命周期，函数都混入一些公共逻辑。")])]),t._v(" "),s("h2",{attrs:{id:"_91-谈谈对keep-alive的了解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_91-谈谈对keep-alive的了解"}},[t._v("#")]),t._v(" 91 谈谈对keep-alive的了解")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("keep-alive")]),t._v(" 可以实现组件的缓存，当组件切换时不会对当前组件进行卸载。常用的2个属性"),s("code",[t._v("include/exclude")]),t._v(" ，2个生命周期"),s("code",[t._v("activated")]),t._v(" ，"),s("code",[t._v("deactivated")])])]),t._v(" "),s("h2",{attrs:{id:"_92-vue性能优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_92-vue性能优化"}},[t._v("#")]),t._v(" 92 Vue性能优化")]),t._v(" "),s("p",[s("strong",[t._v("编码优化")]),t._v("：")]),t._v(" "),s("ul",[s("li",[t._v("事件代理")]),t._v(" "),s("li",[s("code",[t._v("keep-alive")])]),t._v(" "),s("li",[t._v("拆分组件")]),t._v(" "),s("li",[s("code",[t._v("key")]),t._v(" 保证唯一性")]),t._v(" "),s("li",[t._v("路由懒加载、异步组件")]),t._v(" "),s("li",[t._v("防抖节流")])]),t._v(" "),s("p",[s("strong",[t._v("Vue加载性能优化")])]),t._v(" "),s("ul",[s("li",[t._v("第三方模块按需导入（"),s("code",[t._v("babel-plugin-component")]),t._v(" ）")]),t._v(" "),s("li",[t._v("图片懒加载")])]),t._v(" "),s("p",[s("strong",[t._v("用户体验")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("app-skeleton")]),t._v("  骨架屏")]),t._v(" "),s("li",[s("code",[t._v("shellap")]),t._v(" p壳")]),t._v(" "),s("li",[s("code",[t._v("pwa")])])]),t._v(" "),s("p",[s("strong",[t._v("SEO优化")])]),t._v(" "),s("ul",[s("li",[t._v("预渲染")])]),t._v(" "),s("h2",{attrs:{id:"_93-vue3-0相对于vue2-x有哪些不同"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_93-vue3-0相对于vue2-x有哪些不同"}},[t._v("#")]),t._v(" 93 Vue3.0相对于Vue2.x有哪些不同？")]),t._v(" "),s("p",[s("strong",[t._v("performance")])]),t._v(" "),s("p",[t._v("首先在性能(performance)上有了更多的优化，一方面表现在"),s("code",[t._v("virtual dom")]),t._v("的生成上更快了，另外在底层还做了一些监听的缓存，也就是事件在被创建的时候会被推进一个缓存中，后续没有改变会直接取缓存。")]),t._v(" "),s("p",[s("strong",[t._v("tree-shaking")])]),t._v(" "),s("p",[t._v("tree-shaking它表示的是在打包的时候会去除一些无用的代码。而在Vue3中对它的支持更加友好了，例如像transition、v-model、computed等功能没有用到的话，那么最后打包产生的代码就会将它们去除。也就是说，如果你的Vue项目只写了一个Hello Word的话，那么最后打包的代码中就只有一些核心的代码，如更新算法、响应式等，打包生成的文件可能就只有13.5kb。")]),t._v(" "),s("p",[s("strong",[t._v("Fragments")])]),t._v(" "),s("p",[t._v("碎片(Fragments)，原本在Vue2.x中每个template下只能允许有一个根节点，但是在Vue3中它可以允许你有多个，用尤大大的话来说就是会将这些内容自动变为一个碎片。")]),t._v(" "),s("p",[s("strong",[t._v("TS")])]),t._v(" "),s("p",[t._v("再者就是对TS的支持度很好。虽然Vue3本来就是用TS写的，但是不一定要用TS。另外它也支持Class Component，不过不是第一推荐。")]),t._v(" "),s("p",[s("strong",[t._v("Component API")])]),t._v(" "),s("p",[t._v("语法上，对模版语法是零改变的。只不过更加推荐用Component API来写JS部分。Component API它并不是语法，而是新增的API。它带来的好处一个是逻辑重用，方便我们把一些功能的部分抽离出来。另一个它相对于options来说更加集中，用options来写代码想要追寻一个变量的变化比较麻烦。")]),t._v(" "),s("p",[s("strong",[t._v("关于兼容性")])]),t._v(" "),s("p",[t._v("目前的Vue3.beta版本是不支持IE11的，因为核心的响应式原理用到了ES6的Proxy，但是以后会去兼容IE11。后面我们在创建一个Vue项目的时候，可以选择不同的版本，支持IE11和不支持IE11的。")]),t._v(" "),s("p",[s("strong",[t._v("什么时候能使用")])]),t._v(" "),s("p",[t._v("现在的beta版本其实已经可以用了，对于一些新的小的项目可以试试水，这个可以自己评估。正式能够投入到生产使用中可能要等到年中 (终？)。")]),t._v(" "),s("h2",{attrs:{id:"_94-vue中hash模式和history模式的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_94-vue中hash模式和history模式的区别"}},[t._v("#")]),t._v(" 94 Vue中hash模式和history模式的区别")]),t._v(" "),s("ul",[s("li",[t._v("最明显的是在显示上，"),s("code",[t._v("hash")]),t._v("模式的"),s("code",[t._v("URL")]),t._v("中会夹杂着"),s("code",[t._v("#")]),t._v("号，而"),s("code",[t._v("history")]),t._v("没有。")]),t._v(" "),s("li",[s("code",[t._v("Vue")]),t._v("底层对它们的实现方式不同。"),s("code",[t._v("hash")]),t._v("模式是依靠"),s("code",[t._v("onhashchange")]),t._v("事件(监听"),s("code",[t._v("location.hash")]),t._v("的改变)，而"),s("code",[t._v("history")]),t._v("模式是主要是依靠的"),s("code",[t._v("HTML5 history")]),t._v("中新增的两个方法，"),s("code",[t._v("pushState()")]),t._v("可以改变"),s("code",[t._v("url")]),t._v("地址且不会发送请求，"),s("code",[t._v("replaceState()")]),t._v("可以读取历史记录栈,还可以对浏览器记录进行修改。")]),t._v(" "),s("li",[t._v("当真正需要通过"),s("code",[t._v("URL")]),t._v("向后端发送"),s("code",[t._v("HTTP")]),t._v("请求的时候，比如常见的用户手动输入"),s("code",[t._v("URL")]),t._v("后回车，或者是刷新(重启)浏览器，这时候"),s("code",[t._v("history")]),t._v("模式需要后端的支持。因为"),s("code",[t._v("history")]),t._v("模式下，前端的"),s("code",[t._v("URL")]),t._v("必须和实际向后端发送请求的"),s("code",[t._v("URL")]),t._v("一致，例如有一个"),s("code",[t._v("URL")]),t._v("是带有路径"),s("code",[t._v("path")]),t._v("的(例如"),s("code",[t._v("www.lindaidai.wang/blogs/id")]),t._v(")，如果后端没有对这个路径做处理的话，就会返回"),s("code",[t._v("404")]),t._v("错误。所以需要后端增加一个覆盖所有情况的候选资源，一般会配合前端给出的一个"),s("code",[t._v("404")]),t._v("页面。")])]),t._v(" "),s("p",[s("code",[t._v("hash:")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onhashchange")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// location.hash获取到的是包括#号的，如"#heading-3"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 所以可以截取一下")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" hash "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" location"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"_95-了解history有哪些方法吗-说下它们的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_95-了解history有哪些方法吗-说下它们的区别"}},[t._v("#")]),t._v(" 95 了解history有哪些方法吗？说下它们的区别")]),t._v(" "),s("p",[t._v("history 这个对象在html5的时候新加入两个api "),s("strong",[t._v("history.pushState() 和 history.repalceState()")]),t._v(" 这两个 API可以在不进行刷新的情况下，操作浏览器的历史纪录。唯一不同的是，前者是新增一个历史记录，后者是直接替换当前的历史记录。")]),t._v(" "),s("p",[t._v("从参数上来说：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pushState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//state：需要保存的数据，这个数据在触发popstate事件时，可以在event.state里获取")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//title：标题，基本没用，一般传null")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//url：设定新的历史纪录的url。新的url与当前url的origin必须是一样的，否则会抛出错误。url可以时绝对路径，也可以是相对路径。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//如 当前url是 https://www.baidu.com/a/,执行history.pushState(null, null, './qq/')，则变成 https://www.baidu.com/a/qq/，")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//执行history.pushState(null, null, '/qq/')，则变成 https://www.baidu.com/qq/")]),t._v("\n\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replaceState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//与pushState 基本相同，但她是修改当前历史纪录，而 pushState 是创建新的历史纪录")]),t._v("\n")])])]),s("p",[t._v("另外还有：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("window.history.back()")]),t._v(" 后退")]),t._v(" "),s("li",[s("code",[t._v("window.history.forward()")]),t._v("前进")]),t._v(" "),s("li",[s("code",[t._v("window.history.go(1)")]),t._v(" 前进或者后退几步")])]),t._v(" "),s("p",[t._v("从触发事件的监听上来说：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("pushState()")]),t._v("和"),s("code",[t._v("replaceState()")]),t._v("不能被"),s("code",[t._v("popstate")]),t._v("事件所监听")]),t._v(" "),s("li",[t._v("而后面三者可以，且用户点击浏览器前进后退键时也可以")])]),t._v(" "),s("h2",{attrs:{id:"_96-如何监听-pushstate-和-replacestate-的变化呢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_96-如何监听-pushstate-和-replacestate-的变化呢"}},[t._v("#")]),t._v(" 96 如何监听 pushState 和 replaceState 的变化呢？")]),t._v(" "),s("p",[t._v("利用自定义事件"),s("code",[t._v("new Event()")]),t._v("创建这两个事件，并全局监听：")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onclick")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("goPage2()"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("去page2"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Page1"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("goPage2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pushState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("bb")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'page1.html'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这个不能监听到 pushState")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// window.addEventListener('popstate', function (event) {")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   console.log(event)")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// })")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createHistoryEvent")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" fn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这里的 arguments 就是调用 pushState 时的三个参数集合")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" res "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" arguments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" e "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Event")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arguments "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arguments\n        window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatchEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" res\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pushState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createHistoryEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pushState'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("replaceState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createHistoryEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'replaceState'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pushState'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { type: 'pushState', arguments: [...], target: Window, ... }")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'replaceState'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  ")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h2",{attrs:{id:"_97-vue组件内的导航守卫有哪几个"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_97-vue组件内的导航守卫有哪几个"}},[t._v("#")]),t._v(" 97 Vue组件内的导航守卫有哪几个？")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("beforeRouteEnter")])]),t._v(" "),s("li",[s("code",[t._v("beforeRouteUpdate")])]),t._v(" "),s("li",[s("code",[t._v("beforeLeave")])])]),t._v(" "),s("h2",{attrs:{id:"_98-beforerouteenter和另外两个有什么不同吗"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_98-beforerouteenter和另外两个有什么不同吗"}},[t._v("#")]),t._v(" 98 beforeRouteEnter和另外两个有什么不同吗？")]),t._v(" "),s("p",[s("code",[t._v("beforeRouteEnter")]),t._v("是支持给"),s("code",[t._v("next")]),t._v("传递参数的唯一守卫，因为在这个路由守卫中还"),s("strong",[t._v("不能访问this")]),t._v("，而为了能让我们访问组件实例，可以通过传一个回调给"),s("code",[t._v("next")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeRouteEnter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("vm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vm 就是组件实例")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\t\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("而对于另外两个，"),s("code",[t._v("this")]),t._v("已经可用，所以"),s("strong",[t._v("不支持传递回调")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeRouteUpdate")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// just use `this`")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("离开守卫"),s("code",[t._v("beforeRouteLeave")]),t._v("通常用来禁止用户还未保存修改之前离开，可以通过"),s("code",[t._v("next(false)")]),t._v("来取消：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeRouteLeave")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" answer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("confirm")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Do you really want to leave? you have unsaved changes!'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("answer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"_99-完整的导航解析流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_99-完整的导航解析流程"}},[t._v("#")]),t._v(" 99 完整的导航解析流程")]),t._v(" "),s("ol",[s("li",[t._v("导航被触发。")]),t._v(" "),s("li",[t._v("在失活的组件里调用离开守卫。")]),t._v(" "),s("li",[t._v("调用全局的 "),s("code",[t._v("beforeEach")]),t._v(" 守卫。")]),t._v(" "),s("li",[t._v("在重用的组件里调用 "),s("code",[t._v("beforeRouteUpdate")]),t._v(" 守卫 (2.2+)。")]),t._v(" "),s("li",[t._v("在路由配置里调用 "),s("code",[t._v("beforeEnter")]),t._v("。")]),t._v(" "),s("li",[t._v("解析异步路由组件。")]),t._v(" "),s("li",[t._v("在被激活的组件里调用 "),s("code",[t._v("beforeRouteEnter")]),t._v("。")]),t._v(" "),s("li",[t._v("调用全局的 "),s("code",[t._v("beforeResolve")]),t._v(" 守卫 (2.5+)。")]),t._v(" "),s("li",[t._v("导航被确认。")]),t._v(" "),s("li",[t._v("调用全局的 "),s("code",[t._v("afterEach")]),t._v(" 钩子。")]),t._v(" "),s("li",[t._v("触发 DOM 更新。")]),t._v(" "),s("li",[t._v("用创建好的实例调用 "),s("code",[t._v("beforeRouteEnter")]),t._v(" 守卫中传给 "),s("code",[t._v("next")]),t._v(" 的回调函数。")])]),t._v(" "),s("h2",{attrs:{id:"_100-你是怎么看vue和react的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_100-你是怎么看vue和react的"}},[t._v("#")]),t._v(" 100 你是怎么看Vue和React的？")]),t._v(" "),s("p",[t._v("首先它们都是当今比较流行的前端框架。")]),t._v(" "),s("p",[s("strong",[t._v("相同点：")])]),t._v(" "),s("ol",[s("li",[s("code",[t._v("Virtual DOM")]),t._v("。其中最大的一个相似之处就是都使用了"),s("code",[t._v("Virtual DOM")]),t._v("。(当然"),s("code",[t._v("Vue")]),t._v("是在"),s("code",[t._v("Vue2.x")]),t._v("才引用的)也就是能让我们通过操作数据的方式来改变真实的"),s("code",[t._v("DOM")]),t._v("状态。因为其实"),s("code",[t._v("Virtual DOM")]),t._v("的本质就是一个"),s("code",[t._v("JS")]),t._v("对象，它保存了对真实"),s("code",[t._v("DOM")]),t._v("的所有描述，是真实"),s("code",[t._v("DOM")]),t._v("的一个映射，所以当我们在进行频繁更新元素的时候，改变这个"),s("code",[t._v("JS")]),t._v("对象的开销远比直接改变真实"),s("code",[t._v("DOM")]),t._v("要小得多。")]),t._v(" "),s("li",[t._v("组件化的开发思想。第二点来说就是它们都提倡这种组件化的开发思想，也就是建议将应用分拆成一个个功能明确的模块，再将这些模块整合在一起以满足我们的业务需求。")]),t._v(" "),s("li",[s("code",[t._v("Props")]),t._v("。"),s("code",[t._v("Vue")]),t._v("和"),s("code",[t._v("React")]),t._v("中都有"),s("code",[t._v("props")]),t._v("的概念，允许父组件向子组件传递数据。")]),t._v(" "),s("li",[t._v("构建工具、Chrome插件、配套框架。还有就是它们的构建工具以及Chrome插件、配套框架都很完善。比如构建工具，"),s("code",[t._v("React")]),t._v("中可以使用"),s("code",[t._v("CRA")]),t._v("，"),s("code",[t._v("Vue")]),t._v("中可以使用对应的脚手架"),s("code",[t._v("vue-cli")]),t._v("。对于配套框架"),s("code",[t._v("Vue")]),t._v("中有"),s("code",[t._v("vuex、vue-router")]),t._v("，"),s("code",[t._v("React")]),t._v("中有"),s("code",[t._v("react-router、redux")]),t._v("。")])]),t._v(" "),s("p",[s("strong",[t._v("不同点")])]),t._v(" "),s("ol",[s("li",[t._v("模版的编写。最大的不同就是模版的编写，"),s("code",[t._v("Vue")]),t._v("鼓励你去写近似常规"),s("code",[t._v("HTML")]),t._v("的模板，"),s("code",[t._v("React")]),t._v("推荐你使用"),s("code",[t._v("JSX")]),t._v("去书写。")]),t._v(" "),s("li",[t._v("状态管理与对象属性。在"),s("code",[t._v("React")]),t._v("中，应用的状态是比较关键的概念，也就是"),s("code",[t._v("state")]),t._v("对象，它允许你使用"),s("code",[t._v("setState")]),t._v("去更新状态。但是在"),s("code",[t._v("Vue")]),t._v("中，"),s("code",[t._v("state")]),t._v("对象并不是必须的，数据是由"),s("code",[t._v("data")]),t._v("属性在"),s("code",[t._v("Vue")]),t._v("对象中进行管理。")]),t._v(" "),s("li",[t._v("虚拟"),s("code",[t._v("DOM")]),t._v("的处理方式不同。"),s("code",[t._v("Vue")]),t._v("中的虚拟"),s("code",[t._v("DOM")]),t._v("控制了颗粒度，组件层面走"),s("code",[t._v("watcher")]),t._v("通知，而组件内部走"),s("code",[t._v("vdom")]),t._v("做"),s("code",[t._v("diff")]),t._v("，这样，既不会有太多"),s("code",[t._v("watcher")]),t._v("，也不会让"),s("code",[t._v("vdom")]),t._v("的规模过大。而"),s("code",[t._v("React")]),t._v("走了类似于"),s("code",[t._v("CPU")]),t._v("调度的逻辑，把"),s("code",[t._v("vdom")]),t._v("这棵树，微观上变成了链表，然后利用浏览器的空闲时间来做"),s("code",[t._v("diff")]),t._v("。")])])])}),[],!1,null,null,null);a.default=n.exports}}]);