<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ç»„ä»¶ç±» | å‰ç«¯é¢è¯•æŒ‡å—</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/FE-Interview-Questions/logo.png">
    <link rel="manifest" href="/FE-Interview-Questions/manifest.json">
    <link rel="apple-touch-icon" href="/FE-Interview-Questions/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/FE-Interview-Questions/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="webå‰ç«¯é¢è¯•é¢˜æ€»ç»“ï¼Œé¢è¯•æŒ‡å—ï¼Œå‰ç«¯é¢è¯•é¢˜æ•´ç†ï¼Œwebé¢è¯•å®å…¸ï¼Œåˆ·é¢˜ç¥å™¨ï¼ŒæŒ‰æ¨¡å—åˆ†ç±»æ•´ç†æ€»ç»“ï¼Œæ‰“é€ æœ€å…¨é¢çš„å‰ç«¯é¢è¯•é¢˜">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/FE-Interview-Questions/assets/css/0.styles.b867a2f8.css" as="style"><link rel="preload" href="/FE-Interview-Questions/assets/js/app.356be1e3.js" as="script"><link rel="preload" href="/FE-Interview-Questions/assets/js/5.202ab893.js" as="script"><link rel="preload" href="/FE-Interview-Questions/assets/js/4.5ac63c44.js" as="script"><link rel="preload" href="/FE-Interview-Questions/assets/js/127.ef6fe0c6.js" as="script"><link rel="preload" href="/FE-Interview-Questions/assets/js/11.6ecd37f3.js" as="script"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/1.90e7df67.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/10.36ef20ea.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/100.8e701e6a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/101.0b93fb0e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/102.1e8d4c16.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/103.31f5c7e8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/104.4e1bd7fb.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/105.f9408f15.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/106.b30e151e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/107.203543b3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/108.7b0650aa.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/109.645fee20.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/110.acf1d145.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/111.230c99ea.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/112.e9e54a73.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/113.5b6e3b69.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/114.3b620a90.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/115.92b5418d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/116.2aab07db.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/117.5fc9a5aa.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/118.26074c55.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/119.a9d6e42f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/12.1a2fc04c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/120.6c98c001.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/121.cf11f49c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/122.ff313c30.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/123.0ff709da.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/124.708e2166.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/125.7b3b0adb.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/126.8e696b60.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/128.aba1fdb7.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/129.d9587e32.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/13.15a81ec0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/130.520b9667.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/131.71d20a60.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/132.bc069606.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/133.b26c3bf9.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/134.8bea904f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/135.06eae83c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/136.0245f261.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/137.78875ad2.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/138.ef93bd0a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/139.5cc285a5.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/14.13d38059.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/140.b510a2ad.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/141.4d95fe2e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/142.783efbcb.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/143.a3653bc8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/144.7af66c09.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/145.ef37cf84.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/146.ed0b86d7.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/147.967a82bb.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/148.26a1a272.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/149.b98df4f8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/15.4e38b6b8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/150.46ce083d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/151.2a0f472d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/16.03e0a04b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/17.2e4c9e4e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/18.aabad7ca.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/19.fb252eda.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/20.d5e476a0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/21.e824e3b0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/22.74b2f260.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/23.083339a3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/24.f6aebd8c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/25.fdcbdffd.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/26.6e3cc637.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/27.a224a0ad.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/28.67cb2bd9.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/29.4dba64ce.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/3.7b809ebe.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/30.d3ad2096.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/31.48eeeb15.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/32.1fb0a801.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/33.6897de58.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/34.cd60ddbe.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/35.eb2c210f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/36.12d28bd5.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/37.2e80e520.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/38.5307919f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/39.27b1bc0a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/40.12c88b79.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/41.81bc4856.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/42.bae90031.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/43.65cffc22.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/44.1e09c596.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/45.ad7fc545.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/46.82ee9598.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/47.180a2834.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/48.976cfb05.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/49.9c32a429.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/50.bd73e692.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/51.1225d3d6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/52.96175774.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/53.f4689406.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/54.19febd99.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/55.a01366b0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/56.c8cc84c7.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/57.260a4780.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/58.2a1e6801.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/59.32eee4f1.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/6.c87bfe1b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/60.155d48a5.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/61.cbc45c17.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/62.2135bc9f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/63.805bf1e4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/64.383b543d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/65.dc9512e3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/66.e781d0ef.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/67.10d1361b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/68.eb62b704.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/69.1a16e65d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/7.2d542131.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/70.169cd9cf.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/71.a6b06ccf.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/72.4c79afa4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/73.cf78a981.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/74.e1b3900f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/75.e878f4b7.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/76.e102c07a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/77.4fa4b0cf.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/78.f8d995b0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/79.2603dfda.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/8.c3be176d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/80.465f15bb.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/81.25de68f1.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/82.ceb807dd.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/83.67cf3513.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/84.366ea325.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/85.35bedcd0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/86.a5047416.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/87.529e9942.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/88.45792e50.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/89.6ce38cb0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/9.350e5c1d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/90.39ff9d10.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/91.2d6f151a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/92.7f38f590.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/93.5ddf166c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/94.9742d986.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/95.fff31d21.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/96.33f2f989.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/97.d0d421a7.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/98.7f894291.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/99.4728d9e5.js">
    <link rel="stylesheet" href="/FE-Interview-Questions/assets/css/0.styles.b867a2f8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><div><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/FE-Interview-Questions/" class="home-link router-link-active"><img src="/FE-Interview-Questions/logo.png" alt="å‰ç«¯é¢è¯•æŒ‡å—" class="logo"> <span class="site-name can-hide">å‰ç«¯é¢è¯•æŒ‡å—</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="login-modal"><div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="å¾®ä¿¡æ‰«ç å…³æ³¨ã€ å‰ç«¯è¿›é˜¶ä¹‹æ—… ã€ç™»å½•" class="el-dialog" style="margin-top:15vh;width:32%;"><div class="el-dialog__header"><span class="el-dialog__title">å¾®ä¿¡æ‰«ç å…³æ³¨ã€ å‰ç«¯è¿›é˜¶ä¹‹æ—… ã€ç™»å½•</span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><!----></div></div></div></div> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FE-Interview-Questions/principle-docs/vue/01-ä»æºç è§£è¯»Vueç”Ÿå‘½å‘¨æœŸ.html" class="sidebar-link">ä»æºç è§£è¯»Vueç”Ÿå‘½å‘¨æœŸ</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/02-ç»„ä»¶çš„æœ¬è´¨.html" class="sidebar-link">ç»„ä»¶çš„æœ¬è´¨</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/03-æœ‰çŠ¶æ€ç»„ä»¶çš„è®¾è®¡.html" class="sidebar-link">æœ‰çŠ¶æ€ç»„ä»¶çš„è®¾è®¡</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/04-è®¾è®¡ VNode.html" class="sidebar-link">è®¾è®¡ VNode</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/05-è¾…åŠ©åˆ›å»º VNode çš„ h å‡½æ•°.html" class="sidebar-link">è¾…åŠ©åˆ›å»º VNode çš„ h å‡½æ•°</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/06-è‡ªå®šä¹‰æ¸²æŸ“å™¨å’Œå¼‚æ­¥æ¸²æŸ“.html" class="sidebar-link">è‡ªå®šä¹‰æ¸²æŸ“å™¨å’Œå¼‚æ­¥æ¸²æŸ“</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/07-æ¸²æŸ“å™¨ä¹‹æŒ‚è½½.html" class="sidebar-link">æ¸²æŸ“å™¨ä¹‹æŒ‚è½½</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/08-æ¸²æŸ“å™¨çš„æ ¸å¿ƒ Diff ç®—æ³•.html" class="sidebar-link">æ¸²æŸ“å™¨çš„æ ¸å¿ƒ Diff ç®—æ³•</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/09-æ¸²æŸ“å™¨ä¹‹patch.html" class="sidebar-link">æ¸²æŸ“å™¨ä¹‹patch</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/10-å›¾è§£ Vue å“åº”å¼åŸç†.html" class="sidebar-link">å›¾è§£ Vue å“åº”å¼åŸç†</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/11-å›¾è§£ Vue å¼‚æ­¥æ›´æ–°.html" class="sidebar-link">å›¾è§£ Vue å¼‚æ­¥æ›´æ–°</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/12-å‰–æ Vue å†…éƒ¨è¿è¡Œæœºåˆ¶.html" class="sidebar-link">å‰–æ Vue å†…éƒ¨è¿è¡Œæœºåˆ¶</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/13-vueå“åº”å¼åŸç†æ¨¡æ‹Ÿ.html" class="sidebar-link">vueå“åº”å¼åŸç†æ¨¡æ‹Ÿ</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/14-vueçŠ¶æ€ç®¡ç†ä¹‹vuex.html" class="sidebar-link">vueçŠ¶æ€ç®¡ç†ä¹‹vuex</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/15-ç†è§£Vueçš„è®¾è®¡æ€æƒ³åŠå®ç°Vue.html" class="sidebar-link">ç†è§£Vueçš„è®¾è®¡æ€æƒ³åŠå®ç°Vue</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>React</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FE-Interview-Questions/principle-docs/react/01-React routeråŸç†.html" class="sidebar-link">React routeråŸç†</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/02-Dvaæ€»ç»“.html" class="sidebar-link">Dvaæ€»ç»“</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/03-MobXæ€»ç»“.html" class="sidebar-link">MobXæ€»ç»“</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/04-æµ…æredux sagaä¸­é—´ä»¶åŠç”¨æ³•.html" class="sidebar-link">æµ…æredux sagaä¸­é—´ä»¶åŠç”¨æ³•</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/05-Reduxä¹‹æµ…æä¸­é—´ä»¶.html" class="sidebar-link">Reduxä¹‹æµ…æä¸­é—´ä»¶</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/06-Reduxä¹‹æºç åˆ†æ.html" class="sidebar-link">Reduxä¹‹æºç åˆ†æ</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/07-Reduxä¹‹å¼‚æ­¥ActionåŠæ“ä½œ.html" class="sidebar-link">Reduxä¹‹å¼‚æ­¥ActionåŠæ“ä½œ</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/08-æµ…æä¸­é—´ä»¶.html" class="sidebar-link">æµ…æä¸­é—´ä»¶</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/09-reactç»“åˆreduxå®æˆ˜.html" class="sidebar-link">reactç»“åˆreduxå®æˆ˜</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/10-Immutableæ€»ç»“.html" class="sidebar-link">Immutableæ€»ç»“</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/11-React16ä¸ºä»€ä¹ˆè¦æ›´æ”¹ç”Ÿå‘½å‘¨æœŸä¸Š.html" class="sidebar-link">React16ä¸ºä»€ä¹ˆè¦æ›´æ”¹ç”Ÿå‘½å‘¨æœŸä¸Š</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/12-React16ä¸ºä»€ä¹ˆè¦æ›´æ”¹ç”Ÿå‘½å‘¨æœŸä¸‹.html" class="sidebar-link">React16ä¸ºä»€ä¹ˆè¦æ›´æ”¹ç”Ÿå‘½å‘¨æœŸä¸‹</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/13-React Hooks è®¾è®¡åŠ¨æœºä¸å·¥ä½œæ¨¡å¼.html" class="sidebar-link">React Hooks è®¾è®¡åŠ¨æœºä¸å·¥ä½œæ¨¡å¼</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/14-æ·±å…¥ React Hooks å·¥ä½œæœºåˆ¶.html" class="sidebar-link">æ·±å…¥ React Hooks å·¥ä½œæœºåˆ¶</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/15-çœŸæ­£ç†è§£è™šæ‹ŸDOM.html" class="sidebar-link">çœŸæ­£ç†è§£è™šæ‹ŸDOM</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/16-React ä¸­çš„â€œæ ˆè°ƒå’Œâ€ Stack Reconciler è¿‡ç¨‹æ˜¯æ€æ ·çš„.html" class="sidebar-link">React ä¸­çš„â€œæ ˆè°ƒå’Œâ€ Stack Reconciler è¿‡ç¨‹æ˜¯æ€æ ·çš„</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/17-setState åˆ°åº•æ˜¯åŒæ­¥çš„ï¼Œè¿˜æ˜¯å¼‚æ­¥çš„.html" class="sidebar-link">setState åˆ°åº•æ˜¯åŒæ­¥çš„ï¼Œè¿˜æ˜¯å¼‚æ­¥çš„</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/18-å¦‚ä½•ç†è§£ Fiber æ¶æ„çš„è¿­ä»£åŠ¨æœºä¸è®¾è®¡æ€æƒ³.html" class="sidebar-link">å¦‚ä½•ç†è§£ Fiber æ¶æ„çš„è¿­ä»£åŠ¨æœºä¸è®¾è®¡æ€æƒ³</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/19-ReactDOM.render æ˜¯å¦‚ä½•ä¸²è”æ¸²æŸ“é“¾è·¯çš„.html" class="sidebar-link">ReactDOM.render æ˜¯å¦‚ä½•ä¸²è”æ¸²æŸ“é“¾è·¯çš„</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/20-å‰–æ Fiber æ¶æ„ä¸‹ Concurrent æ¨¡å¼çš„å®ç°åŸç†.html" class="sidebar-link">å‰–æ Fiber æ¶æ„ä¸‹ Concurrent æ¨¡å¼çš„å®ç°åŸç†</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/21-React äº‹ä»¶ä¸ DOM äº‹ä»¶æœ‰ä½•ä¸åŒ.html" class="sidebar-link">React äº‹ä»¶ä¸ DOM äº‹ä»¶æœ‰ä½•ä¸åŒ</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/22-æ­ç§˜ Redux è®¾è®¡æ€æƒ³ä¸å·¥ä½œåŸç†.html" class="sidebar-link">æ­ç§˜ Redux è®¾è®¡æ€æƒ³ä¸å·¥ä½œåŸç†</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/23-ä» Redux ä¸­é—´ä»¶å®ç°åŸç†åˆ‡å…¥ï¼Œç†è§£â€œé¢å‘åˆ‡é¢ç¼–ç¨‹â€.html" class="sidebar-link">ä» Redux ä¸­é—´ä»¶å®ç°åŸç†åˆ‡å…¥ï¼Œç†è§£â€œé¢å‘åˆ‡é¢ç¼–ç¨‹â€</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/24-å¦‚ä½•æ‰“é€ é«˜æ€§èƒ½çš„ React åº”ç”¨.html" class="sidebar-link">å¦‚ä½•æ‰“é€ é«˜æ€§èƒ½çš„ React åº”ç”¨</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/25-è·Ÿ React å­¦è®¾è®¡æ¨¡å¼.html" class="sidebar-link">è·Ÿ React å­¦è®¾è®¡æ¨¡å¼</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/26-Reactå…¨éƒ¨apiè§£è¯».html" class="active sidebar-link">Reactå…¨éƒ¨apiè§£è¯»</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/principle-docs/react/26-Reactå…¨éƒ¨apiè§£è¯».html#ç»„ä»¶ç±»" class="sidebar-link">ç»„ä»¶ç±»</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/principle-docs/react/26-Reactå…¨éƒ¨apiè§£è¯».html#å·¥å…·ç±»" class="sidebar-link">å·¥å…·ç±»</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/principle-docs/react/26-Reactå…¨éƒ¨apiè§£è¯».html#react-hooks" class="sidebar-link">react-hooks</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/principle-docs/react/26-Reactå…¨éƒ¨apiè§£è¯».html#react-dom" class="sidebar-link">react-dom</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FE-Interview-Questions/principle-docs/webpack/01-Webpack4æ‰“åŒ…æœºåˆ¶åŸç†è§£æ.html" class="sidebar-link">Webpack4æ‰“åŒ…æœºåˆ¶åŸç†è§£æ</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/02-webpackä¸­çš„HMRçƒ­æ›´æ–°åŸç†å‰–æ.html" class="sidebar-link">webpackä¸­çš„HMRçƒ­æ›´æ–°åŸç†å‰–æ</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/03-ä»æºç çª¥æ¢Webpack4.xåŸç†.html" class="sidebar-link">ä»æºç çª¥æ¢Webpack4.xåŸç†</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/04-å®ç°webpackå°å‹æ‰“åŒ…å·¥å…·.html" class="sidebar-link">å®ç°webpackå°å‹æ‰“åŒ…å·¥å…·</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/05-BabelåŸç†åŠå…¶ä½¿ç”¨.html" class="sidebar-link">BabelåŸç†åŠå…¶ä½¿ç”¨</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/06-Webpack ä¸ Rollup äºŒè€…ä¹‹é—´è¯¥å¦‚ä½•é€‰æ‹©.html" class="sidebar-link">Webpack ä¸ Rollup äºŒè€…ä¹‹é—´è¯¥å¦‚ä½•é€‰æ‹©</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/07-å‰ç«¯æ„å»ºæ–°ç©æ³• Vite ä¸Šæ‰‹ä¸æ€è€ƒ.html" class="sidebar-link">å‰ç«¯æ„å»ºæ–°ç©æ³• Vite ä¸Šæ‰‹ä¸æ€è€ƒ</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/08-åˆ©ç”¨ Webpack CodeSplitting å®Œæˆå¤æ‚åº”ç”¨æ‹†åŒ….html" class="sidebar-link">åˆ©ç”¨ Webpack CodeSplitting å®Œæˆå¤æ‚åº”ç”¨æ‹†åŒ…</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/09-ç©è½¬ Webpack çš„ TreeShaking ä¸ sideEffects ç‰¹æ€§.html" class="sidebar-link">ç©è½¬ Webpack çš„ TreeShaking ä¸ sideEffects ç‰¹æ€§</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/10-å¦‚ä½•é…ç½® Webpack SourceMap çš„æœ€ä½³å®è·µ.html" class="sidebar-link">å¦‚ä½•é…ç½® Webpack SourceMap çš„æœ€ä½³å®è·µ</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/11-Webpack è¿è¡Œæœºåˆ¶ä¸æ ¸å¿ƒå·¥ä½œåŸç†.html" class="sidebar-link">Webpack è¿è¡Œæœºåˆ¶ä¸æ ¸å¿ƒå·¥ä½œåŸç†</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Node</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FE-Interview-Questions/principle-docs/node/01-Nodeäº‹ä»¶å¾ªç¯æœºåˆ¶åŸç†.html" class="sidebar-link">Nodeäº‹ä»¶å¾ªç¯æœºåˆ¶åŸç†</a></li><li><a href="/FE-Interview-Questions/principle-docs/node/02-expressè¯¦ç»†ä½¿ç”¨.html" class="sidebar-link">expressè¯¦ç»†ä½¿ç”¨</a></li><li><a href="/FE-Interview-Questions/principle-docs/node/03-koaåŸºæœ¬ç”¨æ³•.html" class="sidebar-link">koaåŸºæœ¬ç”¨æ³•</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ç»¼åˆ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/01-è™šæ‹ŸDOMåŸç†åˆ†æ.html" class="sidebar-link">è™šæ‹ŸDOMåŸç†åˆ†æ</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/02-setTimeoutå®ç°åŸç†å’Œä½¿ç”¨æ³¨æ„.html" class="sidebar-link">setTimeoutå®ç°åŸç†å’Œä½¿ç”¨æ³¨æ„</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/03-æµ…æPromiseåŸç†.html" class="sidebar-link">æµ…æPromiseåŸç†</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/04-æµè§ˆå™¨æ¸²æŸ“åŸç†.html" class="sidebar-link">æµè§ˆå™¨æ¸²æŸ“åŸç†</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/05-å‰ç«¯é¢è¯•ä¹‹MVVMæµ…æ.html" class="sidebar-link">å‰ç«¯é¢è¯•ä¹‹MVVMæµ…æ</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/06-å‰ç«¯é¢è¯•ä¹‹ç»„ä»¶åŒ–.html" class="sidebar-link">å‰ç«¯é¢è¯•ä¹‹ç»„ä»¶åŒ–</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/07-è™šæ‹ŸDOMï¼ˆä¸€ï¼‰.html" class="sidebar-link">è™šæ‹ŸDOMï¼ˆä¸€ï¼‰</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/08-è™šæ‹ŸDOMï¼ˆäºŒï¼‰.html" class="sidebar-link">è™šæ‹ŸDOMï¼ˆäºŒï¼‰</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/09-å‰ç«¯æ€§èƒ½ä¹‹Performance.html" class="sidebar-link">å‰ç«¯æ€§èƒ½ä¹‹Performance</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/10-å°ç¨‹åºå¼€å‘å®è·µ.html" class="sidebar-link">å°ç¨‹åºå¼€å‘å®è·µ</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/11-å¯¹æ¯” Koa å’Œ Redux-åˆ†æå‰ç«¯ä¸­çš„ä¸­é—´ä»¶ç†å¿µ.html" class="sidebar-link">å¯¹æ¯” Koa å’Œ Redux</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/12-æ­£åˆ™å®Œæ•´ç¯‡.html" class="sidebar-link">æ­£åˆ™å®Œæ•´ç¯‡</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/13-æ‰“é€ å‰ç«¯ç›‘æ§ç³»ç»Ÿ.html" class="sidebar-link">æ‰“é€ å‰ç«¯ç›‘æ§ç³»ç»Ÿ</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/14-æµè§ˆå™¨æ¸²æŸ“æœºåˆ¶.html" class="sidebar-link">æµè§ˆå™¨æ¸²æŸ“æœºåˆ¶</a></li></ul></section></li></ul> </aside> <main class="page"> <div id="container" class="theme-default-content lock"><div class="content__default"><h2 id="ç»„ä»¶ç±»"><a href="#ç»„ä»¶ç±»" class="header-anchor">#</a> ç»„ä»¶ç±»</h2> <p>ç»„ä»¶ç±»ï¼Œè¯¦ç»†åˆ†çš„è¯æœ‰ä¸‰ç§ç±»ï¼Œç¬¬ä¸€ç±»è¯´ç™½äº†å°±æ˜¯æˆ‘å¹³æ—¶ç”¨äºç»§æ‰¿çš„åŸºç±»ç»„ä»¶<code>Component</code>,<code>PureComponent</code>,è¿˜æœ‰å°±æ˜¯<code>react</code>æä¾›çš„å†…ç½®çš„ç»„ä»¶ï¼Œæ¯”å¦‚<code>Fragment</code>,<code>StrictMode</code>,å¦ä¸€éƒ¨åˆ†å°±æ˜¯é«˜é˜¶ç»„ä»¶<code>forwardRef</code>,<code>memo</code>ç­‰ã€‚</p> <p><img src="http://img-repo.poetries.top/images/20210504203949.png" alt=""></p> <h3 id="component"><a href="#component" class="header-anchor">#</a> Component</h3> <p><code>Component</code>æ˜¯<code>class</code>ç»„ä»¶çš„æ ¹åŸºã€‚ç±»ç»„ä»¶ä¸€åˆ‡å§‹äº<code>Component</code>ã€‚å¯¹äº<code>React.Component</code>ä½¿ç”¨ï¼Œæˆ‘ä»¬æ²¡æœ‰ä»€ä¹ˆå¥½è®²çš„ã€‚æˆ‘ä»¬è¿™é‡Œé‡ç‚¹ç ”ç©¶ä¸€ä¸‹<code>react</code>å¯¹<code>Component</code>åšäº†äº›ä»€ä¹ˆã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>react<span class="token operator">/</span>src<span class="token operator">/</span>ReactBaseClasses<span class="token punctuation">.</span>js
<span class="token keyword">function</span> <span class="token function">Component</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context<span class="token punctuation">,</span> updater</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>props <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token operator">=</span> context<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>refs <span class="token operator">=</span> emptyObject<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>updater <span class="token operator">=</span> updater <span class="token operator">||</span> ReactNoopUpdateQueue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>è¿™å°±æ˜¯<code>Component</code>å‡½æ•°ï¼Œå…¶ä¸­<code>updater</code>å¯¹è±¡ä¸Šä¿å­˜ç€æ›´æ–°ç»„ä»¶çš„æ–¹æ³•ã€‚</p> <p><strong>æˆ‘ä»¬å£°æ˜çš„ç±»ç»„ä»¶æ˜¯ä»€ä¹ˆæ—¶å€™ä»¥ä½•ç§å½¢å¼è¢«å®ä¾‹åŒ–çš„å‘¢ï¼Ÿ</strong></p> <div class="language- extra-class"><pre class="language-text"><code>react-reconciler/src/ReactFiberClassComponent.js
</code></pre></div><p><strong>constructClassInstance</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">constructClassInstance</span><span class="token punctuation">(</span>
    <span class="token parameter">workInProgress<span class="token punctuation">,</span>
    ctor<span class="token punctuation">,</span>
    props</span>
<span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ctor</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    instance<span class="token punctuation">.</span>updater <span class="token operator">=</span> <span class="token punctuation">{</span>
        isMounted<span class="token punctuation">,</span>
        <span class="token function">enqueueSetState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">/* setState è§¦å‘è¿™é‡Œé¢çš„é€»è¾‘ */</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">enqueueReplaceState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">enqueueForceUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">/* forceUpdate è§¦å‘è¿™é‡Œçš„é€»è¾‘ */</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>å¯¹äº<code>Component</code>ï¼Œ <code>react</code> å¤„ç†é€»è¾‘è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œå®ä¾‹åŒ–æˆ‘ä»¬ç±»ç»„ä»¶ï¼Œç„¶åèµ‹å€¼<code>updater</code>å¯¹è±¡ï¼Œè´Ÿè´£ç»„ä»¶çš„æ›´æ–°ã€‚ç„¶ååœ¨ç»„ä»¶å„ä¸ªé˜¶æ®µï¼Œæ‰§è¡Œç±»ç»„ä»¶çš„<code>render</code>å‡½æ•°ï¼Œå’Œå¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°å°±å¯ä»¥äº†ã€‚</p> <h3 id="purecomponent"><a href="#purecomponent" class="header-anchor">#</a> PureComponent</h3> <p><code>PureComponent</code>å’Œ <code>Component</code>ç”¨æ³•ï¼Œå·®ä¸å¤šä¸€æ ·ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œçº¯ç»„ä»¶<code>PureComponent</code>ä¼šæµ…æ¯”è¾ƒï¼Œ<code>props</code>å’Œ<code>state</code>æ˜¯å¦ç›¸åŒï¼Œæ¥å†³å®šæ˜¯å¦é‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚æ‰€ä»¥ä¸€èˆ¬ç”¨äº<strong>æ€§èƒ½è°ƒä¼˜</strong>ï¼Œå‡å°‘<strong>render</strong>æ¬¡æ•°ã€‚</p> <p>ä»€ä¹ˆå«åš<strong>æµ…æ¯”è¾ƒ</strong>ï¼Œæˆ‘è¿™é‡Œä¸¾ä¸ªåˆ—å­ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token punctuation">{</span>
           data<span class="token operator">:</span><span class="token punctuation">{</span>
              name<span class="token operator">:</span><span class="token string">'alien'</span><span class="token punctuation">,</span>
              age<span class="token operator">:</span><span class="token number">28</span>
           <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">handerClick</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
        data<span class="token punctuation">.</span>age<span class="token operator">++</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;box&quot;</span> <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;show&quot;</span> <span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> ä½ çš„å§“åæ˜¯<span class="token operator">:</span> <span class="token punctuation">{</span> data<span class="token punctuation">.</span>name <span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> å¹´é¾„ï¼š <span class="token punctuation">{</span> data<span class="token punctuation">.</span>age  <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handerClick <span class="token punctuation">}</span> <span class="token operator">&gt;</span>age<span class="token operator">++</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/030e96abf31d46ab8dd9f4f72389127c~tplv-k3u1fbpfcp-watermark.image" alt="pureComponent.gif"> <strong>ç‚¹å‡»æŒ‰é’®ï¼Œæ²¡æœ‰ä»»ä½•ååº”</strong>ï¼Œå› ä¸º<code>PureComponent</code>ä¼šæ¯”è¾ƒä¸¤æ¬¡<code>data</code>å¯¹è±¡ï¼Œéƒ½æŒ‡å‘åŒä¸€ä¸ª<code>data</code>,æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œæ‰€ä»¥ä¸æ›´æ–°è§†å›¾ã€‚</p> <p>è§£å†³è¿™ä¸ªé—®é¢˜å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨<code>handerClick</code>äº‹ä»¶ä¸­è¿™ä¹ˆå†™ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> data<span class="token operator">:</span><span class="token punctuation">{</span><span class="token operator">...</span>data<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><p><strong>æµ…æ‹·è´</strong>å°±èƒ½æ ¹æœ¬è§£å†³é—®é¢˜ã€‚</p> <h3 id="memo"><a href="#memo" class="header-anchor">#</a> memo</h3> <p><code>React.memo</code>å’Œ<code>PureComponent</code>ä½œç”¨ç±»ä¼¼ï¼Œå¯ä»¥ç”¨ä½œæ€§èƒ½ä¼˜åŒ–ï¼Œ<code>React.memo</code> æ˜¯é«˜é˜¶ç»„ä»¶ï¼Œå‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶éƒ½å¯ä»¥ä½¿ç”¨ï¼Œ å’ŒåŒºåˆ«<code>PureComponent</code>æ˜¯ <code>React.memo</code>åªèƒ½å¯¹<code>props</code>çš„æƒ…å†µç¡®å®šæ˜¯å¦æ¸²æŸ“ï¼Œè€Œ<code>PureComponent</code>æ˜¯é’ˆå¯¹<code>props</code>å’Œ<code>state</code>ã€‚</p> <p><code>React.memo</code> æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°åŸå§‹ç»„ä»¶æœ¬èº«ï¼Œç¬¬äºŒä¸ªå‚æ•°ï¼Œå¯ä»¥æ ¹æ®ä¸€æ¬¡æ›´æ–°ä¸­<code>props</code>æ˜¯å¦ç›¸åŒå†³å®šåŸå§‹ç»„ä»¶æ˜¯å¦é‡æ–°æ¸²æŸ“ã€‚æ˜¯ä¸€ä¸ªè¿”å›å¸ƒå°”å€¼ï¼Œ<code>true</code> è¯æ˜ç»„ä»¶æ— é¡»é‡æ–°æ¸²æŸ“ï¼Œ<code>false</code>è¯æ˜ç»„ä»¶éœ€è¦é‡æ–°æ¸²æŸ“ï¼Œè¿™ä¸ªå’Œç±»ç»„ä»¶ä¸­çš„<code>shouldComponentUpdate()</code>æ­£å¥½ç›¸å ã€‚</p> <p><strong>React.memo: ç¬¬äºŒä¸ªå‚æ•° è¿”å› <code>true</code> ç»„ä»¶ä¸æ¸²æŸ“ ï¼Œ è¿”å› <code>false</code> ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚</strong> <strong>shouldComponentUpdate: è¿”å› <code>true</code> ç»„ä»¶æ¸²æŸ“ ï¼Œ è¿”å› <code>false</code> ç»„ä»¶ä¸æ¸²æŸ“ã€‚</strong></p> <p>æ¥ä¸‹æ¥æˆ‘ä»¬åšä¸€ä¸ªåœºæ™¯ï¼Œæ§åˆ¶ç»„ä»¶åœ¨ä»…æ­¤ä¸€ä¸ª<code>props</code>æ•°å­—å˜é‡ï¼Œä¸€å®šèŒƒå›´æ¸²æŸ“ã€‚</p> <p>ä¾‹å­ğŸŒ°ï¼š</p> <p>æ§åˆ¶ <code>props</code> ä¸­çš„ <code>number</code> ï¼š</p> <ul><li>1 åªæœ‰ <code>number</code> æ›´æ”¹ï¼Œç»„ä»¶æ¸²æŸ“ã€‚</li> <li>2 åªæœ‰ <code>number</code> å°äº 5 ï¼Œç»„ä»¶æ¸²æŸ“ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">TextMemo</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å­ç»„ä»¶æ¸²æŸ“'</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>hello<span class="token punctuation">,</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">controlIsRender</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
   <span class="token keyword">if</span><span class="token punctuation">(</span>pre<span class="token punctuation">.</span>number <span class="token operator">===</span> next<span class="token punctuation">.</span>number  <span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// number ä¸æ”¹å˜ ï¼Œä¸æ¸²æŸ“ç»„ä»¶</span>
       <span class="token keyword">return</span> <span class="token boolean">true</span> 
   <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>pre<span class="token punctuation">.</span>number <span class="token operator">!==</span> next<span class="token punctuation">.</span>number <span class="token operator">&amp;&amp;</span> next<span class="token punctuation">.</span>number <span class="token operator">&gt;</span> <span class="token number">5</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// number æ”¹å˜ ï¼Œä½†å€¼å¤§äº5 ï¼Œ ä¸æ¸²æŸ“ç»„ä»¶</span>
       <span class="token keyword">return</span> <span class="token boolean">true</span>
   <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// å¦åˆ™æ¸²æŸ“ç»„ä»¶</span>
       <span class="token keyword">return</span> <span class="token boolean">false</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> NewTexMemo <span class="token operator">=</span> <span class="token function">memo</span><span class="token punctuation">(</span>TextMemo<span class="token punctuation">,</span>controlIsRender<span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token punctuation">{</span>
            number<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            num<span class="token operator">:</span><span class="token number">1</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> num <span class="token punctuation">,</span> number <span class="token punctuation">}</span>  <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
                æ”¹å˜numï¼šå½“å‰å€¼ <span class="token punctuation">{</span> num <span class="token punctuation">}</span>  
                <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> num<span class="token operator">:</span>num <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token operator">&gt;</span>num<span class="token operator">++</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> num<span class="token operator">:</span>num <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token operator">&gt;</span>num<span class="token operator">--</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>  
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
                æ”¹å˜numberï¼š å½“å‰å€¼ <span class="token punctuation">{</span> number <span class="token punctuation">}</span> 
                <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> number<span class="token operator">:</span>number <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token operator">&gt;</span> number <span class="token operator">++</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> number<span class="token operator">:</span>number <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token operator">&gt;</span> number <span class="token operator">--</span> <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>  
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>NewTexMemo num<span class="token operator">=</span><span class="token punctuation">{</span> num <span class="token punctuation">}</span> number<span class="token operator">=</span><span class="token punctuation">{</span>number<span class="token punctuation">}</span>  <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>æ•ˆæœï¼š</strong></p> <p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/823787ff6ac5492c9da013b1acb4dfbc~tplv-k3u1fbpfcp-watermark.image" alt="memo.gif"></p> <p>å®Œç¾è¾¾åˆ°äº†æ•ˆæœï¼Œ<code>React.memo</code>ä¸€å®šç¨‹åº¦ä¸Šï¼Œå¯ä»¥ç­‰ä»·äºç»„ä»¶å¤–éƒ¨ä½¿ç”¨<code>shouldComponentUpdate</code> ï¼Œç”¨äºæ‹¦æˆªæ–°è€<code>props</code>ï¼Œç¡®å®šç»„ä»¶æ˜¯å¦æ›´æ–°ã€‚</p> <h3 id="forwardref"><a href="#forwardref" class="header-anchor">#</a> forwardRef</h3> <p>å®˜ç½‘å¯¹<code>forwardRef</code>çš„æ¦‚å¿µå’Œç”¨æ³•å¾ˆç¬¼ç»Ÿï¼Œä¹Ÿæ²¡æœ‰ç»™å®šä¸€ä¸ªå…·ä½“çš„æ¡ˆä¾‹ã€‚å¾ˆå¤šåŒå­¦ä¸çŸ¥é“ <code>forwardRef</code>å…·ä½“æ€ä¹ˆç”¨ï¼Œä¸‹é¢æˆ‘ç»“åˆå…·ä½“ä¾‹å­ç»™å¤§å®¶è®²è§£<code>forwardRef</code>åº”ç”¨åœºæ™¯ã€‚</p> <p><strong>1 è½¬å‘å¼•å…¥Ref</strong></p> <p>è¿™ä¸ªåœºæ™¯å®é™…å¾ˆç®€å•ï¼Œæ¯”å¦‚çˆ¶ç»„ä»¶æƒ³è·å–å­™ç»„ä»¶ï¼ŒæŸä¸€ä¸ª<code>dom</code>å…ƒç´ ã€‚è¿™ç§éš”ä»£<code>ref</code>è·å–å¼•ç”¨ï¼Œå°±éœ€è¦<code>forwardRef</code>æ¥åŠ©åŠ›ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Son</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> grandRef <span class="token punctuation">}</span> <span class="token operator">=</span> props
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> i am alien <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>span ref<span class="token operator">=</span><span class="token punctuation">{</span>grandRef<span class="token punctuation">}</span> <span class="token operator">&gt;</span>è¿™ä¸ªæ˜¯æƒ³è¦è·å–å…ƒç´ <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Father</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Son grandRef<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>grandRef<span class="token punctuation">}</span>  <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> NewFather <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">forwardRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>ref</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token operator">&lt;</span>Father grandRef<span class="token operator">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span>  <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>  <span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">GrandFather</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    node <span class="token operator">=</span> <span class="token keyword">null</span> 
    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>node<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>NewFather ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>node <span class="token operator">=</span> node <span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>æ•ˆæœ</strong></p> <p><img src="http://img-repo.poetries.top/images/20210504204037.png" alt=""></p> <p><code>react</code>ä¸å…è®¸<code>ref</code>é€šè¿‡<code>props</code>ä¼ é€’ï¼Œå› ä¸ºç»„ä»¶ä¸Šå·²ç»æœ‰ <code>ref</code> è¿™ä¸ªå±æ€§,åœ¨ç»„ä»¶è°ƒå’Œè¿‡ç¨‹ä¸­ï¼Œå·²ç»è¢«ç‰¹æ®Šå¤„ç†ï¼Œ<code>forwardRef</code>å‡ºç°å°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒæŠŠ<code>ref</code>è½¬å‘åˆ°è‡ªå®šä¹‰çš„<code>forwardRef</code>å®šä¹‰çš„å±æ€§ä¸Šï¼Œè®©<code>ref</code>ï¼Œå¯ä»¥é€šè¿‡<code>props</code>ä¼ é€’ã€‚</p> <p><strong>2 é«˜é˜¶ç»„ä»¶è½¬å‘Ref</strong></p> <p>ä¸€æ–‡åƒé€<code>hoc</code>æ–‡ç« ä¸­è®²åˆ°ï¼Œç”±äºå±æ€§ä»£ç†çš„<code>hoc</code>ï¼Œè¢«åŒ…è£¹ä¸€å±‚ï¼Œæ‰€ä»¥å¦‚æœæ˜¯ç±»ç»„ä»¶ï¼Œæ˜¯é€šè¿‡<code>ref</code>æ‹¿ä¸åˆ°åŸå§‹ç»„ä»¶çš„å®ä¾‹çš„ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>forWardRef</code>è½¬å‘<code>ref</code>ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token constant">HOC</span><span class="token punctuation">(</span><span class="token parameter">Component</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">class</span> <span class="token class-name">Wrap</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
     <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> forwardedRef <span class="token punctuation">,</span><span class="token operator">...</span>otherprops  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>Component ref<span class="token operator">=</span><span class="token punctuation">{</span>forwardedRef<span class="token punctuation">}</span>  <span class="token punctuation">{</span><span class="token operator">...</span>otherprops<span class="token punctuation">}</span>  <span class="token operator">/</span><span class="token operator">&gt;</span>
     <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span>  React<span class="token punctuation">.</span><span class="token function">forwardRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>ref</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>Wrap forwardedRef<span class="token operator">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token punctuation">)</span> 
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">666</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>hello<span class="token punctuation">,</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> HocIndex <span class="token operator">=</span>  <span class="token constant">HOC</span><span class="token punctuation">(</span>Index<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> node <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
     <span class="token comment">/* å°±å¯ä»¥è·¨å±‚çº§ï¼Œæ•è·åˆ° Index ç»„ä»¶çš„å®ä¾‹äº† */</span> 
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>current<span class="token punctuation">.</span>componentDidMount<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span>HocIndex ref<span class="token operator">=</span><span class="token punctuation">{</span>node<span class="token punctuation">}</span>  <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>


</code></pre></div><p>å¦‚ä¸Šï¼Œè§£å†³äº†é«˜é˜¶ç»„ä»¶å¼•å…¥<code>Ref</code>çš„é—®é¢˜ã€‚</p> <h3 id="lazy"><a href="#lazy" class="header-anchor">#</a> lazy</h3> <blockquote><p>React.lazy å’Œ Suspense æŠ€æœ¯è¿˜ä¸æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“ã€‚å¦‚æœä½ æƒ³è¦åœ¨ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“çš„åº”ç”¨ä¸­ä½¿ç”¨ï¼Œæˆ‘ä»¬æ¨è Loadable Components è¿™ä¸ªåº“</p></blockquote> <p><code>React.lazy</code>å’Œ<code>Suspense</code>é…åˆä¸€èµ·ç”¨ï¼Œèƒ½å¤Ÿæœ‰åŠ¨æ€åŠ è½½ç»„ä»¶çš„æ•ˆæœã€‚<code>React.lazy</code> æ¥å—ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°éœ€è¦åŠ¨æ€è°ƒç”¨ <code>import()</code>ã€‚å®ƒå¿…é¡»è¿”å›ä¸€ä¸ª <code>Promise</code> ï¼Œè¯¥ <code>Promise</code> éœ€è¦ <code>resolve</code> ä¸€ä¸ª <code>default export</code> çš„ <code>React</code> ç»„ä»¶ã€‚</p> <p>æˆ‘ä»¬æ¨¡æ‹Ÿä¸€ä¸ªåŠ¨æ€åŠ è½½çš„åœºæ™¯ã€‚</p> <p><strong>çˆ¶ç»„ä»¶</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Test <span class="token keyword">from</span> <span class="token string">'./comTest'</span>
<span class="token keyword">const</span> LazyComponent <span class="token operator">=</span>  React<span class="token punctuation">.</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>Test <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>   
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;context_box&quot;</span>  style<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token punctuation">{</span> marginTop <span class="token operator">:</span><span class="token string">'50px'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>   <span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>React<span class="token punctuation">.</span>Suspense fallback<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;icon&quot;</span> <span class="token operator">&gt;</span><span class="token operator">&lt;</span>SyncOutlined  spin  <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> <span class="token punctuation">}</span> <span class="token operator">&gt;</span>
               <span class="token operator">&lt;</span>LazyComponent <span class="token operator">/</span><span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>Suspense<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>æˆ‘ä»¬ç”¨<code>setTimeout</code>æ¥æ¨¡æ‹Ÿ<code>import</code>å¼‚æ­¥å¼•å…¥æ•ˆæœã€‚</p> <p><strong>Test</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'--componentDidMount--'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>alien<span class="token punctuation">}</span>  className<span class="token operator">=</span><span class="token string">&quot;alien&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>æ•ˆæœ</strong></p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bf576c3e03714c1594bfddf2467fe877~tplv-k3u1fbpfcp-watermark.image" alt="lazy.gif"></p> <h3 id="suspense"><a href="#suspense" class="header-anchor">#</a> Suspense</h3> <p>ä½•ä¸º<code>Suspense</code>, <code>Suspense</code> è®©ç»„ä»¶â€œç­‰å¾…â€æŸä¸ªå¼‚æ­¥æ“ä½œï¼Œç›´åˆ°è¯¥å¼‚æ­¥æ“ä½œç»“æŸå³å¯æ¸²æŸ“ã€‚</p> <p>ç”¨äºæ•°æ®è·å–çš„ <code>Suspense</code> æ˜¯ä¸€ä¸ªæ–°ç‰¹æ€§ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>&lt;Suspense&gt;</code> ä»¥å£°æ˜çš„æ–¹å¼æ¥â€œç­‰å¾…â€ä»»ä½•å†…å®¹ï¼ŒåŒ…æ‹¬æ•°æ®ã€‚æœ¬æ–‡é‡ç‚¹ä»‹ç»å®ƒåœ¨æ•°æ®è·å–çš„ç”¨ä¾‹ï¼Œå®ƒä¹Ÿå¯ä»¥ç”¨äºç­‰å¾…å›¾åƒã€è„šæœ¬æˆ–å…¶ä»–å¼‚æ­¥çš„æ“ä½œã€‚</p> <p>ä¸Šé¢è®²åˆ°é«˜é˜¶ç»„ä»¶<code>lazy</code>æ—¶å€™ï¼Œå·²ç»ç”¨ <code>lazy</code> + <code>Suspense</code>æ¨¡å¼ï¼Œæ„å»ºäº†å¼‚æ­¥æ¸²æŸ“ç»„ä»¶ã€‚æˆ‘ä»¬çœ‹ä¸€ä¸‹å®˜ç½‘æ–‡æ¡£ä¸­çš„æ¡ˆä¾‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> ProfilePage <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./ProfilePage'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‡’åŠ è½½</span>
<span class="token operator">&lt;</span>Suspense fallback<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>Spinner <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>ProfilePage <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Suspense<span class="token operator">&gt;</span>

</code></pre></div><h3 id="fragment"><a href="#fragment" class="header-anchor">#</a> Fragment</h3> <p><code>react</code>ä¸å…è®¸ä¸€ä¸ªç»„ä»¶è¿”å›å¤šä¸ªèŠ‚ç‚¹å…ƒç´ ï¼Œæ¯”å¦‚è¯´å¦‚ä¸‹æƒ…å†µ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span> ğŸğŸğŸ <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span> ğŸŒğŸŒğŸŒ <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span> ğŸ‡ğŸ‡ğŸ‡ <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>å¦‚æœæˆ‘ä»¬æƒ³è§£å†³è¿™ä¸ªæƒ…å†µï¼Œå¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨å¤–å±‚å¥—ä¸€ä¸ªå®¹å™¨å…ƒç´ ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span> ğŸğŸğŸ <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span> ğŸŒğŸŒğŸŒ <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span> ğŸ‡ğŸ‡ğŸ‡ <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>ä½†æ˜¯æˆ‘ä»¬ä¸æœŸæœ›ï¼Œå¢åŠ é¢å¤–çš„<code>dom</code>èŠ‚ç‚¹ï¼Œæ‰€ä»¥<code>react</code>æä¾›<code>Fragment</code>ç¢ç‰‡æ¦‚å¿µï¼Œèƒ½å¤Ÿè®©ä¸€ä¸ªç»„ä»¶è¿”å›å¤šä¸ªå…ƒç´ ã€‚ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>React<span class="token punctuation">.</span>Fragment<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span> ğŸğŸğŸ <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span> ğŸŒğŸŒğŸŒ <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span> ğŸ‡ğŸ‡ğŸ‡ <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>Fragment<span class="token operator">&gt;</span>

</code></pre></div><p>è¿˜å¯ä»¥ç®€å†™æˆï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span> ğŸğŸğŸ <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span> ğŸŒğŸŒğŸŒ <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span> ğŸ‡ğŸ‡ğŸ‡ <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>

</code></pre></div><p>å’Œ<code>Fragment</code>åŒºåˆ«æ˜¯ï¼Œ<code>Fragment</code>å¯ä»¥æ”¯æŒ<code>key</code>å±æ€§ã€‚<code>&lt;&gt;&lt;/&gt;</code>ä¸æ”¯æŒ<code>key</code>å±æ€§ã€‚</p> <p><strong>æ¸©é¦¨æç¤º</strong>ã€‚æˆ‘ä»¬é€šè¿‡<code>map</code>éå†åçš„å…ƒç´ ï¼Œ<code>react</code>åº•å±‚ä¼šå¤„ç†ï¼Œé»˜è®¤åœ¨å¤–éƒ¨åµŒå¥—ä¸€ä¸ª<code>&lt;Fragment&gt;</code>ã€‚</p> <p>æ¯”å¦‚ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token operator">&lt;</span>span key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span> <span class="token operator">&gt;</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p><code>react</code>åº•å±‚å¤„ç†ä¹‹åï¼Œç­‰ä»·äºï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Fragment</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Fragment</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h3 id="profiler"><a href="#profiler" class="header-anchor">#</a> Profiler</h3> <p><code>Profiler</code>è¿™ä¸ª<code>api</code>ä¸€èˆ¬ç”¨äºå¼€å‘é˜¶æ®µï¼Œæ€§èƒ½æ£€æµ‹ï¼Œæ£€æµ‹ä¸€æ¬¡<code>react</code>ç»„ä»¶æ¸²æŸ“ç”¨æ—¶ï¼Œæ€§èƒ½å¼€é”€ã€‚</p> <p><code>Profiler</code> éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼š</p> <p>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæ˜¯ <code>id</code>ï¼Œç”¨äºè¡¨è¯†å”¯ä¸€æ€§çš„<code>Profiler</code>ã€‚</p> <p>ç¬¬äºŒä¸ªå‚æ•°ï¼š<code>onRender</code>å›è°ƒå‡½æ•°ï¼Œç”¨äºæ¸²æŸ“å®Œæˆï¼Œæ¥å—æ¸²æŸ“å‚æ•°ã€‚</p> <p><strong>å®è·µï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">index</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Profiler id<span class="token operator">=</span><span class="token string">&quot;root&quot;</span> onRender<span class="token operator">=</span><span class="token punctuation">{</span> callback <span class="token punctuation">}</span>  <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Router  <span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Meuns<span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>KeepaliveRouterSwitch withoutRoute <span class="token operator">&gt;</span>
              <span class="token punctuation">{</span> <span class="token function">renderRoutes</span><span class="token punctuation">(</span>menusList<span class="token punctuation">)</span> <span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>KeepaliveRouterSwitch<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Profiler<span class="token operator">&gt;</span> 
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>ç»“æœ</strong></p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/229b794fe0f2449e9a18dc7f3733a395~tplv-k3u1fbpfcp-watermark.image" alt="Profiler.jpg"></p> <p>onRender</p> <ul><li>0 -id: <code>root</code>  -&gt;  <code>Profiler</code> æ ‘çš„ <code>id</code> ã€‚</li> <li>1 -phase: <code>mount</code> -&gt;  <code>mount</code> æŒ‚è½½ ï¼Œ <code>update</code> æ¸²æŸ“äº†ã€‚</li> <li>2 -actualDuration: <code>6.685000262223184</code>  -&gt; æ›´æ–° <code>committed</code> èŠ±è´¹çš„æ¸²æŸ“æ—¶é—´ã€‚</li> <li>3 -baseDuration:  <code>4.430000321008265</code>  -&gt; æ¸²æŸ“æ•´é¢—å­æ ‘éœ€è¦çš„æ—¶é—´</li> <li>4 -startTime : <code>689.7299999836832</code> -&gt;  æœ¬æ¬¡æ›´æ–°å¼€å§‹æ¸²æŸ“çš„æ—¶é—´</li> <li>5 -commitTime : <code>698.5799999674782</code> -&gt;  æœ¬æ¬¡æ›´æ–°committed çš„æ—¶é—´</li> <li>6 -interactions: <code>set{}</code> -&gt; æœ¬æ¬¡æ›´æ–°çš„ <code>interactions</code> çš„é›†åˆ</li></ul> <blockquote><p>å°½ç®¡ Profiler æ˜¯ä¸€ä¸ªè½»é‡çº§ç»„ä»¶ï¼Œæˆ‘ä»¬ä¾ç„¶åº”è¯¥åœ¨éœ€è¦æ—¶æ‰å»ä½¿ç”¨å®ƒã€‚å¯¹ä¸€ä¸ªåº”ç”¨æ¥è¯´ï¼Œæ¯æ·»åŠ ä¸€äº›éƒ½ä¼šç»™ CPU å’Œå†…å­˜å¸¦æ¥ä¸€äº›è´Ÿæ‹…ã€‚</p></blockquote> <h3 id="strictmode"><a href="#strictmode" class="header-anchor">#</a> StrictMode</h3> <p><code>StrictMode</code>è§åçŸ¥æ„ï¼Œä¸¥æ ¼æ¨¡å¼ï¼Œç”¨äºæ£€æµ‹<code>react</code>é¡¹ç›®ä¸­çš„æ½œåœ¨çš„é—®é¢˜ï¼Œã€‚ä¸ <code>Fragment</code> ä¸€æ ·ï¼Œ <code>StrictMode</code> ä¸ä¼šæ¸²æŸ“ä»»ä½•å¯è§çš„ <code>UI</code> ã€‚å®ƒä¸ºå…¶åä»£å…ƒç´ è§¦å‘é¢å¤–çš„æ£€æŸ¥å’Œè­¦å‘Šã€‚</p> <blockquote><p>ä¸¥æ ¼æ¨¡å¼æ£€æŸ¥ä»…åœ¨å¼€å‘æ¨¡å¼ä¸‹è¿è¡Œï¼›å®ƒä»¬ä¸ä¼šå½±å“ç”Ÿäº§æ„å»ºã€‚</p></blockquote> <p><code>StrictMode</code>ç›®å‰æœ‰åŠ©äºï¼š</p> <ul><li>â‘ è¯†åˆ«ä¸å®‰å…¨çš„ç”Ÿå‘½å‘¨æœŸã€‚</li> <li>â‘¡å…³äºä½¿ç”¨è¿‡æ—¶å­—ç¬¦ä¸² <code>ref API</code> çš„è­¦å‘Š</li> <li>â‘¢å…³äºä½¿ç”¨åºŸå¼ƒçš„ <code>findDOMNode</code> æ–¹æ³•çš„è­¦å‘Š</li> <li>â‘£æ£€æµ‹æ„å¤–çš„å‰¯ä½œç”¨</li> <li>â‘¤æ£€æµ‹è¿‡æ—¶çš„ <code>context API</code></li></ul> <p><strong>å®è·µ:è¯†åˆ«ä¸å®‰å…¨çš„ç”Ÿå‘½å‘¨æœŸ</strong></p> <p>å¯¹äºä¸å®‰å…¨çš„ç”Ÿå‘½å‘¨æœŸï¼ŒæŒ‡çš„æ˜¯<code>UNSAFE_componentWillMount</code>ï¼Œ<code>UNSAFE_componentWillReceiveProps</code> , <code>UNSAFE_componentWillUpdate</code></p> <div class="language- extra-class"><pre class="language-text"><code>å¤–å±‚å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼š
&lt;React.StrictMode&gt; 
    &lt;Router  &gt;
        &lt;Meuns/&gt;
        &lt;KeepaliveRouterSwitch withoutRoute &gt;
            { renderRoutes(menusList) }
        &lt;/KeepaliveRouterSwitch&gt;
    &lt;/Router&gt;
&lt;/React.StrictMode&gt;

æˆ‘ä»¬åœ¨å†…å±‚ç»„ä»¶ä¸­ï¼Œä½¿ç”¨ä¸å®‰å…¨çš„ç”Ÿå‘½å‘¨æœŸ:
class Index extends React.Component{    
    UNSAFE_componentWillReceiveProps(){
    }
    render(){      
        return &lt;div className=&quot;box&quot; /&gt;   
    }
}

æ•ˆæœï¼š
</code></pre></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5c84f768c1d440ccb4523d51a7065b79~tplv-k3u1fbpfcp-watermark.image" alt="strictMode.jpg"></p> <h2 id="å·¥å…·ç±»"><a href="#å·¥å…·ç±»" class="header-anchor">#</a> å·¥å…·ç±»</h2> <p>æ¥ä¸‹æ¥æˆ‘ä»¬ä¸€èµ·æ¥æ¢ç©¶ä¸€ä¸‹<code>react</code>å·¥å…·ç±»å‡½æ•°çš„ç”¨æ³•ã€‚</p> <p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4a55db52d97845b2bc29d9078680ef82~tplv-k3u1fbpfcp-watermark.image" alt="utils.jpg"></p> <h3 id="createelement"><a href="#createelement" class="header-anchor">#</a> createElement</h3> <p>ä¸€æåˆ°<code>createElement</code>ï¼Œå°±ä¸ç”±å¾—å’Œ<code>JSX</code>è”ç³»ä¸€èµ·ã€‚æˆ‘ä»¬å†™çš„<code>jsx</code>ï¼Œæœ€ç»ˆä¼šè¢« <code>babel</code>ï¼Œç”¨<code>createElement</code>ç¼–è¯‘æˆ<code>react</code>å…ƒç´ å½¢å¼ã€‚æˆ‘å†™ä¸€ä¸ªç»„ä»¶ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ä¼šè¢«ç¼–è¯‘æˆä»€ä¹ˆæ ·å­ï¼Œ</p> <p>å¦‚æœæˆ‘ä»¬åœ¨<code>render</code>é‡Œé¢è¿™ä¹ˆå†™ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;box&quot;</span> <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;item&quot;</span>  <span class="token operator">&gt;</span>ç”Ÿå‘½å‘¨æœŸ<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Text  mes<span class="token operator">=</span><span class="token string">&quot;hello,world&quot;</span>  <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>React<span class="token punctuation">.</span>Fragment<span class="token operator">&gt;</span> Flagment <span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>Fragment<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span> <span class="token comment">/*  */</span> <span class="token punctuation">}</span>
        textæ–‡æœ¬
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>ä¼šè¢«ç¼–è¯‘æˆè¿™æ ·ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> className<span class="token operator">:</span> <span class="token string">&quot;box&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> className<span class="token operator">:</span> <span class="token string">&quot;item&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;\u751F\u547D\u5468\u671F&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>Text<span class="token punctuation">,</span> <span class="token punctuation">{</span> mes<span class="token operator">:</span> <span class="token string">&quot;hello,world&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>React<span class="token punctuation">.</span>Fragment<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot; Flagment &quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">&quot;text\u6587\u672C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre></div><p>å½“ç„¶æˆ‘ä»¬å¯ä»¥ä¸ç”¨<code>jsx</code>æ¨¡å¼ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡<code>createElement</code>è¿›è¡Œå¼€å‘ã€‚</p> <p><strong><code>createElement</code>æ¨¡å‹:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>
  type<span class="token punctuation">,</span>
  <span class="token punctuation">[</span>props<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token operator">...</span>children<span class="token punctuation">]</span>
<span class="token punctuation">)</span>

</code></pre></div><p><code>createElement</code>å‚æ•°ï¼š</p> <p>**ç¬¬ä¸€ä¸ªå‚æ•°:**å¦‚æœæ˜¯ç»„ä»¶ç±»å‹ï¼Œä¼šä¼ å…¥ç»„ä»¶ï¼Œå¦‚æœæ˜¯<code>dom</code>å…ƒç´ ç±»å‹ï¼Œä¼ å…¥<code>div</code>æˆ–è€…<code>span</code>ä¹‹ç±»çš„å­—ç¬¦ä¸²ã€‚</p> <p><strong>ç¬¬äºŒä¸ªå‚æ•°:</strong>:ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨<code>dom</code>ç±»å‹ä¸­ä¸º<strong>å±æ€§</strong>ï¼Œåœ¨<code>ç»„ä»¶</code>ç±»å‹ä¸­ä¸º<strong>props</strong>ã€‚</p> <p><strong>å…¶ä»–å‚æ•°:</strong>ï¼Œä¾æ¬¡ä¸º<code>children</code>ï¼Œæ ¹æ®é¡ºåºæ’åˆ—ã€‚</p> <p><strong>createElementåšäº†äº›ä»€ä¹ˆï¼Ÿ</strong></p> <p>ç»è¿‡<code>createElement</code>å¤„ç†ï¼Œæœ€ç»ˆä¼šå½¢æˆ <code>$$typeof = Symbol(react.element)</code>å¯¹è±¡ã€‚å¯¹è±¡ä¸Šä¿å­˜äº†è¯¥<code>react.element</code>çš„ä¿¡æ¯ã€‚</p> <h3 id="cloneelement"><a href="#cloneelement" class="header-anchor">#</a> cloneElement</h3> <p>å¯èƒ½æœ‰çš„åŒå­¦è¿˜å‚»å‚»çš„åˆ†ä¸æ¸…æ¥š<code>cloneElement</code>å’Œ<code>createElement</code>åŒºåˆ«å’Œä½œç”¨ã€‚</p> <p><code>createElement</code>æŠŠæˆ‘ä»¬å†™çš„<code>jsx</code>ï¼Œå˜æˆ<code>element</code>å¯¹è±¡;  è€Œ<code>cloneElement</code>çš„ä½œç”¨æ˜¯ä»¥ <code>element</code> å…ƒç´ ä¸ºæ ·æ¿å…‹éš†å¹¶è¿”å›æ–°çš„ <code>React</code> å…ƒç´ ã€‚è¿”å›å…ƒç´ çš„ <code>props</code> æ˜¯å°†æ–°çš„ <code>props</code> ä¸åŸå§‹å…ƒç´ çš„ <code>props</code> æµ…å±‚åˆå¹¶åçš„ç»“æœã€‚</p> <p>é‚£ä¹ˆ<code>cloneElement</code>æ„Ÿè§‰åœ¨æˆ‘ä»¬å®é™…ä¸šåŠ¡ç»„ä»¶ä¸­ï¼Œå¯èƒ½æ²¡ä»€ä¹ˆç”¨ï¼Œä½†æ˜¯åœ¨<strong>ä¸€äº›å¼€æºé¡¹ç›®ï¼Œæˆ–è€…æ˜¯å…¬å…±æ’æ§½ç»„ä»¶ä¸­</strong>ç”¨å¤„è¿˜æ˜¯è›®å¤§çš„ï¼Œæ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶ä¸­ï¼ŒåŠ«æŒ<code>children element</code>ï¼Œç„¶åé€šè¿‡<code>cloneElement</code>å…‹éš†<code>element</code>ï¼Œæ··å…¥<code>props</code>ã€‚ç»å…¸çš„æ¡ˆä¾‹å°±æ˜¯ <code>react-router</code>ä¸­çš„<code>Swtich</code>ç»„ä»¶ï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ¥åŒ¹é…å”¯ä¸€çš„ <code>Route</code>å¹¶åŠ ä»¥æ¸²æŸ“ã€‚</p> <p>æˆ‘ä»¬è®¾ç½®ä¸€ä¸ªåœºæ™¯ï¼Œåœ¨ç»„ä»¶ä¸­ï¼Œå»åŠ«æŒ<code>children</code>ï¼Œç„¶åç»™<code>children</code>èµ‹èƒ½ä¸€äº›é¢å¤–çš„<code>props</code>:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">FatherComponent</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> newChildren <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">cloneElement</span><span class="token punctuation">(</span>children<span class="token punctuation">,</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> <span class="token punctuation">{</span> newChildren <span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">SonComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>hello<span class="token punctuation">,</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>    
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>      
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;box&quot;</span> <span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>FatherComponent<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>SonComponent name<span class="token operator">=</span><span class="token string">&quot;alien&quot;</span>  <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>FatherComponent<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>   
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>æ‰“å°ï¼š</strong></p> <p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8d4b0529cbea4e25bfcf1168d6e6d7b6~tplv-k3u1fbpfcp-watermark.image" alt="cloneElment.jpg"></p> <p>å®Œç¾è¾¾åˆ°äº†æ•ˆæœï¼</p> <h3 id="createcontext"><a href="#createcontext" class="header-anchor">#</a> createContext</h3> <p><code>createContext</code>ç”¨äºåˆ›å»ºä¸€ä¸ª<code>Context</code>å¯¹è±¡ï¼Œ<code>createContext</code>å¯¹è±¡ä¸­ï¼ŒåŒ…æ‹¬ç”¨äºä¼ é€’ <code>Context</code> å¯¹è±¡å€¼ <code>value</code>çš„<code>Provider</code>ï¼Œå’Œæ¥å—<code>value</code>å˜åŒ–è®¢é˜…çš„<code>Consumer</code>ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> MyContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span>defaultValue<span class="token punctuation">)</span>

</code></pre></div><p><code>createContext</code>æ¥å—ä¸€ä¸ªå‚æ•°<code>defaultValue</code>ï¼Œå¦‚æœ<code>Consumer</code>ä¸Šä¸€çº§ä¸€ç›´æ²¡æœ‰<code>Provider</code>,åˆ™ä¼šåº”ç”¨<code>defaultValue</code>ä½œä¸º<code>value</code>ã€‚<strong>åªæœ‰</strong>å½“ç»„ä»¶æ‰€å¤„çš„æ ‘ä¸­æ²¡æœ‰åŒ¹é…åˆ° <code>Provider</code> æ—¶ï¼Œå…¶ <code>defaultValue</code> å‚æ•°æ‰ä¼šç”Ÿæ•ˆã€‚</p> <p>æˆ‘ä»¬æ¥æ¨¡æ‹Ÿä¸€ä¸ª <code>Context.Provider</code>å’Œ<code>Context.Consumer</code>çš„ä¾‹å­ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">ComponentB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">/* ç”¨ Consumer è®¢é˜…ï¼Œ æ¥è‡ª Provider ä¸­ value çš„æ”¹å˜  */</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>MyContext<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>ComponentA  <span class="token punctuation">{</span><span class="token operator">...</span>value<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>MyContext<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">ComponentA</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> name <span class="token punctuation">,</span> mes <span class="token punctuation">}</span> <span class="token operator">=</span> props
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> 
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> å§“åï¼š <span class="token punctuation">{</span> name <span class="token punctuation">}</span>  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> æƒ³å¯¹å¤§å®¶è¯´ï¼š <span class="token punctuation">{</span> mes <span class="token punctuation">}</span>  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
         <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span> value <span class="token punctuation">,</span> <span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token string">'alien'</span><span class="token punctuation">,</span>
        mes<span class="token operator">:</span><span class="token string">'let us learn React '</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span><span class="token string">'50px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>MyContext<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span>  <span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>ComponentB <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>MyContext<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>æ‰“å°ç»“æœï¼š</strong></p> <p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4393bac1d6b2428d9365b0f3ff480419~tplv-k3u1fbpfcp-watermark.image" alt="createContent.jpg"></p> <p><code>Provider</code>å’Œ<code>Consumer</code>çš„è‰¯å¥½çš„ç‰¹æ€§ï¼Œå¯ä»¥åšæ•°æ®çš„<strong>å­˜</strong>å’Œ<strong>å–</strong>ï¼Œ<code>Consumer</code>ä¸€æ–¹é¢ä¼ é€’<code>value</code>,å¦ä¸€æ–¹é¢å¯ä»¥è®¢é˜…<code>value</code>çš„æ”¹å˜ã€‚</p> <p><code>Provider</code>è¿˜æœ‰ä¸€ä¸ªç‰¹æ€§å¯ä»¥å±‚å±‚ä¼ é€’<code>value</code>ï¼Œè¿™ç§ç‰¹æ€§åœ¨<code>react-redux</code>ä¸­è¡¨ç°çš„æ·‹æ¼“å°½è‡´ã€‚</p> <h3 id="createfactory"><a href="#createfactory" class="header-anchor">#</a> createFactory</h3> <div class="language-js extra-class"><pre class="language-js"><code>React<span class="token punctuation">.</span><span class="token function">createFactory</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span>

</code></pre></div><p>è¿”å›ç”¨äºç”ŸæˆæŒ‡å®šç±»å‹ React å…ƒç´ çš„å‡½æ•°ã€‚ç±»å‹å‚æ•°æ—¢å¯ä»¥æ˜¯æ ‡ç­¾åå­—ç¬¦ä¸²ï¼ˆåƒæ˜¯ '<code>div</code>' æˆ– '<code>span</code>'ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ React ç»„ä»¶ ç±»å‹ ï¼ˆ <code>class</code> ç»„ä»¶æˆ–å‡½æ•°ç»„ä»¶ï¼‰ï¼Œæˆ–æ˜¯ <code>React fragment</code> ç±»å‹ã€‚</p> <p>ä½¿ç”¨ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">const</span> Text <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createFactory</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>hello<span class="token punctuation">,</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span> 
<span class="token keyword">function</span> <span class="token function">Index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span><span class="token string">'50px'</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Text<span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>æ•ˆæœ</strong></p> <p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9984deb7d57d42fd8661c4c14ea19d72~tplv-k3u1fbpfcp-watermark.image" alt="createFactory.jpg"></p> <p>æŠ¥å‡ºè­¦å‘Šï¼Œè¿™ä¸ª<code>api</code>å°†è¦è¢«åºŸå¼ƒï¼Œæˆ‘ä»¬è¿™é‡Œå°±ä¸å¤šè®²äº†ï¼Œå¦‚æœæƒ³è¦è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œè¯·ç”¨<code>React.createElement</code></p> <h3 id="createref"><a href="#createref" class="header-anchor">#</a> createRef</h3> <p><code>createRef</code>å¯ä»¥åˆ›å»ºä¸€ä¸ª <code>ref</code> å…ƒç´ ï¼Œé™„åŠ åœ¨<code>react</code>å…ƒç´ ä¸Šã€‚</p> <p><strong>ç”¨æ³•ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>node <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>node<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>node<span class="token punctuation">}</span> <span class="token operator">&gt;</span> my name is alien <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>ä¸ªäººè§‰å¾—<code>createRef</code>è¿™ä¸ªæ–¹æ³•ï¼Œå¾ˆé¸¡è‚‹ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥<code>class</code>ç±»ç»„ä»¶ä¸­è¿™ä¹ˆå†™ï¼Œæ¥æ•è·<code>ref</code>ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    node <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>node<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>node <span class="token punctuation">}</span> <span class="token operator">&gt;</span> my name is alien <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>æˆ–è€…åœ¨<code>function</code>ç»„ä»¶ä¸­è¿™ä¹ˆå†™ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> node <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>current<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token punctuation">{</span>node<span class="token punctuation">}</span> <span class="token operator">&gt;</span>  my name is alien <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="isvalidelement"><a href="#isvalidelement" class="header-anchor">#</a> isValidElement</h3> <p>è¿™ä¸ªæ–¹æ³•å¯ä»¥ç”¨æ¥æ£€æµ‹æ˜¯å¦ä¸º<code>react element</code>å…ƒç´ ,æ¥å—å¾…éªŒè¯å¯¹è±¡ï¼Œè¿”å›<code>true</code>æˆ–è€…<code>false</code>ã€‚è¿™ä¸ªapiå¯èƒ½å¯¹äºä¸šåŠ¡ç»„ä»¶çš„å¼€å‘ï¼Œä½œç”¨ä¸å¤§ï¼Œå› ä¸ºå¯¹äºç»„ä»¶å†…éƒ¨çŠ¶æ€ï¼Œéƒ½æ˜¯å·²çŸ¥çš„ï¼Œæˆ‘ä»¬æ ¹æœ¬å°±ä¸éœ€è¦å»éªŒè¯ï¼Œæ˜¯å¦æ˜¯<code>react element</code> å…ƒç´ ã€‚ ä½†æ˜¯ï¼Œå¯¹äºä¸€èµ·å…¬å…±ç»„ä»¶æˆ–æ˜¯å¼€æºåº“ï¼Œ<code>isValidElement</code>å°±å¾ˆæœ‰ä½œç”¨äº†ã€‚</p> <p><strong>å®è·µ</strong></p> <p>æˆ‘ä»¬åšä¸€ä¸ªåœºæ™¯ï¼ŒéªŒè¯å®¹å™¨ç»„ä»¶çš„æ‰€æœ‰å­ç»„ä»¶ï¼Œè¿‡æ»¤åˆ°é<code>react element</code>ç±»å‹ã€‚</p> <p>æ²¡æœ‰ç”¨<code>isValidElement</code>éªŒè¯ä¹‹å‰ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">Text</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>hello<span class="token punctuation">,</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> 
<span class="token keyword">class</span> <span class="token class-name">WarpComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span><span class="token string">'50px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>WarpComponent<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Text<span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> my name is alien <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            Let's learn react together<span class="token operator">!</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>WarpComponent<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>è¿‡æ»¤ä¹‹å‰çš„æ•ˆæœ</strong></p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dfad646de7b3453bbb2c3d66c635f13b~tplv-k3u1fbpfcp-watermark.image" alt="isValidElement.jpg"></p> <p><strong>æˆ‘ä»¬ç”¨<code>isValidElement</code>è¿›è¡Œ<code>react element</code>éªŒè¯:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">WarpComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>newChidren <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> React<span class="token punctuation">.</span><span class="token function">isValidElement</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>newChidren
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>è¿‡æ»¤ä¹‹åæ•ˆæœ</strong></p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b7ef80c8874c4a509c74fefd8b1e4e05~tplv-k3u1fbpfcp-watermark.image" alt="isValidElement111.jpg"></p> <p>è¿‡æ»¤æ‰äº†é<code>react element</code> çš„ <code>Let's learn react together!</code>ã€‚</p> <h3 id="children-map"><a href="#children-map" class="header-anchor">#</a> Children.map</h3> <p>æ¥ä¸‹æ¥çš„äº”ä¸ª<code>api</code>éƒ½æ˜¯å’Œ<code>react.Chidren</code>ç›¸å…³çš„ï¼Œæˆ‘ä»¬æ¥åˆ†åˆ«ä»‹ç»ä¸€ä¸‹ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å®˜ç½‘çš„æè¿°ï¼Œ<code>React.Children</code> æä¾›äº†ç”¨äºå¤„ç† <code>this.props.children</code> ä¸é€æ˜æ•°æ®ç»“æ„çš„å®ç”¨æ–¹æ³•ã€‚</p> <p>æœ‰çš„åŒå­¦ä¼šé—®éå† <code>children</code>ç”¨æ•°ç»„æ–¹æ³•,<code>map</code> ï¼Œ<code>forEach</code> ä¸å°±å¯ä»¥äº†å—ï¼Ÿ è¯·æˆ‘ä»¬æ³¨æ„ä¸€ä¸‹<code>ä¸é€æ˜æ•°æ®ç»“æ„</code>,ä»€ä¹ˆå«åšä¸é€æ˜ç»“æ„?</p> <p><strong>æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹é€æ˜çš„ç»“æ„ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Text</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>hello<span class="token punctuation">,</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">WarpComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>children<span class="token punctuation">)</span>
    <span class="token keyword">return</span> props<span class="token punctuation">.</span>children
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span><span class="token string">'50px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>WarpComponent<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Text<span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Text<span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Text<span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>hello<span class="token punctuation">,</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>WarpComponent<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>æ‰“å°</strong></p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4247073612eb4b609a1ca7528a1a07f1~tplv-k3u1fbpfcp-watermark.image" alt="chidrenmap.jpg"></p> <p>ä½†æ˜¯æˆ‘ä»¬æŠŠ<code>Index</code>ç»“æ„æ”¹å˜ä¸€ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span><span class="token string">'50px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>WarpComponent<span class="token operator">&gt;</span>
            <span class="token punctuation">{</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token operator">&lt;</span>Text<span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
            <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>hello<span class="token punctuation">,</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>WarpComponent<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>æ‰“å°</strong></p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b8e1630e79f54b54b4291b7f4130aebe~tplv-k3u1fbpfcp-watermark.image" alt="chidrenmap2.jpg"></p> <p>è¿™ä¸ªæ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬ä¸èƒ½æ­£å¸¸çš„éå†äº†ï¼Œå³ä½¿éå†ä¹Ÿä¸èƒ½éå†ï¼Œæ¯ä¸€ä¸ªå­å…ƒç´ ã€‚æ­¤æ—¶å°±éœ€è¦ <code>react.Chidren</code> æ¥å¸®å¿™äº†ã€‚</p> <p>ä½†æ˜¯æˆ‘ä»¬æŠŠ<code>WarpComponent</code>ç»„ä»¶ç”¨<code>react.Chidren</code>å¤„ç†<code>children</code>:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">WarpComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> newChildren <span class="token operator">=</span> React<span class="token punctuation">.</span>Children<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>children<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>item<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newChildren<span class="token punctuation">)</span>
    <span class="token keyword">return</span> newChildren
<span class="token punctuation">}</span> 

</code></pre></div><p>æ­¤æ—¶å°±èƒ½æ­£å¸¸éå†äº†ï¼Œè¾¾åˆ°äº†é¢„æœŸæ•ˆæœã€‚</p> <p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0158172495a648df8e804a0707f993bc~tplv-k3u1fbpfcp-watermark.image" alt="C71364B2-25E8-4F7D-A26D-50CA36AF4E33.jpg"></p> <p><strong>æ³¨æ„</strong> å¦‚æœ <code>children</code> æ˜¯ä¸€ä¸ª <code>Fragment</code> å¯¹è±¡ï¼Œå®ƒå°†è¢«è§†ä¸ºå•ä¸€å­èŠ‚ç‚¹çš„æƒ…å†µå¤„ç†ï¼Œè€Œä¸ä¼šè¢«éå†ã€‚</p> <h3 id="children-foreach"><a href="#children-foreach" class="header-anchor">#</a> Children.forEach</h3> <p><code>Children.forEach</code>å’Œ<code>Children.map</code> ç”¨æ³•ç±»ä¼¼ï¼Œ<code>Children.map</code>å¯ä»¥è¿”å›æ–°çš„æ•°ç»„ï¼Œ<code>Children.forEach</code>ä»…åœç•™åœ¨éå†é˜¶æ®µã€‚</p> <p>æˆ‘ä»¬å°†ä¸Šé¢çš„<code>WarpComponent</code>æ–¹æ³•ï¼Œç”¨<code>Children.forEach</code>æ”¹ä¸€ä¸‹ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">WarpComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    React<span class="token punctuation">.</span>Children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>children<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> props<span class="token punctuation">.</span>children
<span class="token punctuation">}</span>   

</code></pre></div><h3 id="children-count"><a href="#children-count" class="header-anchor">#</a> Children.count</h3> <p><code>children</code> ä¸­çš„ç»„ä»¶æ€»æ•°é‡ï¼Œç­‰åŒäºé€šè¿‡ <code>map</code> æˆ– <code>forEach</code> è°ƒç”¨å›è°ƒå‡½æ•°çš„æ¬¡æ•°ã€‚å¯¹äºæ›´å¤æ‚çš„ç»“æœï¼Œ<code>Children.count</code>å¯ä»¥è¿”å›åŒä¸€çº§åˆ«å­ç»„ä»¶çš„æ•°é‡ã€‚</p> <p>æˆ‘ä»¬è¿˜æ˜¯æŠŠä¸Šè¿°ä¾‹å­è¿›è¡Œæ”¹é€ ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">WarpComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> childrenCount <span class="token operator">=</span>  React<span class="token punctuation">.</span>Children<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>children<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>childrenCount<span class="token punctuation">,</span><span class="token string">'childrenCount'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> props<span class="token punctuation">.</span>children
<span class="token punctuation">}</span>   
<span class="token keyword">function</span> <span class="token function">Index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span><span class="token string">'50px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>WarpComponent<span class="token operator">&gt;</span>
            <span class="token punctuation">{</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index1</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token operator">&lt;</span>Text key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token operator">+</span>index1<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
            <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>hello<span class="token punctuation">,</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>WarpComponent<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>æ•ˆæœ:</strong></p> <p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/04f10179d259460884beb8f035fa15e4~tplv-k3u1fbpfcp-watermark.image" alt="chidrencunt.jpg"></p> <h3 id="children-toarray"><a href="#children-toarray" class="header-anchor">#</a> Children.toArray</h3> <p><code>Children.toArray</code>è¿”å›ï¼Œ<code>props.children</code>æ‰å¹³åŒ–åç»“æœã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">WarpComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> newChidrenArray <span class="token operator">=</span>  React<span class="token punctuation">.</span>Children<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>children<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newChidrenArray<span class="token punctuation">,</span><span class="token string">'newChidrenArray'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> newChidrenArray
<span class="token punctuation">}</span>   
<span class="token keyword">function</span> <span class="token function">Index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span><span class="token string">'50px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>WarpComponent<span class="token operator">&gt;</span>
            <span class="token punctuation">{</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index1</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token operator">&lt;</span>Text key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token operator">+</span>index1<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
            <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>hello<span class="token punctuation">,</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>WarpComponent<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>æ•ˆæœï¼š</strong></p> <p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/64a4a789f44747ba93fa54bc94fa7f8b~tplv-k3u1fbpfcp-watermark.image" alt="chuldeanarrgy.jpg"></p> <p><strong>newChidrenArray</strong> ,å°±æ˜¯æ‰å¹³åŒ–çš„æ•°ç»„ç»“æ„ã€‚<code>React.Children.toArray()</code> åœ¨æ‹‰å¹³å±•å¼€å­èŠ‚ç‚¹åˆ—è¡¨æ—¶ï¼Œæ›´æ”¹ <code>key</code> å€¼ä»¥ä¿ç•™åµŒå¥—æ•°ç»„çš„è¯­ä¹‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ <code>toArray</code> ä¼šä¸ºè¿”å›æ•°ç»„ä¸­çš„æ¯ä¸ª <code>key</code> æ·»åŠ å‰ç¼€ï¼Œä»¥ä½¿å¾—æ¯ä¸ªå…ƒç´  <code>key</code> çš„èŒƒå›´éƒ½é™å®šåœ¨æ­¤å‡½æ•°å…¥å‚æ•°ç»„çš„å¯¹è±¡å†…ã€‚</p> <h3 id="children-only"><a href="#children-only" class="header-anchor">#</a> Children.only</h3> <p>éªŒè¯ <code>children</code> æ˜¯å¦åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹ï¼ˆä¸€ä¸ª <code>React</code> å…ƒç´ ï¼‰ï¼Œå¦‚æœæœ‰åˆ™è¿”å›å®ƒï¼Œå¦åˆ™æ­¤æ–¹æ³•ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p> <p><strong>ä¸å”¯ä¸€</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">WarpComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>React<span class="token punctuation">.</span>Children<span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> props<span class="token punctuation">.</span>children
<span class="token punctuation">}</span>   
<span class="token keyword">function</span> <span class="token function">Index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span><span class="token string">'50px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>WarpComponent<span class="token operator">&gt;</span>
            <span class="token punctuation">{</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token operator">&lt;</span>Text key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
            <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>hello<span class="token punctuation">,</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>WarpComponent<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>æ•ˆæœ</strong></p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a16924238b9042739100e51034e5f810~tplv-k3u1fbpfcp-watermark.image" alt="falseonly.jpg"></p> <p><strong>å”¯ä¸€</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">WarpComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>React<span class="token punctuation">.</span>Children<span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> props<span class="token punctuation">.</span>children
<span class="token punctuation">}</span>   
<span class="token keyword">function</span> <span class="token function">Index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span><span class="token string">'50px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>WarpComponent<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>Text<span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>WarpComponent<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>æ•ˆæœ</strong></p> <p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/05aa09a275e6472a8ce50ec58e29a8ab~tplv-k3u1fbpfcp-watermark.image" alt="only.jpg"></p> <p><code>React.Children.only()</code> ä¸æ¥å— <code>React.Children.map()</code> çš„è¿”å›å€¼ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„è€Œå¹¶ä¸æ˜¯ <code>React</code> å…ƒç´ ã€‚</p> <h2 id="react-hooks"><a href="#react-hooks" class="header-anchor">#</a> react-hooks</h2> <p>å¯¹äº<code>react-hooks</code>,æˆ‘å·²ç»å†™äº†ä¸‰éƒ¨æ›²ï¼Œä»‹ç»äº†<code>react-hooks</code>ä½¿ç”¨ï¼Œè‡ªå®šä¹‰<code>hooks</code>ï¼Œä»¥åŠ<code>react-hooks</code>åŸç†ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å»çœ‹çœ‹ï¼Œæ–‡ç« æœ«å°¾æœ‰é“¾æ¥ï¼Œå¯¹äºå¸¸ç”¨çš„<code>api</code>ï¼Œæˆ‘è¿™é‡Œå‚è€ƒäº†<code>react-hooks</code>å¦‚ä½•ä½¿ç”¨é‚£ç¯‡æ–‡ç« ã€‚å¹¶åšäº†ç›¸åº”ç²¾ç®€åŒ–å’Œä¸€äº›å†…å®¹çš„è¡¥å……ã€‚</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/978f814d97e441838bad1d654ba1ef42~tplv-k3u1fbpfcp-watermark.image" alt="hooks.jpg"></p> <h3 id="usestate"><a href="#usestate" class="header-anchor">#</a> useState</h3> <p><code>useState</code>å¯ä»¥å¼¥è¡¥å‡½æ•°ç»„ä»¶æ²¡æœ‰<code>state</code>çš„ç¼ºé™·ã€‚<code>useState</code>å¯ä»¥æ¥å—ä¸€ä¸ªåˆè¯†å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°<code>action</code>ï¼Œ<code>action</code>è¿”å›å€¼ä½œä¸ºæ–°çš„<code>state</code>ã€‚è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œç¬¬ä¸€ä¸ªå€¼ä¸º<code>state</code>è¯»å–å€¼ï¼Œç¬¬äºŒä¸ªå€¼ä¸ºæ”¹å˜<code>state</code>çš„<code>dispatchAction</code>å‡½æ•°ã€‚</p> <p>æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">DemoState</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token comment">/* numberä¸ºæ­¤æ—¶stateè¯»å–å€¼ ï¼ŒsetNumberä¸ºæ´¾å‘æ›´æ–°çš„å‡½æ•° */</span>
   <span class="token keyword">let</span> <span class="token punctuation">[</span>number<span class="token punctuation">,</span> setNumber<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">/* 0ä¸ºåˆå§‹å€¼ */</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span> number <span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
         <span class="token function">setNumber</span><span class="token punctuation">(</span>number<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">/* å†™æ³•ä¸€ */</span>
         <span class="token function">setNumber</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token operator">=&gt;</span>number <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token comment">/* å†™æ³•äºŒ */</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span> <span class="token comment">/* è¿™é‡Œçš„numberæ˜¯ä¸èƒ½å¤Ÿå³æ—¶æ”¹å˜çš„  */</span>
       <span class="token punctuation">}</span> <span class="token punctuation">}</span></span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">num++</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="useeffect"><a href="#useeffect" class="header-anchor">#</a> useEffect</h3> <p><code>useEffect</code>å¯ä»¥å¼¥è¡¥å‡½æ•°ç»„ä»¶æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸçš„ç¼ºç‚¹ã€‚æˆ‘ä»¬å¯ä»¥åœ¨<code>useEffect</code>ç¬¬ä¸€ä¸ªå‚æ•°å›è°ƒå‡½æ•°ä¸­ï¼Œåšä¸€äº›è¯·æ±‚æ•°æ®ï¼Œäº‹ä»¶ç›‘å¬ç­‰æ“ä½œï¼Œç¬¬äºŒä¸ªå‚æ•°ä½œä¸º<code>dep</code>ä¾èµ–é¡¹ï¼Œå½“ä¾èµ–é¡¹å‘ç”Ÿå˜åŒ–ï¼Œé‡æ–°æ‰§è¡Œç¬¬ä¸€ä¸ªå‡½æ•°ã€‚</p> <p><strong>useEffectå¯ä»¥ç”¨ä½œæ•°æ®äº¤äº’ã€‚</strong></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">/* æ¨¡æ‹Ÿæ•°æ®äº¤äº’ */</span>
<span class="token keyword">function</span> <span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> 
           <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
               name<span class="token operator">:</span>a<span class="token punctuation">,</span>
               age<span class="token operator">:</span><span class="token number">16</span><span class="token punctuation">,</span>
           <span class="token punctuation">}</span><span class="token punctuation">)</span> 
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">DemoEffect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> a <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span> userMessage <span class="token punctuation">,</span> setUserMessage <span class="token punctuation">]</span> <span class="token operator">:</span>any<span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> div<span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>number<span class="token punctuation">,</span> setNumber<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token comment">/* æ¨¡æ‹Ÿäº‹ä»¶ç›‘å¬å¤„ç†å‡½æ•° */</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleResize</span> <span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment">/* useEffectä½¿ç”¨ ï¼Œè¿™é‡Œå¦‚æœä¸åŠ é™åˆ¶ ï¼Œä¼šæ˜¯å‡½æ•°é‡å¤æ‰§è¡Œï¼Œé™·å…¥æ­»å¾ªç¯*/</span>
    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token comment">/* è¯·æ±‚æ•°æ® */</span>
       <span class="token function">getUserInfo</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
           <span class="token function">setUserMessage</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
       <span class="token punctuation">}</span><span class="token punctuation">)</span>
       <span class="token comment">/* æ“ä½œdom  */</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>current<span class="token punctuation">)</span> <span class="token comment">/* div */</span>
       <span class="token comment">/* äº‹ä»¶ç›‘å¬ç­‰ */</span>
        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span>
    <span class="token comment">/* åªæœ‰å½“props-&gt;aå’Œstate-&gt;numberæ”¹å˜çš„æ—¶å€™ ,useEffectå‰¯ä½œç”¨å‡½æ•°é‡æ–°æ‰§è¡Œ ï¼Œå¦‚æœæ­¤æ—¶æ•°ç»„ä¸ºç©º[]ï¼Œè¯æ˜å‡½æ•°åªæœ‰åœ¨åˆå§‹åŒ–çš„æ—¶å€™æ‰§è¡Œä¸€æ¬¡ç›¸å½“äºcomponentDidMount */</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span> a <span class="token punctuation">,</span>number <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>div<span class="token punctuation">}</span></span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span> userMessage<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span> userMessage<span class="token punctuation">.</span>age <span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token function">setNumber</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></span> <span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span> number <span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


</code></pre></div><p><strong>useEffectå¯ä»¥ç”¨ä½œäº‹ä»¶ç›‘å¬ï¼Œè¿˜æœ‰ä¸€äº›åŸºäº<code>dom</code>çš„æ“ä½œã€‚</strong>,åˆ«å¿˜äº†åœ¨<code>useEffect</code>ç¬¬ä¸€ä¸ªå‚æ•°å›è°ƒå‡½æ•°ï¼Œè¿”ä¸€ä¸ªå‡½æ•°ç”¨äºæ¸…é™¤äº‹ä»¶ç›‘å¬ç­‰æ“ä½œã€‚</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">DemoEffect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> a <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">/* æ¨¡æ‹Ÿäº‹ä»¶ç›‘å¬å¤„ç†å‡½æ•° */</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleResize</span> <span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
       <span class="token comment">/* å®šæ—¶å™¨ å»¶æ—¶å™¨ç­‰ */</span>
       <span class="token keyword">const</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">666</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
       <span class="token comment">/* äº‹ä»¶ç›‘å¬ */</span>
       window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span>
       <span class="token comment">/* æ­¤å‡½æ•°ç”¨äºæ¸…é™¤å‰¯ä½œç”¨ */</span>
       <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
           <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span> 
           window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span> a <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>  <span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


</code></pre></div><h3 id="usememo"><a href="#usememo" class="header-anchor">#</a> useMemo</h3> <p><code>useMemo</code>æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›å€¼ç”¨äºäº§ç”Ÿ<strong>ä¿å­˜å€¼</strong>ã€‚ ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä½œä¸º<code>dep</code>ä¾èµ–é¡¹ï¼Œæ•°ç»„é‡Œé¢çš„ä¾èµ–é¡¹å‘ç”Ÿå˜åŒ–ï¼Œé‡æ–°æ‰§è¡Œç¬¬ä¸€ä¸ªå‡½æ•°ï¼Œäº§ç”Ÿ<strong>æ–°çš„å€¼</strong>ã€‚</p> <p>åº”ç”¨åœºæ™¯ï¼š <strong>1 ç¼“å­˜ä¸€äº›å€¼ï¼Œé¿å…é‡æ–°æ‰§è¡Œä¸Šä¸‹æ–‡</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> number <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">/** ....å¤§é‡çš„é€»è¾‘è¿ç®— **/</span>
   <span class="token keyword">return</span> number
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span> props<span class="token punctuation">.</span>number <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// åªæœ‰ props.number æ”¹å˜çš„æ—¶å€™ï¼Œé‡æ–°è®¡ç®—numberçš„å€¼ã€‚</span>

</code></pre></div><p><strong>2 å‡å°‘ä¸å¿…è¦çš„<code>dom</code>å¾ªç¯</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* ç”¨ useMemoåŒ…è£¹çš„listå¯ä»¥é™å®šå½“ä¸”ä»…å½“listæ”¹å˜çš„æ—¶å€™æ‰æ›´æ–°æ­¤listï¼Œè¿™æ ·å°±å¯ä»¥é¿å…selectListé‡æ–°å¾ªç¯ */</span>
 <span class="token punctuation">{</span><span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>
          selectList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">i<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
              <span class="token operator">&lt;</span>span
                  className<span class="token operator">=</span><span class="token punctuation">{</span>style<span class="token punctuation">.</span>listSpan<span class="token punctuation">}</span>
                  key<span class="token operator">=</span><span class="token punctuation">{</span>v<span class="token punctuation">}</span> <span class="token operator">&gt;</span>
                  <span class="token punctuation">{</span>i<span class="token punctuation">.</span>patentName<span class="token punctuation">}</span> 
              <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>selectList<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>


</code></pre></div><p><strong>3 å‡å°‘å­ç»„ä»¶æ¸²æŸ“</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* åªæœ‰å½“propsä¸­ï¼Œliståˆ—è¡¨æ”¹å˜çš„æ—¶å€™ï¼Œå­ç»„ä»¶æ‰æ¸²æŸ“ */</span>
<span class="token keyword">const</span>  goodListChild <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>GoodList list<span class="token operator">=</span><span class="token punctuation">{</span> props<span class="token punctuation">.</span>list <span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token punctuation">,</span><span class="token punctuation">[</span> props<span class="token punctuation">.</span>list <span class="token punctuation">]</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="usecallback"><a href="#usecallback" class="header-anchor">#</a> useCallback</h3> <p><code>useMemo</code> å’Œ <code>useCallback</code> æ¥æ”¶çš„å‚æ•°éƒ½æ˜¯ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨å…¶ä¾èµ–é¡¹å‘ç”Ÿå˜åŒ–åæ‰æ‰§è¡Œï¼Œéƒ½æ˜¯è¿”å›ç¼“å­˜çš„å€¼ï¼ŒåŒºåˆ«åœ¨äº <code>useMemo</code> è¿”å›çš„æ˜¯å‡½æ•°è¿è¡Œçš„ç»“æœï¼Œ <code>useCallback</code> è¿”å›çš„æ˜¯å‡½æ•°ã€‚ è¿”å›çš„<code>callback</code>å¯ä»¥ä½œä¸º<code>props</code>å›è°ƒå‡½æ•°ä¼ é€’ç»™å­ç»„ä»¶ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* ç”¨react.memo */</span>
<span class="token keyword">const</span> DemoChildren <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">memo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
   <span class="token comment">/* åªæœ‰åˆå§‹åŒ–çš„æ—¶å€™æ‰“å°äº† å­ç»„ä»¶æ›´æ–° */</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å­ç»„ä»¶æ›´æ–°'</span><span class="token punctuation">)</span>
   <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
       props<span class="token punctuation">.</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token string">'å­ç»„ä»¶'</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>å­ç»„ä»¶<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">DemoUseCallback</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> id <span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>number<span class="token punctuation">,</span> setNumber<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token comment">/* æ­¤æ—¶usecallbackçš„ç¬¬ä¸€å‚æ•° (sonName)=&gt;{ console.log(sonName) }
     ç»è¿‡å¤„ç†èµ‹å€¼ç»™ getInfo */</span>
    <span class="token keyword">const</span> getInfo  <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sonName</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sonName<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* ç‚¹å‡»æŒ‰é’®è§¦å‘çˆ¶ç»„ä»¶æ›´æ–° ï¼Œä½†æ˜¯å­ç»„ä»¶æ²¡æœ‰æ›´æ–° */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">setNumber</span><span class="token punctuation">(</span>number<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token operator">&gt;</span>å¢åŠ <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>DemoChildren getInfo<span class="token operator">=</span><span class="token punctuation">{</span>getInfo<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="useref"><a href="#useref" class="header-anchor">#</a> useRef</h3> <p><code>useRef</code>çš„ä½œç”¨ï¼š</p> <ul><li>ä¸€ æ˜¯å¯ä»¥ç”¨æ¥è·å–<code>dom</code>å…ƒç´ ï¼Œæˆ–è€…<code>class</code>ç»„ä»¶å®ä¾‹ ã€‚</li> <li>äºŒ <code>react-hooksåŸç†</code>æ–‡ç« ä¸­è®²è¿‡ï¼Œåˆ›å»º<code>useRef</code>æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸€ä¸ªåŸå§‹å¯¹è±¡ï¼Œåªè¦å‡½æ•°ç»„ä»¶ä¸è¢«é”€æ¯ï¼ŒåŸå§‹å¯¹è±¡å°±ä¼šä¸€ç›´å­˜åœ¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œæ¥é€šè¿‡<code>useRef</code>ä¿å­˜ä¸€äº›æ•°æ®ã€‚</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">DemoUseRef</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> dom<span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handerSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token comment">/*  &lt;div &gt;è¡¨å•ç»„ä»¶&lt;/div&gt;  dom èŠ‚ç‚¹ */</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dom<span class="token punctuation">.</span>current<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token comment">/* ref æ ‡è®°å½“å‰domèŠ‚ç‚¹ */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>dom<span class="token punctuation">}</span></span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">è¡¨å•ç»„ä»¶</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">handerSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">æäº¤</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> 
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="uselayouteffect"><a href="#uselayouteffect" class="header-anchor">#</a> useLayoutEffect</h3> <p><strong><code>useEffect</code>æ‰§è¡Œé¡ºåº:</strong> ç»„ä»¶æ›´æ–°æŒ‚è½½å®Œæˆ -&gt; æµè§ˆå™¨ <code>dom</code> ç»˜åˆ¶å®Œæˆ -&gt; æ‰§è¡Œ <code>useEffect</code> å›è°ƒã€‚ <strong><code>useLayoutEffect</code> æ‰§è¡Œé¡ºåº:</strong> ç»„ä»¶æ›´æ–°æŒ‚è½½å®Œæˆ -&gt;  æ‰§è¡Œ <code>useLayoutEffect</code> å›è°ƒ-&gt; æµè§ˆå™¨<code>dom</code>ç»˜åˆ¶å®Œæˆã€‚</p> <p>æ‰€ä»¥è¯´ <code>useLayoutEffect</code> ä»£ç å¯èƒ½ä¼šé˜»å¡æµè§ˆå™¨çš„ç»˜åˆ¶ ã€‚æˆ‘ä»¬å†™çš„ <code>effect</code>å’Œ <code>useLayoutEffect</code>ï¼Œ<code>react</code>åœ¨åº•å±‚ä¼šè¢«åˆ†åˆ«æ‰“ä¸Š<code>PassiveEffect</code>ï¼Œ<code>HookLayout</code>ï¼Œåœ¨<code>commit</code>é˜¶æ®µåŒºåˆ†å‡ºï¼Œåœ¨ä»€ä¹ˆæ—¶æœºæ‰§è¡Œã€‚</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">DemoUseLayoutEffect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">useLayoutEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">/*æˆ‘ä»¬éœ€è¦åœ¨domç»˜åˆ¶ä¹‹å‰ï¼Œç§»åŠ¨domåˆ°åˆ¶å®šä½ç½®*/</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> x <span class="token punctuation">,</span>y <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getPositon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">/* è·å–è¦ç§»åŠ¨çš„ x,yåæ ‡ */</span>
        <span class="token function">animate</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>current<span class="token punctuation">,</span><span class="token punctuation">{</span> x<span class="token punctuation">,</span>y <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> target <span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>animate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="usereducer"><a href="#usereducer" class="header-anchor">#</a> useReducer</h3> <p>åœ¨<code>react-hooks</code>åŸç†é‚£ç¯‡æ–‡ç« ä¸­è®²è§£åˆ°ï¼Œ<code>useState</code>åº•å±‚å°±æ˜¯ä¸€ä¸ªç®€å•ç‰ˆçš„<code>useReducer</code></p> <p><code>useReducer</code> æ¥å—çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºå®ƒå°±æ˜¯ä¸€ä¸ª <code>reducer</code> , <code>reducer</code> çš„å‚æ•°å°±æ˜¯å¸¸è§„ <code>reducer</code> é‡Œé¢çš„ <code>state</code> å’Œ  <code>action</code> ,è¿”å›æ”¹å˜åçš„ <code>state</code> , <code>useReducer</code> ç¬¬äºŒä¸ªå‚æ•°ä¸º <code>state</code> çš„åˆå§‹å€¼ è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„ç¬¬ä¸€é¡¹å°±æ˜¯æ›´æ–°ä¹‹å <code>state</code> çš„å€¼ ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ´¾å‘æ›´æ–°çš„ <code>dispatch</code> å‡½æ•°ã€‚</p> <p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹<code>useReducer</code>å¦‚ä½•ä½¿ç”¨ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">DemoUseReducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">/* numberä¸ºæ›´æ–°åçš„stateå€¼,  dispatchNumbner ä¸ºå½“å‰çš„æ´¾å‘å‡½æ•° */</span>
   <span class="token keyword">const</span> <span class="token punctuation">[</span> number <span class="token punctuation">,</span> dispatchNumbner <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>action</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
       <span class="token keyword">const</span> <span class="token punctuation">{</span> payload <span class="token punctuation">,</span> name  <span class="token punctuation">}</span> <span class="token operator">=</span> action
       <span class="token comment">/* returnçš„å€¼ä¸ºæ–°çš„state */</span>
       <span class="token keyword">switch</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">{</span>
           <span class="token keyword">case</span> <span class="token string">'add'</span><span class="token operator">:</span>
               <span class="token keyword">return</span> state <span class="token operator">+</span> <span class="token number">1</span>
           <span class="token keyword">case</span> <span class="token string">'sub'</span><span class="token operator">:</span>
               <span class="token keyword">return</span> state <span class="token operator">-</span> <span class="token number">1</span> 
           <span class="token keyword">case</span> <span class="token string">'reset'</span><span class="token operator">:</span>
             <span class="token keyword">return</span> payload       
       <span class="token punctuation">}</span>
       <span class="token keyword">return</span> state
   <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
   <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      å½“å‰å€¼ï¼š<span class="token punctuation">{</span> number <span class="token punctuation">}</span>
      <span class="token punctuation">{</span> <span class="token comment">/* æ´¾å‘æ›´æ–° */</span> <span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">dispatchNumbner</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span><span class="token string">'add'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>å¢åŠ <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">dispatchNumbner</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span><span class="token string">'sub'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>å‡å°‘<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">dispatchNumbner</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span><span class="token string">'reset'</span> <span class="token punctuation">,</span>payload<span class="token operator">:</span><span class="token number">666</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>èµ‹å€¼<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span> <span class="token comment">/* æŠŠdispatch å’Œ state ä¼ é€’ç»™å­ç»„ä»¶  */</span> <span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>MyChildren  dispatch<span class="token operator">=</span><span class="token punctuation">{</span> dispatchNumbner <span class="token punctuation">}</span> State<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> number <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="usecontext"><a href="#usecontext" class="header-anchor">#</a> useContext</h3> <p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>useContext</code> ï¼Œæ¥è·å–çˆ¶çº§ç»„ä»¶ä¼ é€’è¿‡æ¥çš„ <code>context</code> å€¼ï¼Œè¿™ä¸ªå½“å‰å€¼å°±æ˜¯æœ€è¿‘çš„çˆ¶çº§ç»„ä»¶ <code>Provider</code> è®¾ç½®çš„ <code>value</code> <code>å€¼ï¼ŒuseContext</code> å‚æ•°ä¸€èˆ¬æ˜¯ç”± <code>createContext</code> æ–¹å¼å¼•å…¥ ,ä¹Ÿå¯ä»¥çˆ¶çº§ä¸Šä¸‹æ–‡ <code>context</code> ä¼ é€’ ( å‚æ•°ä¸º <code>context</code> )ã€‚<code>useContext</code> å¯ä»¥ä»£æ›¿ <code>context.Consumer</code> æ¥è·å– <code>Provider</code> ä¸­ä¿å­˜çš„ <code>value</code> å€¼</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">/* ç”¨useContextæ–¹å¼ */</span>
<span class="token keyword">const</span> <span class="token function-variable function">DemoContext</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> value<span class="token operator">:</span>any <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>Context<span class="token punctuation">)</span>
    <span class="token comment">/* my name is alien */</span>
<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> my name is </span><span class="token punctuation">{</span> value<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>
<span class="token comment">/* ç”¨Context.Consumer æ–¹å¼ */</span>
<span class="token keyword">const</span> <span class="token function-variable function">DemoContext1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Context.Consumer</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
         </span><span class="token punctuation">{</span><span class="token comment">/*  my name is alien  */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> my name is </span><span class="token punctuation">{</span> value<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Context.Consumer</span></span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Context.Provider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> name<span class="token operator">:</span><span class="token string">'alien'</span> <span class="token punctuation">,</span> age<span class="token operator">:</span><span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DemoContext</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DemoContext1</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Context.Provider</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="useimperativehandle"><a href="#useimperativehandle" class="header-anchor">#</a> useImperativeHandle</h3> <p><code>useImperativeHandle</code> å¯ä»¥é…åˆ <code>forwardRef</code>è‡ªå®šä¹‰æš´éœ²ç»™çˆ¶ç»„ä»¶çš„å®ä¾‹å€¼ã€‚è¿™ä¸ªå¾ˆæœ‰ç”¨ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œå¯¹äºå­ç»„ä»¶ï¼Œå¦‚æœæ˜¯<code>class</code>ç±»ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>ref</code>è·å–ç±»ç»„ä»¶çš„å®ä¾‹ï¼Œä½†æ˜¯åœ¨å­ç»„ä»¶æ˜¯å‡½æ•°ç»„ä»¶çš„æƒ…å†µï¼Œå¦‚æœæˆ‘ä»¬ä¸èƒ½ç›´æ¥é€šè¿‡<code>ref</code>çš„ï¼Œé‚£ä¹ˆæ­¤æ—¶<code>useImperativeHandle</code>å’Œ <code>forwardRef</code>é…åˆå°±èƒ½è¾¾åˆ°æ•ˆæœã€‚</p> <p><code>useImperativeHandle</code>æ¥å—ä¸‰ä¸ªå‚æ•°ï¼š</p> <ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ref: æ¥å— <code>forWardRef</code> ä¼ é€’è¿‡æ¥çš„ <code>ref</code>ã€‚</li> <li>ç¬¬äºŒä¸ªå‚æ•° <code>createHandle</code> ï¼šå¤„ç†å‡½æ•°ï¼Œè¿”å›å€¼ä½œä¸ºæš´éœ²ç»™çˆ¶ç»„ä»¶çš„<code>ref</code>å¯¹è±¡ã€‚</li> <li>ç¬¬ä¸‰ä¸ªå‚æ•° <code>deps</code>:ä¾èµ–é¡¹ <code>deps</code>ï¼Œä¾èµ–é¡¹æ›´æ”¹å½¢æˆæ–°çš„<code>ref</code>å¯¹è±¡ã€‚</li></ul> <p><strong>æˆ‘ä»¬æ¥æ¨¡æ‹Ÿç»™åœºæ™¯ï¼Œç”¨<code>useImperativeHandle</code>ï¼Œä½¿å¾—çˆ¶ç»„ä»¶èƒ½è®©å­ç»„ä»¶ä¸­çš„<code>input</code>è‡ªåŠ¨èµ‹å€¼å¹¶èšç„¦ã€‚</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Son</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>ref</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">const</span> inputRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span> inputValue <span class="token punctuation">,</span> setInputValue <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token function">useImperativeHandle</span><span class="token punctuation">(</span>ref<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
       <span class="token keyword">const</span> handleRefs <span class="token operator">=</span> <span class="token punctuation">{</span>
           <span class="token comment">/* å£°æ˜æ–¹æ³•ç”¨äºèšç„¦inputæ¡† */</span>
           <span class="token function">onFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
              inputRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
           <span class="token punctuation">}</span><span class="token punctuation">,</span>
           <span class="token comment">/* å£°æ˜æ–¹æ³•ç”¨äºæ”¹å˜inputçš„å€¼ */</span>
           <span class="token function">onChangeValue</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
               <span class="token function">setInputValue</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
           <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
       <span class="token keyword">return</span> handleRefs
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input
            placeholder<span class="token operator">=</span><span class="token string">&quot;è¯·è¾“å…¥å†…å®¹&quot;</span>
            ref<span class="token operator">=</span><span class="token punctuation">{</span>inputRef<span class="token punctuation">}</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span>inputValue<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> ForwarSon <span class="token operator">=</span> <span class="token function">forwardRef</span><span class="token punctuation">(</span>Son<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    cur <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token function">handerClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">const</span> <span class="token punctuation">{</span> onFocus <span class="token punctuation">,</span> onChangeValue <span class="token punctuation">}</span> <span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>cur
       <span class="token function">onFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token function">onChangeValue</span><span class="token punctuation">(</span><span class="token string">'let us learn React!'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span><span class="token string">'50px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>ForwarSon ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">cur</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cur <span class="token operator">=</span> cur<span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handerClick</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>æ“æ§å­ç»„ä»¶<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>æ•ˆæœ:</strong></p> <p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8e8c05f0c82c43719079d4db9536abc0~tplv-k3u1fbpfcp-watermark.image" alt="useImperativeHandle.gif"></p> <h3 id="usedebugvalue"><a href="#usedebugvalue" class="header-anchor">#</a> useDebugValue</h3> <div class="language- extra-class"><pre class="language-text"><code>useDebugValue` å¯ç”¨äºåœ¨ `React` å¼€å‘è€…å·¥å…·ä¸­æ˜¾ç¤ºè‡ªå®šä¹‰ `hook` çš„æ ‡ç­¾ã€‚è¿™ä¸ª`hooks`ç›®çš„å°±æ˜¯æ£€æŸ¥è‡ªå®šä¹‰`hooks
function useFriendStatus(friendID) {
  const [isOnline, setIsOnline] = useState(null);
  // ...
  // åœ¨å¼€å‘è€…å·¥å…·ä¸­çš„è¿™ä¸ª Hook æ—è¾¹æ˜¾ç¤ºæ ‡ç­¾
  // e.g. &quot;FriendStatus: Online&quot;
  useDebugValue(isOnline ? 'Online' : 'Offline');

  return isOnline;
}

</code></pre></div><blockquote><p>æˆ‘ä»¬ä¸æ¨èä½ å‘æ¯ä¸ªè‡ªå®šä¹‰ Hook æ·»åŠ  debug å€¼ã€‚å½“å®ƒä½œä¸ºå…±äº«åº“çš„ä¸€éƒ¨åˆ†æ—¶æ‰æœ€æœ‰ä»·å€¼ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ ¼å¼åŒ–å€¼çš„æ˜¾ç¤ºå¯èƒ½æ˜¯ä¸€é¡¹å¼€é”€å¾ˆå¤§çš„æ“ä½œã€‚é™¤ééœ€è¦æ£€æŸ¥ Hookï¼Œå¦åˆ™æ²¡æœ‰å¿…è¦è¿™ä¹ˆåšã€‚å› æ­¤ï¼ŒuseDebugValue æ¥å—ä¸€ä¸ªæ ¼å¼åŒ–å‡½æ•°ä½œä¸ºå¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚è¯¥å‡½æ•°åªæœ‰åœ¨ Hook è¢«æ£€æŸ¥æ—¶æ‰ä¼šè¢«è°ƒç”¨ã€‚å®ƒæ¥å— debug å€¼ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸”ä¼šè¿”å›ä¸€ä¸ªæ ¼å¼åŒ–çš„æ˜¾ç¤ºå€¼ã€‚</p></blockquote> <h3 id="usetransition"><a href="#usetransition" class="header-anchor">#</a> useTransition</h3> <p><code>useTransition</code>å…è®¸å»¶æ—¶ç”±<code>state</code>æ”¹å˜è€Œå¸¦æ¥çš„è§†å›¾æ¸²æŸ“ã€‚é¿å…ä¸å¿…è¦çš„æ¸²æŸ“ã€‚å®ƒè¿˜å…è®¸ç»„ä»¶å°†é€Ÿåº¦è¾ƒæ…¢çš„æ•°æ®è·å–æ›´æ–°æ¨è¿Ÿåˆ°éšåæ¸²æŸ“ï¼Œä»¥ä¾¿èƒ½å¤Ÿç«‹å³æ¸²æŸ“æ›´é‡è¦çš„æ›´æ–°ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">TIMEOUT_MS</span> <span class="token operator">=</span> <span class="token punctuation">{</span> timeoutMs<span class="token operator">:</span> <span class="token number">2000</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>startTransition<span class="token punctuation">,</span> isPending<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useTransition</span><span class="token punctuation">(</span><span class="token constant">TIMEOUT_MS</span><span class="token punctuation">)</span>

</code></pre></div><ul><li><code>useTransition</code> æ¥å—ä¸€ä¸ªå¯¹è±¡ï¼Œ <code>timeoutMs</code>ä»£ç éœ€è¦å»¶æ—¶çš„æ—¶é—´ã€‚</li> <li>è¿”å›ä¸€ä¸ªæ•°ç»„ã€‚<strong>ç¬¬ä¸€ä¸ªå‚æ•°ï¼š</strong>  æ˜¯ä¸€ä¸ªæ¥å—å›è°ƒçš„å‡½æ•°ã€‚æˆ‘ä»¬ç”¨å®ƒæ¥å‘Šè¯‰ <code>React</code> éœ€è¦æ¨è¿Ÿçš„ <code>state</code> ã€‚ <strong>ç¬¬äºŒä¸ªå‚æ•°ï¼š</strong> ä¸€ä¸ªå¸ƒå°”å€¼ã€‚è¡¨ç¤ºæ˜¯å¦æ­£åœ¨ç­‰å¾…ï¼Œè¿‡åº¦çŠ¶æ€çš„å®Œæˆ(å»¶æ—¶<code>state</code>çš„æ›´æ–°)ã€‚</li></ul> <p>ä¸‹é¢æˆ‘ä»¬å¼•å…¥å®˜ç½‘çš„åˆ—å­ï¼Œæ¥äº†è§£<code>useTransition</code>çš„ä½¿ç”¨ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">SUSPENSE_CONFIG</span> <span class="token operator">=</span> <span class="token punctuation">{</span> timeoutMs<span class="token operator">:</span> <span class="token number">2000</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>resource<span class="token punctuation">,</span> setResource<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initialResource<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>startTransition<span class="token punctuation">,</span> isPending<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useTransition</span><span class="token punctuation">(</span><span class="token constant">SUSPENSE_CONFIG</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button
        disabled<span class="token operator">=</span><span class="token punctuation">{</span>isPending<span class="token punctuation">}</span>
        onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">startTransition</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> nextUserId <span class="token operator">=</span> <span class="token function">getNextId</span><span class="token punctuation">(</span>resource<span class="token punctuation">.</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setResource</span><span class="token punctuation">(</span><span class="token function">fetchProfileData</span><span class="token punctuation">(</span>nextUserId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span>
      <span class="token operator">&gt;</span>
        Next
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>isPending <span class="token operator">?</span> <span class="token string">&quot; åŠ è½½ä¸­...&quot;</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>Suspense fallback<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>Spinner <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ProfilePage resource<span class="token operator">=</span><span class="token punctuation">{</span>resource<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Suspense<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>startTransition</code> åŒ…è£…äº†æˆ‘ä»¬çš„æ•°æ®è·å–ã€‚è¿™ä½¿æˆ‘ä»¬å¯ä»¥ç«‹å³å¼€å§‹è·å–ç”¨æˆ·èµ„æ–™çš„æ•°æ®ï¼ŒåŒæ—¶æ¨è¿Ÿä¸‹ä¸€ä¸ªç”¨æˆ·èµ„æ–™é¡µé¢ä»¥åŠå…¶å…³è”çš„ <code>Spinner</code> çš„æ¸²æŸ“ 2 ç§’é’Ÿï¼ˆ <code>timeoutMs</code>  ä¸­æ˜¾ç¤ºçš„æ—¶é—´ï¼‰ã€‚</p> <p>è¿™ä¸ª<code>api</code>ç›®å‰å¤„äºå®éªŒé˜¶æ®µï¼Œæ²¡æœ‰è¢«å®Œå…¨å¼€æ”¾å‡ºæ¥ã€‚</p> <h2 id="react-dom"><a href="#react-dom" class="header-anchor">#</a> react-dom</h2> <p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥ä¸€èµ·ç ”ç©¶<code>react-dom</code>ä¸­æ¯”è¾ƒé‡è¦çš„<code>api</code>ã€‚</p> <p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/23d877cf3a5b417ba6162f0c259b1c45~tplv-k3u1fbpfcp-watermark.image" alt="react-dom.jpg"></p> <h3 id="render"><a href="#render" class="header-anchor">#</a> render</h3> <p><code>render</code> æ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„<code>react-dom</code>çš„ <code>api</code>ï¼Œç”¨äºæ¸²æŸ“ä¸€ä¸ª<code>react</code>å…ƒç´ ï¼Œä¸€èˆ¬<code>react</code>é¡¹ç›®æˆ‘ä»¬éƒ½ç”¨å®ƒï¼Œæ¸²æŸ“æ ¹éƒ¨å®¹å™¨<code>app</code>ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> container<span class="token punctuation">[</span><span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>

</code></pre></div><p><strong>ä½¿ç”¨</strong></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code>ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
    <span class="token operator">&lt;</span> App <span class="token operator">/</span> <span class="token operator">&gt;</span><span class="token punctuation">,</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

</code></pre></div><p><code>ReactDOM.render</code>ä¼šæ§åˆ¶<code>container</code>å®¹å™¨èŠ‚ç‚¹é‡Œçš„å†…å®¹ï¼Œä½†æ˜¯ä¸ä¼šä¿®æ”¹å®¹å™¨èŠ‚ç‚¹æœ¬èº«ã€‚</p> <h3 id="hydrate"><a href="#hydrate" class="header-anchor">#</a> hydrate</h3> <p>æœåŠ¡ç«¯æ¸²æŸ“ç”¨<code>hydrate</code>ã€‚ç”¨æ³•ä¸ <code>render()</code> ç›¸åŒï¼Œä½†å®ƒç”¨äºåœ¨ <code>ReactDOMServer</code> æ¸²æŸ“çš„å®¹å™¨ä¸­å¯¹ <code>HTML</code> çš„å†…å®¹è¿›è¡Œ <code>hydrate</code> æ“ä½œã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>ReactDOM<span class="token punctuation">.</span><span class="token function">hydrate</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> container<span class="token punctuation">[</span><span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="createportal"><a href="#createportal" class="header-anchor">#</a> createPortal</h3> <p><code>Portal</code> æä¾›äº†ä¸€ç§å°†å­èŠ‚ç‚¹æ¸²æŸ“åˆ°å­˜åœ¨äºçˆ¶ç»„ä»¶ä»¥å¤–çš„ <code>DOM</code> èŠ‚ç‚¹çš„ä¼˜ç§€çš„æ–¹æ¡ˆã€‚<code>createPortal</code> å¯ä»¥æŠŠå½“å‰ç»„ä»¶æˆ– <code>element</code> å…ƒç´ çš„å­èŠ‚ç‚¹ï¼Œæ¸²æŸ“åˆ°ç»„ä»¶ä¹‹å¤–çš„å…¶ä»–åœ°æ–¹ã€‚</p> <p>é‚£ä¹ˆå…·ä½“åº”ç”¨åˆ°ä»€ä¹ˆåœºæ™¯å‘¢ï¼Ÿ</p> <p>æ¯”å¦‚ä¸€äº›å…¨å±€çš„å¼¹çª—ç»„ä»¶<code>model</code>,<code>&lt;Model/&gt;</code>ç»„ä»¶ä¸€èˆ¬éƒ½å†™åœ¨æˆ‘ä»¬çš„ç»„ä»¶å†…éƒ¨ï¼Œå€’æ˜¯çœŸæ­£æŒ‚è½½çš„<code>dom</code>ï¼Œéƒ½æ˜¯åœ¨å¤–å±‚å®¹å™¨ï¼Œæ¯”å¦‚<code>body</code>ä¸Šã€‚æ­¤æ—¶å°±å¾ˆé€‚åˆ<code>createPortal</code>APIã€‚</p> <p><code>createPortal</code>æ¥å—ä¸¤ä¸ªå‚æ•°ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>ReactDOM<span class="token punctuation">.</span><span class="token function">createPortal</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span> container<span class="token punctuation">)</span>

</code></pre></div><p>ç¬¬ä¸€ä¸ªï¼š <code>child</code> æ˜¯ä»»ä½•å¯æ¸²æŸ“çš„ <code>React</code> å­å…ƒç´  ç¬¬äºŒä¸ªï¼š <code>container</code>æ˜¯ä¸€ä¸ª <code>DOM</code> å…ƒç´ ã€‚</p> <p>æ¥ä¸‹æ¥æˆ‘ä»¬å®è·µä¸€ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">WrapComponent</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> domRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span> PortalComponent<span class="token punctuation">,</span> setPortalComponent <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token function">setPortalComponent</span><span class="token punctuation">(</span> ReactDOM<span class="token punctuation">.</span><span class="token function">createPortal</span><span class="token punctuation">(</span>children<span class="token punctuation">,</span>domRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span> <span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> 
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;container&quot;</span> ref<span class="token operator">=</span><span class="token punctuation">{</span> domRef <span class="token punctuation">}</span> <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span> PortalComponent <span class="token punctuation">}</span>
     <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span><span class="token string">'50px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>
             <span class="token operator">&lt;</span>WrapComponent<span class="token operator">&gt;</span>
               <span class="token operator">&lt;</span>div  <span class="token operator">&gt;</span>hello<span class="token punctuation">,</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>WrapComponent<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>æ•ˆæœ</strong></p> <p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1842abaa8cb840108f6a5c90cb349aac~tplv-k3u1fbpfcp-watermark.image" alt="createPortal.jpg"></p> <p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬<code>children</code>å®é™…åœ¨<code>container</code> ä¹‹å¤–æŒ‚è½½çš„ï¼Œä½†æ˜¯å·²ç»è¢«<code>createPortal</code>æ¸²æŸ“åˆ°<code>container</code>ä¸­ã€‚</p> <h3 id="unstable-batchedupdates"><a href="#unstable-batchedupdates" class="header-anchor">#</a> unstable_batchedUpdates</h3> <p>åœ¨<code>react-legacy</code>æ¨¡å¼ä¸‹ï¼Œå¯¹äºäº‹ä»¶ï¼Œ<code>react</code>äº‹ä»¶æœ‰æ‰¹é‡æ›´æ–°æ¥å¤„ç†åŠŸèƒ½,ä½†æ˜¯è¿™ä¸€äº›éå¸¸è§„çš„äº‹ä»¶ä¸­ï¼Œæ‰¹é‡æ›´æ–°åŠŸèƒ½ä¼šè¢«æ‰“ç ´ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨<code>react-dom</code>ä¸­æä¾›çš„<code>unstable_batchedUpdates</code> æ¥è¿›è¡Œæ‰¹é‡æ›´æ–°ã€‚</p> <p><strong>ä¸€æ¬¡ç‚¹å‡»å®ç°çš„æ‰¹é‡æ›´æ–°</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token punctuation">{</span>
           numer<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">handerClick</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> numer <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> numer <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> numer <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div  style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span><span class="token string">'50px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span> 
            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handerClick <span class="token punctuation">}</span> <span class="token operator">&gt;</span>click me<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>æ•ˆæœ</strong></p> <p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/29b6f884f2c147ee9a20400ad7477e77~tplv-k3u1fbpfcp-watermark.image" alt="batch1.jpg"></p> <p>æ¸²æŸ“æ¬¡æ•°ä¸€æ¬¡ã€‚</p> <p><strong>æ‰¹é‡æ›´æ–°æ¡ä»¶è¢«æ‰“ç ´</strong></p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token function-variable function">handerClick</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> numer <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> numer <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> numer <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

</code></pre></div><p><strong>æ•ˆæœ</strong></p> <p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4b799b2b8f514ae183382d5ed875d0e9~tplv-k3u1fbpfcp-watermark.image" alt="batch2.jpg"></p> <p>æ¸²æŸ“æ¬¡æ•°ä¸‰æ¬¡ã€‚</p> <p><strong>unstable_batchedUpdateåŠ©åŠ›</strong></p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token function-variable function">handerClick</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            ReactDOM<span class="token punctuation">.</span><span class="token function">unstable_batchedUpdates</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> numer <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer<span class="token punctuation">)</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> numer <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer<span class="token punctuation">)</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> numer <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numer<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span> 
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

</code></pre></div><p>æ¸²æŸ“æ¬¡æ•°ä¸€æ¬¡,å®Œç¾è§£å†³æ‰¹é‡æ›´æ–°é—®é¢˜ã€‚</p> <h3 id="flushsync"><a href="#flushsync" class="header-anchor">#</a> flushSync</h3> <p><code>flushSync</code> å¯ä»¥å°†å›è°ƒå‡½æ•°ä¸­çš„æ›´æ–°ä»»åŠ¡ï¼Œæ”¾åœ¨ä¸€ä¸ªè¾ƒé«˜çš„ä¼˜å…ˆçº§ä¸­ã€‚æˆ‘ä»¬çŸ¥é“<code>react</code>è®¾å®šäº†å¾ˆå¤šä¸åŒä¼˜å…ˆçº§çš„æ›´æ–°ä»»åŠ¡ã€‚å¦‚æœä¸€æ¬¡æ›´æ–°ä»»åŠ¡åœ¨<code>flushSync</code>å›è°ƒå‡½æ•°å†…éƒ¨ï¼Œé‚£ä¹ˆå°†è·å¾—ä¸€ä¸ªè¾ƒé«˜ä¼˜å…ˆçº§çš„æ›´æ–°ã€‚æ¯”å¦‚</p> <div class="language-js extra-class"><pre class="language-js"><code>ReactDOM<span class="token punctuation">.</span><span class="token function">flushSync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">/* æ­¤æ¬¡æ›´æ–°å°†è®¾ç½®ä¸€ä¸ªè¾ƒé«˜ä¼˜å…ˆçº§çš„æ›´æ–° */</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'alien'</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><p>ä¸ºäº†è®©å¤§å®¶ç†è§£<code>flushSync</code>ï¼Œæˆ‘è¿™é‡Œåšä¸€ä¸ª<code>demo</code>å¥‰ä¸Šï¼Œ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* flushSync */</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span>
<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    state<span class="token operator">=</span><span class="token punctuation">{</span> number<span class="token operator">:</span><span class="token number">0</span> <span class="token punctuation">}</span>
    <span class="token function-variable function">handerClick</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> number<span class="token operator">:</span> <span class="token number">1</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> number<span class="token operator">:</span> <span class="token number">2</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span>
        ReactDOM<span class="token punctuation">.</span><span class="token function">flushSync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> number<span class="token operator">:</span> <span class="token number">3</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> number<span class="token operator">:</span> <span class="token number">4</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> number <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span> <span class="token comment">// æ‰“å°ä»€ä¹ˆï¼Ÿï¼Ÿ</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span> number <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handerClick<span class="token punctuation">}</span> <span class="token operator">&gt;</span>æµ‹è¯•flushSync<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>å…ˆä¸çœ‹ç­”æ¡ˆï¼Œç‚¹å‡»ä¸€ä¸‹æŒ‰é’®ï¼Œæ‰“å°ä»€ä¹ˆå‘¢ï¼Ÿ</p> <p><strong>æˆ‘ä»¬æ¥ç‚¹å‡»ä¸€ä¸‹çœ‹çœ‹</strong></p> <p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f7eba600db1c44cb956e380cb922226d~tplv-k3u1fbpfcp-watermark.image" alt="flushSync.gif"></p> <p>æ‰“å° 0 3 4 1 ï¼Œç›¸ä¿¡ä¸éš¾ç†è§£ä¸ºä»€ä¹ˆè¿™ä¹ˆæ‰“å°äº†ã€‚</p> <ul><li>é¦–å…ˆ <code>flushSync</code> <code>this.setState({ number: 3 })</code>è®¾å®šäº†ä¸€ä¸ªé«˜ä¼˜å…ˆçº§çš„æ›´æ–°ï¼Œæ‰€ä»¥3 å…ˆè¢«æ‰“å°</li> <li>2 4 è¢«æ‰¹é‡æ›´æ–°ä¸º 4</li></ul> <p>ç›¸ä¿¡è¿™ä¸ª<code>demo</code>è®©æˆ‘ä»¬æ›´æ·±å…¥äº†è§£äº†<code>flushSync</code>ã€‚</p> <h3 id="finddomnode"><a href="#finddomnode" class="header-anchor">#</a> findDOMNode</h3> <p><code>findDOMNode</code>ç”¨äºè®¿é—®ç»„ä»¶<code>DOM</code>å…ƒç´ èŠ‚ç‚¹ï¼Œ<code>react</code>æ¨èä½¿ç”¨<code>ref</code>æ¨¡å¼ï¼Œä¸æœŸæœ›ä½¿ç”¨<code>findDOMNode</code>ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>ReactDOM<span class="token punctuation">.</span><span class="token function">findDOMNode</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span>

</code></pre></div><p>æ³¨æ„çš„æ˜¯ï¼š</p> <ul><li>1 <code>findDOMNode</code>åªèƒ½ç”¨åœ¨å·²ç»æŒ‚è½½çš„ç»„ä»¶ä¸Šã€‚</li> <li>2  å¦‚æœç»„ä»¶æ¸²æŸ“å†…å®¹ä¸º <code>null</code> æˆ–è€…æ˜¯ <code>false</code>ï¼Œé‚£ä¹ˆ <code>findDOMNode</code>è¿”å›å€¼ä¹Ÿæ˜¯ <code>null</code>ã€‚</li> <li>3 <code>findDOMNode</code> ä¸èƒ½ç”¨äºå‡½æ•°ç»„ä»¶ã€‚</li></ul> <p>æ¥ä¸‹æ¥è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ï¼Œ<code>findDOMNode</code>å…·ä½“æ€ä¹ˆä½¿ç”¨çš„ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    <span class="token function-variable function">handerFindDom</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ReactDOM<span class="token punctuation">.</span><span class="token function">findDOMNode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span><span class="token string">'100px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>hello<span class="token punctuation">,</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handerFindDom <span class="token punctuation">}</span> <span class="token operator">&gt;</span>è·å–å®¹å™¨dom<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>æ•ˆæœï¼š</strong></p> <p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f9acc582f69e461caf0887f49d710a35~tplv-k3u1fbpfcp-watermark.image" alt="findNodedom.gif"></p> <p>æˆ‘ä»¬å®Œå…¨å¯ä»¥å°†å¤–å±‚å®¹å™¨ç”¨<code>ref</code>æ¥æ ‡è®°ï¼Œè·å–æ•è·åŸç”Ÿçš„<code>dom</code>èŠ‚ç‚¹ã€‚</p> <h3 id="unmountcomponentatnode"><a href="#unmountcomponentatnode" class="header-anchor">#</a> unmountComponentAtNode</h3> <p>ä» <code>DOM</code> ä¸­å¸è½½ç»„ä»¶ï¼Œä¼šå°†å…¶äº‹ä»¶å¤„ç†å™¨å’Œ <code>state</code> ä¸€å¹¶æ¸…é™¤ã€‚ å¦‚æœæŒ‡å®šå®¹å™¨ä¸Šæ²¡æœ‰å¯¹åº”å·²æŒ‚è½½çš„ç»„ä»¶ï¼Œè¿™ä¸ªå‡½æ•°ä»€ä¹ˆä¹Ÿä¸ä¼šåšã€‚å¦‚æœç»„ä»¶è¢«ç§»é™¤å°†ä¼šè¿”å› <code>true</code> ï¼Œå¦‚æœæ²¡æœ‰ç»„ä»¶å¯è¢«ç§»é™¤å°†ä¼šè¿”å›  <code>false</code> ã€‚</p> <p>æˆ‘ä»¬æ¥ç®€å•ä¸¾ä¾‹çœ‹çœ‹<code>unmountComponentAtNode</code>å¦‚ä½•ä½¿ç”¨ï¼Ÿ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>hello<span class="token punctuation">,</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    node <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token punctuation">{</span>
           numer<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">/*  ç»„ä»¶åˆå§‹åŒ–çš„æ—¶å€™ï¼Œåˆ›å»ºä¸€ä¸ª container å®¹å™¨ */</span>
        ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Text<span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>node <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">handerClick</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
       <span class="token comment">/* ç‚¹å‡»å¸è½½å®¹å™¨ */</span> 
       <span class="token keyword">const</span> state <span class="token operator">=</span>  ReactDOM<span class="token punctuation">.</span><span class="token function">unmountComponentAtNode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>node<span class="token punctuation">)</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div  style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span><span class="token string">'50px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>  <span class="token operator">&gt;</span> 
             <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token punctuation">(</span> <span class="token parameter">node</span> <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>node <span class="token operator">=</span> node  <span class="token punctuation">}</span>  <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>  
            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handerClick <span class="token punctuation">}</span> <span class="token operator">&gt;</span>click me<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>æ•ˆæœ</strong></p> <p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/15ebcd1a23e64561ae6346d4be7e958a~tplv-k3u1fbpfcp-watermark.image" alt="unmounted.gif"></p></div> <!----> <div class="readMore-wrapper"><span class="readMore">é˜…è¯»å…¨æ–‡</span></div></div> <div class="right-bar"><div class="item"><span class="title">å‰ç«¯è¿›é˜¶å…¬ä¼—å·</span> <span class="desc">æ¯å¤©åˆ†äº«å‰ç«¯å¹²è´§æ–‡ç« </span> <img width="100%" alt="å…¬ä¼—å·ã€Œå‰ç«¯è¿›é˜¶ä¹‹æ—…ã€" src="http://img-repo.poetries.top/images/20211001080240.png"></div> <div class="item"><span class="desc">æ‰«ä¸€æ‰«ï¼ŒåŠ VX</span> <img alt="å¾®ä¿¡poetries4070" width="100%" src="http://img-repo.poetries.top/images/20211017123306.png"></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/FE-Interview-Questions/principle-docs/react/25-è·Ÿ React å­¦è®¾è®¡æ¨¡å¼.html" class="prev">è·Ÿ React å­¦è®¾è®¡æ¨¡å¼</a></span> <span class="next"><a href="/FE-Interview-Questions/principle-docs/webpack/01-Webpack4æ‰“åŒ…æœºåˆ¶åŸç†è§£æ.html">Webpack4æ‰“åŒ…æœºåˆ¶åŸç†è§£æ</a>
      â†’
    </span></p></div>  <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="è¯·å…ˆé˜…è¯»è´­ä¹°åè®®" class="el-dialog el-dialog--center" style="margin-top:15vh;width:30%;"><div class="el-dialog__header"><span class="el-dialog__title">è¯·å…ˆé˜…è¯»è´­ä¹°åè®®</span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><div class="el-dialog__footer"><span class="dialog-footer"><button disabled="disabled" type="button" class="el-button el-button--danger is-disabled" style="width:100%;"><!----><!----><span>æˆ‘å·²é˜…è¯»ï¼ˆ8sï¼‰</span></button></span></div></div></div> <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="ä»˜è´¹é˜…è¯»" class="el-dialog" style="margin-top:15vh;width:32%;"><div class="el-dialog__header"><span class="el-dialog__title">ä»˜è´¹é˜…è¯»</span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><div class="el-dialog__footer"><span class="dialog-footer"><button disabled="disabled" type="button" class="el-button el-button--danger is-disabled" style="width:100%;"><!----><!----><span>ç¡® å®š</span></button></span></div></div></div> <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="dialog" class="el-dialog" style="margin-top:15vh;width:30%;"><div class="el-dialog__header"><span class="el-dialog__title"></span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><!----></div></div> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAU9ElEQVR4Xu1da5Ac1XX+TnfPa1crrQQiMY9YGGHAD6SdEWUjIdjVPiQgNhJa4VRBAgSIXZRRodgJOPED7DiACxts4yoHu0BKVaiYnVkJAkKPfQkBDgnSSmUIhKeEISSW0AO0O6/ue1K3R/uY2Xl0z3TPY3fuH6l2zj3n3HO+vn373nPPIdSbZQtEfnb4BmbxPRAtADAkDN5wzYbT9llmUIWEVIU6VaVKmx84usBQ9XcylBvqXj+/rSoVtqhUHQAWDdXz80OtxBjMJO9eP7+mbVjTylv0nSNkOQBwsHv9fPk6qNlW9QDg4e6rIHCEQuHdlbZyz08PbSHCVWN6EOjGtetP3VhpvUqRX5UA4Dcu9+GjxhsAbADhPAhxOi3p/aCUgTrVV84EkpemawfWbJh7wCm+leJTVQDgV9ecgqiyHky3gnCqaRTGHgqFl1TKQNNdblUAgPevOw8GfxOM60DwZxj9uxQM/2C6O6JS46soAHh4dTOE+iMQbgYouy4aXUgX9vyuUgaa7nIrBgDe030jAOn81FSftfEBCkbOnu5OqOT4yg4A3rvuM4D4FUBLCw6c8SCFwhsK0tUJirZAWQHAe6++F1DusK6tuIyCvc9ap69T2rVAWQBgru5Hlc0gWm5DQYGWsIcIwkafOqlNC7gOAN67ZhGgPAXQmbZ0Y36ZQpHP2+pTJ7ZtAVcBwHuv/nOA5PveZ1sz8GMUjFxrv1+9hx0LuAIA5lYNe0/9KQi32lEmg/ZOCobvK6F/vasFCzgOgJTz524Dqe0W5OcmIb6SWiJbS+JR71zQAo4CgN9p9esfND6v+QPBgpILEajiLFrU+14hsvrvpVnAMQDIA5zE+/yKd3bjOUCpbPkYBSNzSxtavbcVC5TqKVOGfPLjB72ve2fNOosUxYrcQjT7KBhuKURU/710C5QMAH7h4kAsNusdb2PgjxSPt3SNUhy2UTB8uVPM6nzyLLVKMQ4z1Nhg50HV6znD09BQCquMvryJghEZD1BvLlugpBkgvqvrtyz4i745cxxWU9xHwd47HWZaZ5fFAkUDIL571T1GPHlnoHkO4Mx7f0I9xt9TKPyPdY+5b4GiABAb6vqSSOhPepsaofqK2OQrPK5vUjD848JkxVPw3rUylu8qgJrBvBGKsYFathwrnmNt9rQNgNHdy/4Ecf9biqJqvubZbo16PQXDP3eLOe/pvh2EB9L4MzZQKPygWzKrla9tAEQHOt5nQ5zumzMbiqa5My7G1ygU/id3mAOpp5+uz+D/BAXDq92SWS18j3bf3AoiRjJ5cO6WjQdsASC2q+uXIqF/VfV64G1qcnNM7s4Ae7uHAFyWMYBdFAybEb/TtX247qZ9AC0aGx8LXmMZAMnnu1YkR/R+2dk/bw5IUd2zE+FvqCV8v1sCeAYCQD75gqbcbNpnGQCxgc4TwjAaNb8PnsZGt3yT4sv8bQpFfuiWkJkIgMNrb1pNCm3OsOlxSwCID3U+YiQNGcSJwLxmgBzZ7s3jX/EDCvZ+tw4A5yxwdN0tiwV4eDJHZjxREAD87PJPROOe9wFQWZ7+1BTwEAUjtzk3/HROM3EGkBY4vO4vbyCmu0D0Sel8leiuggCIDXXuFknjEvPd3zwHpLr47p/wUy8Fw2udAEBiR+tiHSTjEccvcfpmN0HxeNLYi2QS8Y8+nvgb8wENvMbbNeTY/f/L73vrdgJ/D0AzM4ZIUTds/duzHeNfjL3yAiCxe+UiPZY0FZSffPLTryyN+UUKRb7ohKzRnW1bABq/0Cl5WgJAai1yoKFr0JF7CavueWeBohhp+QUkCJ65c2FF8wvkBUBssOtVoevnS1t4Gxuh+l3Z9cvm5/cpGLYXRJoDLaM7V3DmT5YBAKChc6DgLGkFqKvueaNVUWhKfoGtdyx0hL8VHbLR5BSe3L2yIxlN7hyL7QicIuMzyqirFp1HFz59tNiBjfUb2dG2j2ji29fODMDA8cbOgeZSdZD9cwDg4NY7FlY0v0BOj8YGut4Uhn6OVF7u93tnufzpl2llRaygxb1Tnhi7zhjpa11NrKR9/lidAYhxY6BrwLH7/1fc++YWTMovAIEbt35roWP87dpG0mcFQHxXxwVGwvivsZ+zGawYYbb6OLg3Hx1sXQAdE4vAufMeJEUZ3xEzX/dC7I8fPXL7uI4aDgTahhy//y9ngpQM7cC2b53tOH9bNs4FgNhg14DQdXNxIkO8/HMdmQXt6ca8kUIRc+/B6TZTPwMtrQF4sNUf1dURgM3dHk9jAJo/4LQPCvNjHqZQpPTo4iyS6gCYMMqUV0Di2ZU/1uPJvx4j8c91ed8/NxQSaAkH3LgbWAdAHgDEBjqOCkOk5nwiBOZVMDpbNT5Piza/XHi6sEdRB0AOACSfv7wrORrfPvZzGY5983uO+TYKRR6y597C1Ly3e0sqGiitTfvj4IJrgNhg13NC15eNEXoaAtACFXj/j2vKfRSMdBZ2qT0K3tN9FwhyS3ZymxEBIZmWSlsDRPvbR1nwuMd9c5qgaOl75vZMXSI1wwDTKbSk53iJnNK683B3KzKzfhLaqCUsA0VmVBsHQLyv/UKDef/E6BmBU06pvDFIXEstvY85rQgPr14AoaXuHij6RmrZUvFvcqfHaIXfBAAGOh8xjNSZv2kTTYXz8f5WVMqgYX6cQpGvFNGz3sWCBcYBEB3oeI8NccZYn/Kd/RfQknkUPmUufa4nYWE8dRKbFjABwC+FGqJH5oxM3hg2Y/69ZTv9y682G5dTaPM2m2Ork1uwgAmAxLMrb9HjyYcn05cx+MOCmvwIBSM3WSCsk9i0gAmA+K6VTxiJ5Jcn9y378W8hxUV8Pi35t8OFyOq/27OACYDYYMebQhfm0a/ZSAZ/zrPHyW1qxt0UCt/ltpiZxt8EQOb3P2kq/I7f+C3ZtEfQNHI6nftMvGROdQYTz7pM8BAdCYxOtoni1eBrKlP8nx1nsPgqhXrT1ip2utc6rRngSsr1AC8G85aAB5uobaikC60U7busjVkdmGwc1eeFd9as6rMX89sIRhYSYUqcX/Up66xGPNjaPKrTOyRvM59szLypsWuwpEQaFBvsvF/oxjcmq6v5vfA0ViEApJKML1Eo/JSz5q1+btGdra0MJS1EjsHHGjsHSzqupdhQ13aR1LvSABDww9mUL44aeEae2mUDgLRqqVHLcgYYFrqxuIYAIOP1V1EoMn5s7Si8qpSZawCIDnS+zYaRdvnB0+CHFnAy6ZPTVuX3MF/5NJ3VE3Was1V+rcObmwPMZmBplGj/UMuakhZjheS6CICO/2NDnDZZgeoHgLkY+AkFI2lrl0JGdOr3VcObFzDEMAHmgoyBYwSlZVvLGtdOFN0DQH/7xyw4bcWnVfcaIOVHGSugGYvdCBkrBJRVwxG5IZUZUHL3tpa1rm1UuQaA0Z0rkjJIvWa+AiYrytiDIH2BqMco5DQnf181HJ6SYobBT2xv6XYsxYwZrwDtejDMewRscDMLPW2tJv+ueDwTQSzMx6BgE7VEZMibpUajO1Zw5vUQ1euFt6lKPwMzh+XgBRJLFgOwcjhyOyE9yRQDG7a3rHUkyZRZTY214q/FkX621QAXynZ5suLBoFY9kXoXxKEpF5W7tNzK4fCDxGQ+8Uy8ZXtL98StIlv6TyXm4atvACuPFs3GxrkJje5s48wbYopHg292FW4F57II410wXeh07GDRDiixIw+vXQ2eks7FOlcbs6KcAeT7My3nS9WEg1kfslwU7qBQeKWdLtVMy3u6j4FQXA5eO6+AaF97gpnTQ38VQmBuSTuMFbItf5+CkczVeYV0KU1sqqqqGbRqfmoKXV8gksnM3IYybP/ulCSWyZuOQaEt1NJjOesIRfvaTzDzlLvf5o2gHNVcSxuam72ZAe6iYG+fm1Iqwdu9z8D+9sMQPCX+2zd7FhzM/18+mzGOg/UQLdnyVvmEui/JNQBE+9rfZeazMofgaWyA5s8s5O3+QJ2RwAeg8vLpVHPINQDEBjr2CENMuYat+XzwlDsriDPeP8lleoHATQBEhCGuzrR9zX0KZgXP9AGBawCIDnX+kJPG3021HyEVGVzrbXqAQKa5YV1JSzMH5l0NXYMlJbim+K6Oa4yE+E02N9fsQnDKYKYHCDJzHjKJNY0dQ5b3/bP5mLIi6ySlvBour4hPi8b8FthYWetfB9JfwsDiBhVDpQaESr+aYeHZTgTl32tyRzAfWhkfAbh2JsYU5jLLyXsBHa+zEOdOJeLUBZGa2xDKiwJ59nEvWsLfdiP/UK3NlqmrYf2djxrCyBpeLBNEulQYqrK2YgygwbiGLtj8YWUVqaz01NWwXW1XiAQ9nU2Vqr0j4Ijd+D2wsppCPXscYVeDTFLXw+XtoBOB0ax5QyudKcxtozKSINyPuYe/T2cPxdwWV238xxNEjPa3H4LgU7MpOG1fA5MHy/x7ALfMtHDzcQDEBjufErpxZTYATLuvgfxfCptBia9T8Mn/qban1Q19xgGQ3N3RmoyJnNm5qythhBumSOMps6XchcX0QLkDTl0fWYaA9DRxfR0nmEXWvPC1fzhUjGn5VRDuo5bIpmJ610KfNADEdnVtEQk9M4NmahwyaYSMEppWewKWXSRfBz+DoF9Ol7jDsZGnASAxdNlFelL9j1xm8QQC0KbL1rBl36cRngD4kdStpN6DxbGorl5TsoVH+zqOM4scIcEyefScMtQNrC4jZdWGeTcIYajiX2nR5j9Uu8b8yrp5iOmLKbQ5LRfEFADEBzo2GYb4i1wDmplrgbzuFQA/B0YPNPF4NYGB9375dMAry+9dDcZyKPgatYR/PXk0UwDA25eeFlX8/5uvQpSsICIridRbNgvwswAiUNBPiyOvlNNGvH/NadDVS0AsE34vB+iicfmMwxQKz8/UJ2vNoOhg57+zbnwhl/LTe3vYUZfJyiv7wPSfIAxDNfY6cZmVX143C0kshOBPQcGnwCxD+pYC9Mmc2ueox5y9aFRf+2cMFq/kKxPnb54NUtPulDpquWnLjBEDZFJuOg5CDMwxEKIATfyfKQ7CLMAM128EqBEydJ9oLpjPAZG9LN5Spp/OoM/2HLE0A0iiWH/ny0IYn83liKrNJDZtkVPCwJh/QaHI17NxyFk3MLq7o5Xz7AxKZhWvJ1CCTWZQVwGVFtKinvR4wpMGyFsKNNrf8QYLsTCXsVIl5eT1tTJWFJ1BnnNmqByhYKQ7pw/zCUnsbgvpUXopn3/rC0Jn3OQKF2YdmvI5WtTz30UBQHaKDna9wLp+cT4Fqyq1vCuWrFmm/0DB8HfyaV9w7rayLyAF1PcGqgwkzG9TKDKRADyHegUBYH4RDLb/Suh8c14kqSrkp2F9PVAlQLBYBMsSAE6Wk/0Q4LzJA6umzEyV+KByavBjFIxca0W+JQBIRqN9rd1gpacQU+/sWVA93kJk9d9dswAfQ0AstBrtbBkA5qugf0VECEy5SJo2FoKZX0jR6ruErvk4L2O+iYKRR6zKtgWA1KtAeRfAlEOFTBDIghOkqlb1qNM5YQHm31Ao8md2WNkCgGQc39VxgZEw5DlB/r5E8M+R5wV1ENhxSNG0zMOYPXqx3YoqtgFgrgcGO+6ELu4pqGwdBAVN5BDBIQixiJb0fmCXX1EAkEKi/Sv6WKC9oEATBE31k8OChiqSQOZMVmkpLe7JGcqX9/O9SLFmscnYseZhZv50YR4Ef3MdBIXtVAQF820UijxURE+zS9EzgOws69hEhfI7CJxZUIH666CgiWwTFLHoy5RREgBMEMgQMq3hNQhROJ8MEXxNjbWZfs62d9ztYCQTL6pJdNIlT35ciqSSAWAuCrdfehapnteY8+8UjimaCiyVm4qOiC9l/LXXl4FkLPqah/RltHT7lAgfuwNyzAOxXZeey7pnDwtusqKE/Dz0zW6qB5daMdZJGhYCydGRd71GPERtQ46U0XUMABOvg8B+CP5jq+OSdQlkfYJ6y28BI5FEcnT0iF/TzqdLnznklL0cBYAJgueWNcXi/t+y4JzxhJnKyzL13qb6KyGrU1kgcWIUwjA+9FPyfKee/DFZjgNgjHG0r2OQWVjOYSfDy+S6oH6QNAEDoSeR+HgEikd73XfptvOceuon83ENAMyg6ED74xCcMx4t24DkIZJMSDGzt5AZyZFR6NE4tAbfv3gveeY6N5wveboGgDGFYwPt64WOn4DY1qGAGWvY0ADMsBtIRjyO5GgUzGxoAc/N3mXbNrrl/LIAQAqJ7bj0XKF4BsF8ht3BmCXsAoGCZ092+VYbvZFMIDkSBRsGSFMPKz5a7lu64zW39XR9BhgbAL8U8sQ+mvsoG8a1ticeuT5oCEDuH0y3ZiTkEx8zHS+b6vf2+pZvkxc6y9LKBoCx0cQH2q4SQn2MWdivTaso0Lxes44BqTV8OZUF9HjCnOohi5yksrIeU31qt2fptv6yeP6kkLIDQMqVgSUJ8vyzkTTWFTtYuUiUMYiaz1sz+QrkRo4+GoUej08aNrPi8f7a37r9r4q1RSn9KgKAMYUTz3cuFnH0CMPIefuo8ODYPFuQYDA/ISs6oqnayk85I6FDJBMQ+uQCpwzyaC/5VV5Ly/tklFVFWlWYKz60ap1hJB6GSFXIKqXJz0jF44HqUaFonjIvHhkiqZuOFskkjKSeKi2d0RSP9nvVo13nWbZV5hKoaKsKAIxZIDbQtV6w8Z1cCSuLsZR8VaiaCsXrMQNVSbH1NZpHJMvdObB0tq6bzh5byOXqRKp2SPVpd3iXbS2+KmgxRsjTp6oAMKZnfLDrK8x0nzCSuRMelGQIAilkzg4kQxvH/5X/VfLMGpxyuHS8EJY1UDR1P0Hc5WvrL6m4g2WBNgirEgDja4QXr1giRo17ha4vB7imToyIKK54tIiXlNudPLyx4VtLpFUNgMkjiO1u/1MY2jfkRVVmrsoNAVLUjxRVeUFV+Rfa8h1PWfJAhYlqBgBjdpJnDImhrquY+FaRFMsKXVdz2b5Mmvo+KbQVuv4jf/tAzRWrrDkAZDpUbjMzeS+GSlcCfBELcSYY6bWQHUIBESVIUQ4pqvqaIPG0L4qHaeWOEYfYV4RNzQMgm9VknGJc84dIURaBcYEgkpm0PsECTTI2Fcw+BlQwT76/ppNCMXmISQqNEHACjD8A/CYxDXlZ7KCO/mlXXeT/AQOtWhTnoNDfAAAAAElFTkSuQmCC" class="theme-float-btn"> <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="ç«™ç‚¹è¿ç§»é€šçŸ¥" class="el-dialog el-dialog--center" style="margin-top:15vh;width:30%;"><div class="el-dialog__header"><span class="el-dialog__title">ç«™ç‚¹è¿ç§»é€šçŸ¥</span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><!----></div></div></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/FE-Interview-Questions/assets/js/app.356be1e3.js" defer></script><script src="/FE-Interview-Questions/assets/js/5.202ab893.js" defer></script><script src="/FE-Interview-Questions/assets/js/4.5ac63c44.js" defer></script><script src="/FE-Interview-Questions/assets/js/127.ef6fe0c6.js" defer></script><script src="/FE-Interview-Questions/assets/js/11.6ecd37f3.js" defer></script>
  </body>
</html>
