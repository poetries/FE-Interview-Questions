<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>进化的生命周期方法：React 16 生命周期工作流详解 | 前端面试指南</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/FE-Interview-Questions/logo.png">
    <link rel="manifest" href="/FE-Interview-Questions/manifest.json">
    <link rel="apple-touch-icon" href="/FE-Interview-Questions/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/FE-Interview-Questions/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="web前端面试题总结，面试指南，前端面试题整理，web面试宝典，刷题神器，按模块分类整理总结，打造最全面的前端面试题">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/FE-Interview-Questions/assets/css/0.styles.9a7b49f0.css" as="style"><link rel="preload" href="/FE-Interview-Questions/assets/js/app.c8c444d0.js" as="script"><link rel="preload" href="/FE-Interview-Questions/assets/js/5.0a8adfa7.js" as="script"><link rel="preload" href="/FE-Interview-Questions/assets/js/4.14705b15.js" as="script"><link rel="preload" href="/FE-Interview-Questions/assets/js/114.667e238e.js" as="script"><link rel="preload" href="/FE-Interview-Questions/assets/js/11.e87b5556.js" as="script"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/1.9062c5eb.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/10.fceba2a9.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/100.7729f4e6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/101.87a2ffa8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/102.e02e9b47.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/103.585d8cb6.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/104.33060163.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/105.23b07f3e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/106.a0f27964.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/107.42bf79c1.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/108.6ddc7628.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/109.88cc295c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/110.333d90f0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/111.d152ab7d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/112.7d07a8c5.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/113.3f717d2b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/115.b401f7a1.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/116.b274625f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/117.9faf4eb8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/118.a8dc8738.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/119.abf39742.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/12.693e0971.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/120.92e4b106.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/121.302263e3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/122.fcc6bbab.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/123.de1fc653.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/124.28811290.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/125.15fb710e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/126.1c688069.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/127.fa34be63.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/128.a3337275.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/129.559dd651.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/13.314a6305.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/130.4da754ea.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/131.c4e1e402.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/132.bf489c1a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/133.179dc57a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/134.db9fb26c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/135.00c154c1.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/136.2a5d5467.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/137.c4e09dd3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/138.50b1be5a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/139.fd131f52.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/14.e31ababc.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/140.3e631607.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/141.a5c62f4c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/142.3df22d9d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/143.9d4f3718.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/144.da381656.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/145.9f62aead.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/146.2a768205.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/147.18a6039d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/148.4c741d7b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/149.68c360b4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/15.da6b76cc.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/150.12630d77.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/151.bddf0a89.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/152.c8aac3a7.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/16.fc802f81.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/17.5dd926ed.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/18.206f5abb.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/19.066a9682.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/20.60a86c86.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/21.48a488b5.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/22.8257b7d8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/23.aaac5543.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/24.7042801f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/25.dfda7b1a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/26.49b4876d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/27.397747e7.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/28.23a14353.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/29.945d086d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/3.87b4b2ac.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/30.1285b04c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/31.c8234b20.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/32.c13f65fb.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/33.df1d7f05.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/34.50496f9b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/35.bc18ae09.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/36.a0c4cf06.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/37.3a98c71d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/38.5963f999.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/39.87fabf22.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/40.99929cc2.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/41.e5539a97.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/42.fca4fd64.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/43.014f2a60.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/44.c8322922.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/45.ede5d5e8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/46.cad665b4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/47.1261af09.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/48.5f3d4a33.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/49.a7d13790.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/50.3d90f34f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/51.af2428f2.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/52.53be86cf.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/53.83376ebb.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/54.a816d638.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/55.fa47cc5a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/56.1e9620f3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/57.de478775.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/58.90a61e01.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/59.cc30fba4.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/6.032890ac.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/60.82658af2.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/61.b8e69917.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/62.f5cdee72.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/63.fba3ee42.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/64.1c402dc0.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/65.7aa55be7.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/66.b117412c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/67.a5b149c1.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/68.14fc543c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/69.30a749a3.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/7.fdd0baea.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/70.c430e5e7.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/71.5ba9a916.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/72.e0e7ca05.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/73.6fa1b491.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/74.23ae2e93.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/75.a8bee54e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/76.bcbb37b8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/77.b7d2356e.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/78.ed9c8da5.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/79.a5655b1c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/8.c2b202c8.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/80.1c59b604.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/81.d0efc20c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/82.0d82cb2f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/83.099a3311.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/84.2c2672bf.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/85.6e95724f.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/86.4dd7e0f9.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/87.0084ea78.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/88.2747fe81.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/89.3a724d78.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/9.1200f485.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/90.20b0bf6c.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/91.0ed0727b.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/92.77c3eb12.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/93.ac3fac39.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/94.a7a55f4d.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/95.87594f71.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/96.9f65f9e2.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/97.55bca51a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/98.9164a92a.js"><link rel="prefetch" href="/FE-Interview-Questions/assets/js/99.b6ea4ba6.js">
    <link rel="stylesheet" href="/FE-Interview-Questions/assets/css/0.styles.9a7b49f0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container posr"><div><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/FE-Interview-Questions/" class="home-link router-link-active"><img src="/FE-Interview-Questions/logo.png" alt="前端面试指南" class="logo"> <span class="site-name can-hide">前端面试指南</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----> <!----></div></header></div> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FE-Interview-Questions/principle-docs/vue/01-从源码解读Vue生命周期.html" class="sidebar-link">从源码解读Vue生命周期</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/02-组件的本质.html" class="sidebar-link">组件的本质</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/03-有状态组件的设计.html" class="sidebar-link">有状态组件的设计</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/04-设计 VNode.html" class="sidebar-link">设计 VNode</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/05-辅助创建 VNode 的 h 函数.html" class="sidebar-link">辅助创建 VNode 的 h 函数</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/06-自定义渲染器和异步渲染.html" class="sidebar-link">自定义渲染器和异步渲染</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/07-渲染器之挂载.html" class="sidebar-link">渲染器之挂载</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/08-渲染器的核心 Diff 算法.html" class="sidebar-link">渲染器的核心 Diff 算法</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/09-渲染器之patch.html" class="sidebar-link">渲染器之patch</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/10-图解 Vue 响应式原理.html" class="sidebar-link">图解 Vue 响应式原理</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/11-图解 Vue 异步更新.html" class="sidebar-link">图解 Vue 异步更新</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/12-剖析 Vue 内部运行机制.html" class="sidebar-link">剖析 Vue 内部运行机制</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/13-vue响应式原理模拟.html" class="sidebar-link">vue响应式原理模拟</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/14-vue状态管理之vuex.html" class="sidebar-link">vue状态管理之vuex</a></li><li><a href="/FE-Interview-Questions/principle-docs/vue/15-理解Vue的设计思想及实现Vue.html" class="sidebar-link">理解Vue的设计思想及实现Vue</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>React</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FE-Interview-Questions/principle-docs/react/01-React router原理.html" class="sidebar-link">React router原理</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/02-Dva总结.html" class="sidebar-link">Dva总结</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/03-MobX总结.html" class="sidebar-link">MobX总结</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/04-浅析redux saga中间件及用法.html" class="sidebar-link">浅析redux saga中间件及用法</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/05-Redux之浅析中间件.html" class="sidebar-link">Redux之浅析中间件</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/06-Redux之源码分析.html" class="sidebar-link">Redux之源码分析</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/07-Redux之异步Action及操作.html" class="sidebar-link">Redux之异步Action及操作</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/08-浅析中间件.html" class="sidebar-link">浅析中间件</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/09-react结合redux实战.html" class="sidebar-link">react结合redux实战</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/10-Immutable总结.html" class="sidebar-link">Immutable总结</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/11-React16为什么要更改生命周期上.html" class="sidebar-link">React16为什么要更改生命周期上</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/12-React16为什么要更改生命周期下.html" class="active sidebar-link">React16为什么要更改生命周期下</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/principle-docs/react/12-React16为什么要更改生命周期下.html#进化的生命周期方法-react-16-生命周期工作流详解" class="sidebar-link">进化的生命周期方法：React 16 生命周期工作流详解</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/principle-docs/react/12-React16为什么要更改生命周期下.html#mounting-阶段-组件的初始化渲染-挂载" class="sidebar-link">Mounting 阶段：组件的初始化渲染（挂载）</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/principle-docs/react/12-React16为什么要更改生命周期下.html#updating-阶段-组件的更新" class="sidebar-link">Updating 阶段：组件的更新</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/principle-docs/react/12-React16为什么要更改生命周期下.html#unmounting-阶段-组件的卸载" class="sidebar-link">Unmounting 阶段：组件的卸载</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/principle-docs/react/12-React16为什么要更改生命周期下.html#透过现象看本质-react-16-缘何两次求变" class="sidebar-link">透过现象看本质：React 16 缘何两次求变</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/principle-docs/react/12-React16为什么要更改生命周期下.html#fiber-架构简析" class="sidebar-link">Fiber 架构简析</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/principle-docs/react/12-React16为什么要更改生命周期下.html#换个角度看生命周期工作流" class="sidebar-link">换个角度看生命周期工作流</a></li><li class="sidebar-sub-header"><a href="/FE-Interview-Questions/principle-docs/react/12-React16为什么要更改生命周期下.html#细说生命周期-废旧立新-背后的思考" class="sidebar-link">细说生命周期“废旧立新”背后的思考</a></li></ul></li></ul></li><li><a href="/FE-Interview-Questions/principle-docs/react/13-React Hooks 设计动机与工作模式.html" class="sidebar-link">React Hooks 设计动机与工作模式</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/14-深入 React Hooks 工作机制.html" class="sidebar-link">深入 React Hooks 工作机制</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/15-真正理解虚拟DOM.html" class="sidebar-link">真正理解虚拟DOM</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/16-React 中的“栈调和” Stack Reconciler 过程是怎样的.html" class="sidebar-link">React 中的“栈调和” Stack Reconciler 过程是怎样的</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/17-setState 到底是同步的，还是异步的.html" class="sidebar-link">setState 到底是同步的，还是异步的</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/18-如何理解 Fiber 架构的迭代动机与设计思想.html" class="sidebar-link">如何理解 Fiber 架构的迭代动机与设计思想</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/19-ReactDOM.render 是如何串联渲染链路的.html" class="sidebar-link">ReactDOM.render 是如何串联渲染链路的</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/20-剖析 Fiber 架构下 Concurrent 模式的实现原理.html" class="sidebar-link">剖析 Fiber 架构下 Concurrent 模式的实现原理</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/21-React 事件与 DOM 事件有何不同.html" class="sidebar-link">React 事件与 DOM 事件有何不同</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/22-揭秘 Redux 设计思想与工作原理.html" class="sidebar-link">揭秘 Redux 设计思想与工作原理</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/23-从 Redux 中间件实现原理切入，理解“面向切面编程”.html" class="sidebar-link">从 Redux 中间件实现原理切入，理解“面向切面编程”</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/24-如何打造高性能的 React 应用.html" class="sidebar-link">如何打造高性能的 React 应用</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/25-跟 React 学设计模式.html" class="sidebar-link">跟 React 学设计模式</a></li><li><a href="/FE-Interview-Questions/principle-docs/react/26-React全部api解读.html" class="sidebar-link">React全部api解读</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FE-Interview-Questions/principle-docs/webpack/01-Webpack4打包机制原理解析.html" class="sidebar-link">Webpack4打包机制原理解析</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/02-webpack中的HMR热更新原理剖析.html" class="sidebar-link">webpack中的HMR热更新原理剖析</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/03-从源码窥探Webpack4.x原理.html" class="sidebar-link">从源码窥探Webpack4.x原理</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/04-实现webpack小型打包工具.html" class="sidebar-link">实现webpack小型打包工具</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/05-Babel原理及其使用.html" class="sidebar-link">Babel原理及其使用</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/06-Webpack 与 Rollup 二者之间该如何选择.html" class="sidebar-link">Webpack 与 Rollup 二者之间该如何选择</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/07-前端构建新玩法 Vite 上手与思考.html" class="sidebar-link">前端构建新玩法 Vite 上手与思考</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/08-利用 Webpack CodeSplitting 完成复杂应用拆包.html" class="sidebar-link">利用 Webpack CodeSplitting 完成复杂应用拆包</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/09-玩转 Webpack 的 TreeShaking 与 sideEffects 特性.html" class="sidebar-link">玩转 Webpack 的 TreeShaking 与 sideEffects 特性</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/10-如何配置 Webpack SourceMap 的最佳实践.html" class="sidebar-link">如何配置 Webpack SourceMap 的最佳实践</a></li><li><a href="/FE-Interview-Questions/principle-docs/webpack/11-Webpack 运行机制与核心工作原理.html" class="sidebar-link">Webpack 运行机制与核心工作原理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Node</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FE-Interview-Questions/principle-docs/node/01-Node事件循环机制原理.html" class="sidebar-link">Node事件循环机制原理</a></li><li><a href="/FE-Interview-Questions/principle-docs/node/02-express详细使用.html" class="sidebar-link">express详细使用</a></li><li><a href="/FE-Interview-Questions/principle-docs/node/03-koa基本用法.html" class="sidebar-link">koa基本用法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>综合</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/01-虚拟DOM原理分析.html" class="sidebar-link">虚拟DOM原理分析</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/02-setTimeout实现原理和使用注意.html" class="sidebar-link">setTimeout实现原理和使用注意</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/03-浅析Promise原理.html" class="sidebar-link">浅析Promise原理</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/04-浏览器渲染原理.html" class="sidebar-link">浏览器渲染原理</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/05-前端面试之MVVM浅析.html" class="sidebar-link">前端面试之MVVM浅析</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/06-前端面试之组件化.html" class="sidebar-link">前端面试之组件化</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/07-虚拟DOM（一）.html" class="sidebar-link">虚拟DOM（一）</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/08-虚拟DOM（二）.html" class="sidebar-link">虚拟DOM（二）</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/09-前端性能之Performance.html" class="sidebar-link">前端性能之Performance</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/10-小程序开发实践.html" class="sidebar-link">小程序开发实践</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/11-对比 Koa 和 Redux-分析前端中的中间件理念.html" class="sidebar-link">对比 Koa 和 Redux</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/12-正则完整篇.html" class="sidebar-link">正则完整篇</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/13-打造前端监控系统.html" class="sidebar-link">打造前端监控系统</a></li><li><a href="/FE-Interview-Questions/principle-docs/comprehensive/14-浏览器渲染机制.html" class="sidebar-link">浏览器渲染机制</a></li></ul></section></li></ul> </aside> <main class="page"> <div id="container" class="theme-default-content lock"><div class="content__default"><h2 id="进化的生命周期方法-react-16-生命周期工作流详解"><a href="#进化的生命周期方法-react-16-生命周期工作流详解" class="header-anchor">#</a> 进化的生命周期方法：React 16 生命周期工作流详解</h2> <blockquote><p>来源于：<a href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram" target="_blank" rel="noopener noreferrer">https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p><img src="http://img-repo.poetries.top/images/20210428184607.png" alt=""></p> <blockquote><p>在React 16.4之后，React 生命周期在之前版本的基础上又经历了一次微调，其实就调在了更新过程的<code>getDerivedStateFromProps</code> 这个生命周期上</p></blockquote> <p><img src="http://img-repo.poetries.top/images/20210428184635.png" alt=""></p> <p>这里我先提供一个 Demo，它将辅助你理解新的生命周期。Demo 代码如下</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&quot;react-dom&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 定义子组件</span>
<span class="token keyword">class</span> <span class="token class-name">LifeCycle</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;进入constructor&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// state 可以在 constructor 里初始化</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;子组件的文本&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 初始化/更新时调用</span>
  <span class="token keyword">static</span> <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;getDerivedStateFromProps方法执行&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">fatherText</span><span class="token operator">:</span> props<span class="token punctuation">.</span>text
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 初始化渲染时调用</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;componentDidMount方法执行&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 组件更新时调用</span>
  <span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token parameter">prevProps<span class="token punctuation">,</span> nextState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;shouldComponentUpdate方法执行&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 组件更新时调用</span>
  <span class="token function">getSnapshotBeforeUpdate</span><span class="token punctuation">(</span><span class="token parameter">prevProps<span class="token punctuation">,</span> prevState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;getSnapshotBeforeUpdate方法执行&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;haha&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 组件更新后调用</span>
  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token parameter">preProps<span class="token punctuation">,</span> preState<span class="token punctuation">,</span> valueFromSnapshot</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;componentDidUpdate方法执行&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;从 getSnapshotBeforeUpdate 获取到的值是&quot;</span><span class="token punctuation">,</span> valueFromSnapshot<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 组件卸载时调用</span>
  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;子组件的componentWillUnmount方法执行&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 点击按钮，修改子组件文本内容的方法</span>
  <span class="token function-variable function">changeText</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;修改后的子组件文本&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;render方法执行&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;container&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>changeText<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">&quot;changeText&quot;</span><span class="token operator">&gt;</span>
          修改子组件文本内容
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p className<span class="token operator">=</span><span class="token string">&quot;textContent&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p className<span class="token operator">=</span><span class="token string">&quot;fatherContent&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 定义 LifeCycle 组件的父组件</span>
<span class="token keyword">class</span> <span class="token class-name">LifeCycleContainer</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>

  <span class="token comment">// state 也可以像这样用属性声明的形式初始化</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;父组件的文本&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hideChild</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 点击按钮，修改父组件文本的方法</span>
  <span class="token function-variable function">changeText</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;修改后的父组件文本&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 点击按钮，隐藏（卸载）LifeCycle 组件的方法</span>
  <span class="token function-variable function">hideChild</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">hideChild</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;fatherContainer&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>changeText<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">&quot;changeText&quot;</span><span class="token operator">&gt;</span>
          修改父组件文本内容
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>hideChild<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">&quot;hideChild&quot;</span><span class="token operator">&gt;</span>
          隐藏子组件
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>hideChild <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> <span class="token operator">&lt;</span>LifeCycle text<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>text<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>LifeCycleContainer <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>React 16 以来的生命周期也可以按照“挂载”“更新”和“卸载”三个阶段来看，所以接下来我们要做的事情仍然是分阶段拆解工作流程。</p> <h2 id="mounting-阶段-组件的初始化渲染-挂载"><a href="#mounting-阶段-组件的初始化渲染-挂载" class="header-anchor">#</a> <code>Mounting 阶段</code>：组件的初始化渲染（挂载）</h2> <p>为了凸显 16 和 15 两个版本生命周期之间的差异，我将两个流程绘制到了同一张大图里，请看下面这张图：</p> <p><img src="http://img-repo.poetries.top/images/20210428172751.png" alt=""></p> <p>运行示例代码</p> <p><img src="http://img-repo.poetries.top/images/20210428172830.png" alt=""></p> <p><strong>消失的 componentWillMount，新增的 getDerivedStateFromProps</strong></p> <p>从上图中不难看出，<code>React 15</code> 生命周期和 <code>React 16.3</code> 生命周期在<strong>挂载阶段的主要差异在于</strong>，<code>废弃了 componentWillMount，新增了 getDerivedStateFromProps</code></p> <blockquote><p>注：细心的你可能记得，<code>React 16 对 render 方法也进行了一些改进</code>。React 16 之前，<code>render方法必须返回单个元素</code>，而 React 16 <code>允许我们返回元素数组和字符串</code></p></blockquote> <p><strong>getDerivedStateFromProps 不是 componentWillMount 的替代品</strong></p> <blockquote><p>事实上，<code>componentWillMount</code> 的存在不仅“鸡肋”而且危险，因此它并不值得被“代替”，它就应该被废弃</p></blockquote> <ul><li>而 <code>getDerivedStateFromProps</code> 这个 API，其设计的初衷不是试图替换掉 <code>componentWillMount</code>，而是试图替换<code>componentWillReceiveProps</code>，因此它有且仅有一个用途：<code>使用 props 来派生/更新 state</code></li> <li>React 团队为了确保 <code>getDerivedStateFromProps</code> 这个生命周期的纯洁性，直接从命名层面约束了它的用途（<code>getDerivedStateFromProps</code> 直译过来就是“<code>从 Props 里派生 State</code>”）。所以，如果你不是出于这个目的来使用 <code>getDerivedStateFromProps</code>，原则上来说都是不符合规范的</li></ul> <blockquote><p>值得一提的是，<code>getDerivedStateFromProps</code> 在<code>更新和挂载两个阶段</code>都会“出镜”（这点不同于仅在更新阶段出现的 <code>componentWillReceiveProps</code>）。这是因为“派生 state”这种诉求不仅在 <code>props</code> 更新时存在，在 <code>props</code> 初始化的时候也是存在的</p></blockquote> <p><strong>认识 getDerivedStateFromProps</strong></p> <p>这个新生命周期方法的调用规则如下：<code>static getDerivedStateFromProps(props, state)</code></p> <p>在使用层面，你需要把握三个重点。</p> <p><strong>第一个重点是最特别的一点</strong>：<code>getDerivedStateFromProps</code> 是一个静态方法。静态方法不依赖组件实例而存在，因此你在这个方法内部是访问不到 <code>this</code> 的。若你偏要尝试这样做，必定报错，报错形式如下图所示：</p> <p><img src="http://img-repo.poetries.top/images/20210428183642.png" alt=""></p> <p><strong>第二个重点，该方法可以接收两个参数：props 和 state</strong>，它们分别代表当前组件接收到的来自父组件的 <code>props</code> 和当前组件自身的 <code>state</code>。我们可以尝试在 Demo 中输出这两个参数看一看，输出效果如下图所示：</p> <p><img src="http://img-repo.poetries.top/images/20210428183744.png" alt=""></p> <p>可以看出，挂载阶段输出的 <code>props</code> 正是初始化阶段父组件传进来的 <code>this.props</code> 对象；而 <code>state</code> 是 <code>LifeCycle</code> 组件自身的 <code>state</code> 对象</p> <p><strong>第三个重点，getDerivedStateFromProps 需要一个对象格式的返回值</strong>。如果你没有指定这个返回值，那么大概率会被 React 警告一番，警告内容如下图所示：</p> <p><img src="http://img-repo.poetries.top/images/20210428183909.png" alt=""></p> <blockquote><p><code>getDerivedStateFromProps</code> 的返回值之所以不可或缺，是因为 React 需要用这个返回值来更新（派生）组件的 <code>state</code>。因此当你确实不存在“使用 <code>props 派生 state</code> ”这个需求的时候，最好是直接省略掉这个生命周期方法的编写，否则一定记得给它 <code>return</code> 一个 <code>null</code></p></blockquote> <p>注意，<code>getDerivedStateFromProps</code> 方法对 <code>state</code> 的更新动作并非“覆盖”式的更新，而是针对某个属性的定向更新。比如这里我们在 <code>getDerivedStateFromProps</code> 里返回的是这样一个对象，对象里面有一个 <code>fatherText</code> 属性用于表示“父组件赋予的文本”：</p> <div class="language- extra-class"><pre class="language-text"><code>{
  fatherText: props.text
}
</code></pre></div><p>该对象并不会替换掉组件原始的这个 <code>state</code>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;子组件的文本&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>而是仅仅针对 <code>fatherText</code> 这个属性作更新（这里原有的 <code>state</code> 里没有 <code>fatherText</code>，因此直接新增）。更新后，原有属性与新属性是共存的，如下图所示</p></blockquote> <p><img src="http://img-repo.poetries.top/images/20210428184212.png" alt=""></p> <h2 id="updating-阶段-组件的更新"><a href="#updating-阶段-组件的更新" class="header-anchor">#</a> Updating 阶段：组件的更新</h2> <p>React 15 与 React 16.3 的更新流程对比如下图所示：</p> <p><img src="http://img-repo.poetries.top/images/20210428185041.png" alt=""></p> <blockquote><p><code>React 16.4</code> 对生命周期流程进行了“微调”，其实就调在了更新过程的 <code>getDerivedStateFromProps</code> 这个生命周期上</p></blockquote> <p><img src="http://img-repo.poetries.top/images/20210428185206.png" alt=""></p> <p><code>React 16.4</code> 的挂载和卸载流程都是与 <code>React 16.3</code> 保持一致的，差异在于更新流程上：</p> <ul><li>在 <code>React 16.4</code> 中，任何因素触发的组件更新流程（包括由 <code>this.setState</code> 和 <code>forceUpdate</code> 触发的更新流程）都会触发 <code>getDerivedStateFromProps</code>；</li> <li>而在 <code>v 16.3</code> 版本时，<code>只有父组件的更新会触发该生命周期</code>。</li></ul> <p>到这里，你已经对 <code>getDerivedStateFromProps</code> 相关的改变有了充分的了解。接下来，我们就基于这层了解，问出生命周期改变背后的第一个“Why”。</p> <p><strong>1. 改变背后的第一个“Why”：为什么要用 getDerivedStateFromProps 代替 componentWillReceiveProps？</strong></p> <p>对于 <code>getDerivedStateFromProps</code> 这个 API，React 官方曾经给出过这样的描述</p> <blockquote><p>与 <code>componentDidUpdate</code> 一起，这个新的生命周期涵盖过时<code>componentWillReceiveProps</code> 的所有用例</p></blockquote> <p>在这里，请你细细品味这句话，这句话里蕴含了下面两个关键信息：</p> <ul><li><code>getDerivedStateFromProps</code> 是作为一个试图代替 <code>componentWillReceiveProps</code> 的 API 而出现的；</li> <li><code>getDerivedStateFromProps</code> 不能完全和 <code>componentWillReceiveProps</code> 画等号，其特性决定了我们曾经在 <code>componentWillReceiveProps</code> 里面做的事情，不能够百分百迁移到<code>getDerivedStateFromProps</code> 里。</li></ul> <p>接下来我们就展开说说这两点。</p> <ul><li>关于 <code>getDerivedStateFromProps</code> 是如何代替 <code>componentWillReceiveProps</code> 的，在“挂载”环节已经讨论过：<code>getDerivedStateFromProps</code> 可以代替 <code>componentWillReceiveProps</code> 实现基于 <code>props 派生 state</code>。</li> <li>至于它为何不能完全和 <code>componentWillReceiveProps</code> 画等号，则是因为它过于“专注”了。这一点，单单从<code>getDerivedStateFromProps</code> 这个 API 名字上也能够略窥一二。原则上来说，它能做且只能做这一件事</li></ul> <blockquote><p><code>getDerivedStateFromProps</code> 生命周期替代 <code>componentWillReceiveProps</code> 的背后，是 React 16 在强制推行“只用 <code>getDerivedStateFromProps</code> 来完成 <code>props 到 state</code> 的映射”这一最佳实践。确保生命周期函数的行为更加可控可预测，从根源上帮开发者避免不合理的编程方式，避免生命周期的滥用；同时，也是在为新的 Fiber 架构铺路</p></blockquote> <p><strong>2. 消失的 componentWillUpdate 与新增的 getSnapshotBeforeUpdate</strong></p> <p>咱们先来看看 <code>getSnapshotBeforeUpdate</code> 是什么：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">getSnapshotBeforeUpdate</span><span class="token punctuation">(</span><span class="token parameter">prevProps<span class="token punctuation">,</span> prevState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>这个方法和 <code>getDerivedStateFromProps</code> 颇有几分神似，它们都强调了“我需要一个返回值”这回事。<code>区别在于 getSnapshotBeforeUpdate 的返回值会作为第三个参数给到 componentDidUpdate</code>。它的<code>执行时机是在 render 方法之后，真实 DOM 更新之前</code>。在这个阶段里，我们可以同时获取到更新前的真实 DOM 和更新前后的 <code>state&amp;props</code> 信息</p></blockquote> <p>尽管在实际工作中，需要用到这么多信息的场景并不多，但在对于实现一些特殊的需求来说，没它还真的挺难办。这里我举一个非常有代表性的例子：实现一个内容会发生变化的滚动列表，要求根据滚动列表的内容是否发生变化，来决定是否要记录滚动条的当前位置。</p> <p>这个需求的前半截要求我们对比更新前后的数据（感知变化），后半截则需要获取真实的 DOM 信息（获取位置），这时用 <code>getSnapshotBeforeUpdate</code> 来解决就再合适不过了。</p> <p>对于这个生命周期，<code>需要重点把握的是它与 componentDidUpdate 间的通信过程</code>。在 Demo 中我给出了一个使用示例，它将帮助你更加具体地认知这个过程。代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 组件更新时调用</span>
<span class="token function">getSnapshotBeforeUpdate</span><span class="token punctuation">(</span><span class="token parameter">prevProps<span class="token punctuation">,</span> prevState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;getSnapshotBeforeUpdate方法执行&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token string">&quot;haha&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 组件更新后调用</span>
<span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token parameter">prevProps<span class="token punctuation">,</span> prevState<span class="token punctuation">,</span> valueFromSnapshot</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;componentDidUpdate方法执行&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;从 getSnapshotBeforeUpdate 获取到的值是&quot;</span><span class="token punctuation">,</span> valueFromSnapshot<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>现在我们点击 Demo 界面上“修改子组件文本内容”按钮，就可以看到这两个生命周期的通信效果，如下图所示：</p> <p><img src="http://img-repo.poetries.top/images/20210428190634.png" alt=""></p> <p>值得一提的是，这个生命周期的设计初衷，是为了“与 <code>componentDidUpdate</code> 一起，涵盖过时的 <code>componentWillUpdate</code> 的所有用例”（引用自 React 官网）。<code>getSnapshotBeforeUpdate</code> 要想发挥作用，离不开 <code>componentDidUpdate</code> 的配合</p> <p>那么换个角度想想，为什么 <code>componentWillUpdate</code> 就非死不可呢？说到底，还是因为它“挡了 Fiber 的路”。</p> <h2 id="unmounting-阶段-组件的卸载"><a href="#unmounting-阶段-组件的卸载" class="header-anchor">#</a> Unmounting 阶段：组件的卸载</h2> <p>我们先继续把完整的生命周期流程走完，以下是组件卸载阶段的示意图：</p> <p><img src="http://img-repo.poetries.top/images/20210428191042.png" alt=""></p> <p>卸载阶段的生命周期与 <code>React 15</code> 完全一致，只涉及 <code>componentWillUnmount</code> 这一个生命周期，此处不再重复讲解。</p> <h2 id="透过现象看本质-react-16-缘何两次求变"><a href="#透过现象看本质-react-16-缘何两次求变" class="header-anchor">#</a> 透过现象看本质：React 16 缘何两次求变</h2> <h3 id="fiber-架构简析"><a href="#fiber-架构简析" class="header-anchor">#</a> Fiber 架构简析</h3> <p><code>Fiber</code> 是 <code>React 16 对 React 核心算法的一次重写</code>。关于 <code>Fiber</code>，你只需要 <code>get</code> 到这一个点：<code>Fiber 会使原本同步的渲染过程变成异步的</code></p> <blockquote><p>在 React 16 之前，每当我们触发一次组件的更新，React 都会构建一棵新的虚拟 DOM 树，通过与上一次的虚拟 DOM 树进行 diff，实现对 DOM 的定向更新。这个过程，是一个递归的过程。下面这张图形象地展示了这个过程的特征</p></blockquote> <p><img src="http://img-repo.poetries.top/images/20210428191428.png" alt=""></p> <p>如图所示，<code>同步渲染的递归调用栈是非常深的，只有最底层的调用返回了</code>，整个渲染过程才会开始逐层返回。这个漫长且不可打断的更新过程，将会带来用户体验层面的巨大风险：同步渲染一旦开始，便会牢牢抓住主线程不放，直到递归彻底完成。在这个过程中，浏览器没有办法处理任何渲染之外的事情，会进入一种无法处理用户交互的状态。因此若渲染时间稍微长一点，页面就会面临卡顿甚至卡死的风险。</p> <p>而 <code>React 16 引入的 Fiber 架构</code>，恰好能够解决掉这个风险：<code>Fiber</code> 会<code>将一个大的更新任务拆解为许多个小任务</code>。每当执行完一个小任务时，渲染线程都会把主线程交回去，看看有没有优先级更高的工作要处理，确保不会出现其他任务被“饿死”的情况，进而避免同步渲染带来的卡顿。在这个过程中，渲染线程不再“一去不回头”，而是可以被打断的，这就是所谓的“异步渲染”，它的执行过程如下图所示：</p> <p><img src="http://img-repo.poetries.top/images/20210428191535.png" alt=""></p> <h3 id="换个角度看生命周期工作流"><a href="#换个角度看生命周期工作流" class="header-anchor">#</a> 换个角度看生命周期工作流</h3> <blockquote><p><code>Fiber 架构的重要特征就是可以被打断的异步渲染模式</code>。但这个“打断”是有原则的，根据“能否被打断”这一标准，React 16 的生命周期被<code>划分为了 render 和 commit 两个阶段</code>，而 <code>commit 阶段又被细分为了 pre-commit 和 commit</code>。每个阶段所涵盖的生命周期如下图所示</p></blockquote> <p><img src="http://img-repo.poetries.top/images/20210428191629.png" alt=""></p> <p>我们先来看下三个阶段各自有哪些特征</p> <ul><li><code>render 阶段</code>：纯净且没有副作用，可能会被 <code>React 暂停、终止或重新启动</code>。</li> <li><code>pre-commit 阶段</code>：可以读取 <code>DOM</code></li> <li><code>commit 阶段</code>：可以使用 <code>DOM</code>，运行副作用，安排更新</li></ul> <blockquote><p>总的来说，<code>render 阶段在执行过程中允许被打断，而 commit 阶段则总是同步执行的</code></p></blockquote> <p>为什么这样设计呢？简单来说，<code>由于 render 阶段的操作对用户来说其实是“不可见”的，所以就算打断再重启，对用户来说也是零感知</code>。而 <code>commit 阶段的操作则涉及真实 DOM 的渲染</code>，再狂的框架也不敢在用户眼皮子底下胡乱更改视图，所以这个过程必须用同步渲染来求稳。</p> <h3 id="细说生命周期-废旧立新-背后的思考"><a href="#细说生命周期-废旧立新-背后的思考" class="header-anchor">#</a> 细说生命周期“废旧立新”背后的思考</h3> <blockquote><p><code>在 Fiber 机制下，render 阶段是允许暂停、终止和重启的</code>。当一个任务执行到一半被打断后，下一次渲染线程抢回主动权时，这个任务被重启的形式是“重复执行一遍整个任务”而非“接着上次执行到的那行代码往下走”。这就导致 render 阶段的生命周期都是有可能被重复执行的</p></blockquote> <p><strong>带着这个结论，我们再来看看 React 16 打算废弃的是哪些生命周期</strong>：</p> <ul><li><code>componentWillMount</code>；</li> <li><code>componentWillUpdate</code>；</li> <li><code>componentWillReceiveProps</code></li></ul> <p>这些生命周期的共性，就是它们都处于 <code>render 阶段</code>，都可能重复被执行，而且由于这些 API 常年被滥用，它们在重复执行的过程中都存在着不可小觑的风险。</p> <blockquote><p>“componentWill”开头的生命周期里，你习惯于做的事情可能包括但不限于:</p></blockquote> <ul><li><code>setState()</code>；</li> <li><code>fetch</code>发起异步请求；</li> <li>操作真实 DOM</li></ul> <p>这些操作的问题（或不必要性）包括但不限于以下 3 点</p> <ol><li>完全可以转移到其他生命周期（尤其是 <code>componentDidxxx</code>）里去做。</li></ol> <p>比如在 <code>componentWillMount</code> 里发起异步请求。很多同学因为太年轻，以为这样做就可以让异步请求回来得“早一点”，从而避免首次渲染白屏。</p> <p>可惜你忘了，异步请求再怎么快也快不过（<code>React 15</code> 下）同步的生命周期。<code>componentWillMount</code> 结束后，<code>render</code> 会迅速地被触发，所以说首次渲染依然会在数据返回之前执行。这样做不仅没有达到你预想的目的，还会导致服务端渲染场景下的冗余请求等额外问题，得不偿失。</p> <ol start="2"><li>在 Fiber 带来的异步渲染机制下，可能会导致非常严重的 Bug。</li></ol> <p>试想，假如你在 <code>componentWillxxx</code> 里发起了一个付款请求。由于 <code>render</code> 阶段里的生命周期都可以重复执行，在 <code>componentWillxxx</code> 被打断 + 重启多次后，就会发出多个付款请求。</p> <p>比如说，这件商品单价只要 10 块钱，用户也只点击了一次付款。但实际却可能因为 <code>componentWillxxx</code> 被打断 + 重启多次而多次调用付款接口，最终付了 50 块钱；又或者你可能会习惯在 <code>componentWillReceiveProps</code> 里操作 DOM（比如说删除符合某个特征的元素），那么 <code>componentWillReceiveProps</code> 若是执行了两次，你可能就会一口气删掉两个符合该特征的元素。</p> <p>结合上面的分析，我们再去思考 <code>getDerivedStateFromProps</code> 为何会在设计层面直接被约束为一个触碰不到 <code>this</code> 的静态方法，其背后的原因也就更加充分了——避免开发者触碰 this，就是在避免各种危险的骚操作。</p> <ol start="3"><li>即使你没有开启异步，<code>React 15</code> 下也有不少人能把自己“玩死”。</li></ol> <p>比如在 <code>componentWillReceiveProps</code>  和 <code>componentWillUpdate</code> 里滥用 <code>setState 导致重复渲染死循环的</code>，大家都懂</p> <blockquote><p>总的来说，<code>React 16 改造生命周期的主要动机是为了配合 Fiber 架构带来的异步渲染机制</code>。在这个改造的过程中，React 团队精益求精，针对生命周期中长期被滥用的部分推行了具有强制性的最佳实践。这一系列的工作做下来，首先是确保了 Fiber 机制下数据和视图的安全性，同时也确保了生命周期方法的行为更加纯粹、可控、可预测。</p></blockquote></div> <!----> <div class="readMore-wrapper"><span class="readMore">阅读全文</span></div></div> <div class="right-bar" style="display:none"><img src="http://img-repo.poetries.top/images/20211218210701.png" class="close"> <div class="item"><span class="title">前端进阶公众号</span> <span class="desc">每天分享前端技术干货</span> <img width="100%" alt="公众号「前端进阶之旅」" src="http://img-repo.poetries.top/images/20211001080240.png"></div> <!----> <!----></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/FE-Interview-Questions/principle-docs/react/11-React16为什么要更改生命周期上.html" class="prev">React16为什么要更改生命周期上</a></span> <span class="next"><a href="/FE-Interview-Questions/principle-docs/react/13-React Hooks 设计动机与工作模式.html">React Hooks 设计动机与工作模式</a>
      →
    </span></p></div>  <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="购买会员" class="el-dialog el-dialog--center" style="margin-top:15vh;width:32%;"><div class="el-dialog__header"><span class="el-dialog__title">购买会员</span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><div class="el-dialog__footer"><span class="dialog-footer"><!----> <!----> <button type="button" class="el-button el-button--danger" style="width:100%;"><!----><!----><span>我已完成支付？下一步，去上传记录</span></button></span></div></div></div> <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="微信扫码登录" class="el-dialog el-dialog--center" style="margin-top:15vh;width:30%;"><div class="el-dialog__header"><span class="el-dialog__title">微信扫码登录</span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><!----></div></div> <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="站点迁移通知" class="el-dialog el-dialog--center" style="margin-top:15vh;width:30%;"><div class="el-dialog__header"><span class="el-dialog__title">站点迁移通知</span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><!----></div></div> <div class="location" data-v-5743fb1b><!----> <div class="el-tooltip item item" data-v-5743fb1b data-v-5743fb1b><img src="data:image/png;base64,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" class="pic" data-v-5743fb1b></div> <a href="http://nav.poetries.top" target="_blank" data-v-5743fb1b><div class="el-tooltip item item" data-v-5743fb1b data-v-5743fb1b><img src="data:image/png;base64,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" class="pic" data-v-5743fb1b></div></a> <!----> <div class="el-tooltip item item" style="display:none;" data-v-5743fb1b data-v-5743fb1b><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABMZJREFUeF7tWk2IHFUQrhpmEcR4EFQwl+DBg4dAUAKKh4hiMCwJGiJGUDK786p7VzaIJhdFzB5UMAYxkMWuN+NGFxQEFY0QFUNyyEGIHjwoKIKelBgQBZVdmHklFXqWtt3d6Tfduw3b/WAPO1O/39SrqlfvIVR8YcX9hxqAOgIqjkC9BSoeAHUSLG0LtFqtG5vN5nsagb1e75H5+fkrZURjaQAYY6YR8ZQ6LSJPWmvnKgUAER0DgBdip2eZWf/f8FVaBNQA1BFQ8S3Qbrd3NRqN87rpnXP3djqdCxueAADK7QPa7fYd6nSn0/m6DOdVp3cSNMbsRsQ3AOAPRDwZRdF8WcarXiJ6GQAeFZGfFxcXxxcWFv72sccbACI6CgCvJJQcY+ZZH6VF0M7MzFyztLT0JgA8NpAnIjuttZd85HsDEATB7SLybVIJItooiiiL4unp6et6vd7dInIzAOifrsuIeBkALjLzP8PktFqtW8fGxt4CgHsStJeYeecw3vT33gCogDiBaehvSwg8wcxHVjOAiNoA8DAAPDjEyA8A4Cwzd1ajM8acR8Rdie8/BYAJZv51QwBQJcaY2wAgGhiCiKejKGqlDTDG7EXEwwBwn6dx50TkpLX24zQfEf2UAJ+ZOfCUvUw+UgQMuCcmJrY0m81ZEdkhIrPpUkZEzwLAi6Map3yI+G4URcv7PAb/EAAcQEQN+1wtdC4A1nKMiCSP42leZl4XW9dFaBAE74jIwSIBAIDnmPmlgmX69wHDDIj3/EfD6Eb5XkT2rZQTRpE14Ck8AojoixESXlYfzjHz/VmJs9AVCkBc6mwWxTlozFol0ldu0QC8H9d6Xzt86LVH2OPDsBZtYQAQ0bUA4NWHj+pEs9ncMjc399eo/Em+TAAYYw4hYrLr0yPshWTdJ6IHAOCzIozKIGM3M38+oAvDcIdzbt8KpXNojzAUgNTo6j86kud4Y8zjiPh2BuNzk4jIE9baBRUUhuE255x2hiutM8y8N9cWICIdXR9YSUhymmuMOYKIx3N7l0GAiBy11r6qpFNTU9v7/f43q9h3xVp7Uy4AlJmIIhHR3n95IeInzHxi8EFZAKj+IAhmnHN60EqvwFr7Q24AMvwoejgqZQtksW1DACgzCeYBYWgSzCp8U5dBDxCq2wjFyVKnPtVthWMQqnsYUgAqfxyO63J1ByKDhFmJkVj8yuN5RJwBgP/d8a/XUJSIujoGF5EPEbHFzH9mrVRpupH7AL0bQMTXEXF7LPQXZt6aVrBOY3F1+PpY1/f9fn+82+3+OAoIIwGQfN6SUPo0M7+2mhEFX4ycQsTppC7n3F2dTudLXxC8AQjDcNw5dyapyGdYWcTVWFxuFeynUg7f4ns75A2AMWYCEXUP6voNAPYz80Vf5IugJ6JnAODqsViXiOyx1p71ke0NQBiGW51zhxFR9/vxKIpWPIv7GJGHNgiCgyLyEAB8N8otkTcAeYxN82oi1c/Keh2iuksDQF+HNBqNr9QI59ydZb0SKQ2A+plc/Uyu4s/kKr8F4suWqy/MRKRlrT1dZIXJKqu0JDg5OXlDo9HQEZpWgf3dbvf3rEYXSVcaAEU6kUdWDUAe9DYDbx0Bm+FXzONDHQF50NsMvJWPgH8BZ+4JX3pL2ngAAAAASUVORK5CYII=" class="pic" data-v-5743fb1b></div> <div class="el-tooltip item item" data-v-5743fb1b data-v-5743fb1b><img src="data:image/png;base64,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" class="pic" data-v-5743fb1b></div> <div class="el-tooltip item item" style="display:none;" data-v-5743fb1b data-v-5743fb1b><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAK9JREFUaEPtmEEOgCAMBOGzPIrP6s2o0UPpQgXHe7cwUwIxp8m/PPn6ExuINoiBzxoopWzRizv3r7U+TsvrCLEBsT4MiIGa4/5nwIwoqICLLAj80RYDGHASYIScAN3l6xrgNeoejmvA/95CjBAj5DwDYoDd4ta9B7ohEwdjQAzUHIcBMzJxAQbEQM1x/Nw1I2ss4DndCE5WhgEZysYgs4HGPsPLuMiGI781xAAGnAR2B4xIMbUdZB4AAAAASUVORK5CYII=" class="pic" data-v-5743fb1b></div> <div class="el-tooltip item item" data-v-5743fb1b data-v-5743fb1b><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAAAwCAYAAABHYrdbAAAAAXNSR0IArs4c6QAAAflJREFUaEPtmrFLwkEUx7/vcIugf6IIgigKIqqxttqKQIoGf6dLW+211i56CkIOQU6BW2MRREM0FLQFjQ1JrXIvTvsFhsYVxSm+m36Cvvfuw+f3/Hk+AgCtdYqZt4lo3L3uw/UIoJpIJA6y2ewTRVG0TkTHfQii3ZavACyQ1vocwLxAaRKw1k47KK8ABgVKkwAzLzooNwAmBEorlFUAJwKlScAYQ+QuUqnUlFIqycyT/QiHiGoAbo0xe27/DSiyWgkIlDZGCBSB4tcoxBQxRUzxIyCm+HGSniKmiCl+BMQUP07SU74zJYqiJBEN+7H8l3fVrLV3xWLx7F+i/yBowxSttTtPcecq3bD245/woYqhdDp9yMw7oQpol1cptZzL5aqhanLHkQ8ARkIV0CFvxRizFqomB+UFwFCoAjrkLRtjNkPV5KB0Uz9pcGDmzUKhUA4G5aPRHgHYCFXEl7zhG21ckNbaffuMBQTzppR6CNlg473Lw5s85vvdB2KKmCKm+BEQU/w4SU8RU8QUPwJiih8n6SliipjiR6CTKVrrGWbeAjD660g9/EGl1KO19rper1dKpdIzZTKZOWvtRQ/v6S9L/xwuPgWw8peRezlWPFzcjWe0wbjKcHEb9DEUGS5uhTMQ/0O4BMAN1s4G8zZs4hozXyqldvP5/P079iyQZczayqEAAAAASUVORK5CYII=" class="pic" data-v-5743fb1b></div></div></main></div><div class="global-ui"><!----></div></div>
    <script src="/FE-Interview-Questions/assets/js/app.c8c444d0.js" defer></script><script src="/FE-Interview-Questions/assets/js/5.0a8adfa7.js" defer></script><script src="/FE-Interview-Questions/assets/js/4.14705b15.js" defer></script><script src="/FE-Interview-Questions/assets/js/114.667e238e.js" defer></script><script src="/FE-Interview-Questions/assets/js/11.e87b5556.js" defer></script>
  </body>
</html>
